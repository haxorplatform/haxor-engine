'use strict';(function(){function B(a,b){function c(){}c.prototype=a;var d=new c,g;for(g in b)d[g]=b[g];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function Z(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=uc++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var m={},z=function(){};m.HxOverrides=z;z.__name__=
["HxOverrides"];z.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};z.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};z.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};z.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Gb=function(){};m["haxor.core.IDisposable"]=
Gb;Gb.__name__=["haxor","core","IDisposable"];Gb.prototype={__class__:Gb};var y=function(a){null==a&&(a="");this.m_uid=h.uid++;this.m_destroyed=!1;this.__cid=0;this.__db="";this.__pid=[-1,-1,-1,-1,-1,-1,-1,-1,-1];this.m_name=a;this.m_is_behaviour=F.__instanceof(this,W);this.m_type_class=Ja.getClass(this);this.m_type_full_name=Ja.getClassName(this.m_type_class);var b=this.m_type_full_name.split(".");b.reverse();this.m_type_name=b[0];this.m_name=""==a?this.m_type_name+this.m_uid:a;this.m_guid="";this.m_guid+=
x.hex(Math.floor(268435455*Math.random()));this.m_guid+=x.hex(Math.floor(268435455*Math.random()));this.m_guid+=x.hex(Math.floor(268435455*Math.random()));this.m_guid+=x.hex(Math.floor(268435455*Math.random()));h.resources.Add(this)};m["haxor.core.Resource"]=y;y.__name__=["haxor","core","Resource"];y.__interfaces__=[Gb];y.Destroy=function(a){""!=a.__db&&S.Remove(a.__db);h.Destroy(a)};y.prototype={get_application:function(){return Ka.m_instance},get_guid:function(){return this.m_guid},get_uid:function(){return this.m_uid},
get_name:function(){return this.m_name},set_name:function(a){return this.m_name=a},get_destroyed:function(){return this.m_destroyed},GetType:function(){return this.m_type_class},GetTypeName:function(){return this.m_type_name},GetTypeFullName:function(){return this.m_type_full_name},OnDestroy:function(){},__class__:y};var wa=function(a){y.call(this,a)};m["haxor.component.Component"]=wa;wa.__name__=["haxor","component","Component"];wa.__super__=y;wa.prototype=B(y.prototype,{get_name:function(){return this.m_entity.get_name()},
set_name:function(a){this.m_entity.set_name(a);return a},get_entity:function(){return this.m_entity},get_transform:function(){return this.m_entity.m_transform},AddComponent:function(a){return this.m_entity.AddComponent(a)},GetComponent:function(a){return this.m_entity.GetComponent(a)},GetComponents:function(a){return this.m_entity.GetComponents(a)},GetComponentInChildren:function(a){return this.m_entity.GetComponentInChildren(a)},GetComponentsInChildren:function(a){return this.m_entity.GetComponentsInChildren(a)},
OnBuild:function(){},OnTransformUpdate:function(){},OnVisibilityChange:function(a){},__class__:wa});var W=function(a){y.call(this,a)};m["haxor.component.Behaviour"]=W;W.__name__=["haxor","component","Behaviour"];W.__super__=wa;W.prototype=B(wa.prototype,{get_enabled:function(){return this.m_enabled&&!this.m_destroyed},set_enabled:function(a){if(this.m_destroyed)return!1;if(this.m_enabled==a)return a;(this.m_enabled=a)?h.Enable(this):h.Disable(this);return a},OnBuild:function(){wa.prototype.OnBuild.call(this);
this.m_is_behaviour=this.m_enabled=!0;h.Enable(this)},OnAwake:function(){},OnStart:function(){},__class__:W});var Ka=function(a){y.call(this,a)};m["haxor.core.BaseApplication"]=Ka;Ka.__name__=["haxor","core","BaseApplication"];Ka.__super__=W;Ka.prototype=B(W.prototype,{get_protocol:function(){return"file:"==window.location.protocol.toLowerCase()?na.File:"http:"==window.location.protocol.toLowerCase()?na.HTTP:"https:"==window.location.protocol.toLowerCase()?na.HTTPS:na.None},get_vendor:function(){if(null!=
this.m_vendor)return this.m_vendor;var a="";null!=window.msRequestAnimationFrame&&(a="-ms-");null!=window.oRequestAnimationFrame&&(a="-o-");null!=window.webkitRequestAnimationFrame&&(a="-webkit-");null!=window.mozRequestAnimationFrame&&(a="-moz-");return this.m_vendor=a},get_fps:function(){return this.m_fps},set_fps:function(a){var b=this.m_fps=a;60<=b&&(b=1E6);this.m_mspf=1/(1.25*b)*1E3;return a},get_platform:function(){return this.m_platform},OnBuild:function(){W.prototype.OnBuild.call(this);Ka.m_instance=
this;this.m_scenes=[];this.set_fps(60);this.m_frame_ms=0;this.m_init_allowed=!1;this.m_platform=U.Unknown;p.Initialize();C.Initialize(this);n.Initialize()},LoadScene:function(a){},DestroyScene:function(a){},Load:function(){return!0},Initialize:function(){},LoadComplete:function(){this.m_init_allowed=!0},Update:function(){p.Update();n.m_handler.Update();this.CheckResize();ha.Update();ha.Collect();n.m_handler.Clear()},Render:function(){this.m_init_allowed&&(q.Log("Application> Initialize.",3),this.Initialize(),
this.m_init_allowed=!1);p.m_clock-this.m_frame_ms>=this.m_mspf&&(this.m_frame_ms+=p.m_clock-this.m_frame_ms,p.Render(),e.m_gl.Focus(),ha.Render(),null)},OnQuit:function(){},OnFocus:function(){},OnUnfocus:function(){},CheckResize:function(){var a=!1;0<Math.abs(C.m_width-this.GetContainerWidth())&&(C.m_width=this.GetContainerWidth(),a=!0);0<Math.abs(C.m_height-this.GetContainerHeight())&&(C.m_height=this.GetContainerHeight(),a=!0);a&&this.OnResize()},OnResize:function(){q.Log("Application> Resize ["+
C.m_width+","+C.m_height+"]",6);e.m_gl.Resize();ha.Resize()},OnFullscreenEnter:function(){},OnFullscreenExit:function(){},OnFullscreenRequest:function(a){return!1},OnPointerLockRequest:function(a){return!1},OnPointerVisibilityRequest:function(a){return!1},OnMousePosition:function(a,b){},GetContainerWidth:function(){return 0},GetContainerHeight:function(){return 0},__class__:Ka});var Ua=function(){y.call(this,void 0);this.m_platform=U.HTML};m["haxor.platform.html.HTMLApplication"]=Ua;Ua.__name__=["haxor",
"platform","html","HTMLApplication"];Ua.__super__=Ka;Ua.prototype=B(Ka.prototype,{get_stage:function(){return K.m_instance},GetContainerWidth:function(){return this.m_container.clientWidth},GetContainerHeight:function(){return this.m_container.clientHeight},__class__:Ua});var gb=function(){Ua.call(this)};m["haxor.core.Application"]=gb;gb.__name__=["haxor","core","Application"];gb.__super__=Ua;gb.prototype=B(Ua.prototype,{__class__:gb});var Za=function(){};m["haxor.core.IRenderable"]=Za;Za.__name__=
["haxor","core","IRenderable"];Za.prototype={__class__:Za};var La=function(){};m["haxor.core.IUpdateable"]=La;La.__name__=["haxor","core","IUpdateable"];La.prototype={__class__:La};var $a=function(){this.queue=3;Ua.call(this)};m.Main=$a;$a.__name__=["Main"];$a.__interfaces__=[Za,La];$a.main=function(){Q.Initialize()};$a.__super__=gb;$a.prototype=B(gb.prototype,{Load:function(){var a=this;oa.root="http://www.haxor.xyz/resources/";oa.LoadCollada("./character/skeleton/grunt/animation_idle01.DAE",function(b,
c){1<=c&&(S.Add("animation_idle",b),0>=--a.queue&&a.LoadComplete())});oa.LoadTexture2D("./character/skeleton/grunt/DiffuseTexture.png",!0,function(b,c){1<=c&&(S.Add("texture_diffuse",b),0>=--a.queue&&a.LoadComplete())});oa.LoadCollada("./character/skeleton/grunt/model.DAE",function(b,c){1<=c&&(S.Add("model",b),0>=--a.queue&&a.LoadComplete())});return!1},Initialize:function(){q.Log("Initialize!");this.field=window.document.getElementById("field");var a=new Stats;a.domElement.style.position="absolute";
a.domElement.style.top="0px";window.document.body.appendChild(a.domElement);$.Run(function(b){a.update();return!0});this.orbit=Ma.Create(400,45,30);var b=this.orbit.m_entity.AddComponent(hb);this.orbit.smooth=5;b.zoomSpeed=.1;this.cam=this.orbit.m_entity.GetComponentInChildren(X);this.cam.set_far(1E3);this.cam.background=new v(.3,.3,.3);this.container=(new la("container")).get_transform();this.mat=da.Opaque(S.Get("texture_diffuse"),null,null);this.mat.set_shader(null==H.m_flat_texture_skin_shader?
H.m_flat_texture_skin_shader=new H(ia.flat_texture_skin_source):H.m_flat_texture_skin_shader);this.mat.set_name("PlayerMaterial");b=S.Get("model");this.player=(new la("player")).get_transform();F.__cast(b.get_asset(),la).get_transform().set_parent(this.player);for(var b=this.player.m_entity.GetComponentsInChildren(xa),c=0,d=b.length;c<d;){var g=c++;b[g].set_material(this.mat)}},OnUpdate:function(){var a;a="Stats\nVisible: "+T.visible;a+="\nCulled: "+T.culled;a+="\nActive: "+T.get_total();a+="\nRenderers: "+
T.renderers;a+="\nTris: "+T.triangles;if(null!=this.player){var b=this.player.get_localRotation(),b=D.FromAxisAngle(new s(0,1,0),33);this.player.set_localRotation(b)}null!=this.field&&(this.field.innerText=a)},OnRender:function(){e.m_gl.Clear(256)},__class__:$a});var Hb=function(){};m.IMap=Hb;Hb.__name__=["IMap"];Math.__name__=["Math"];var r=function(){};m.Std=r;r.__name__=["Std"];r.string=function(a){return F.__string_rec(a,"")};r["int"]=function(a){return a|0};r.parseInt=function(a){var b=parseInt(a,
10);0!=b||120!=z.cca(a,1)&&88!=z.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};r.parseFloat=function(a){return parseFloat(a)};var ab=function(){this.b=""};m.StringBuf=ab;ab.__name__=["StringBuf"];ab.prototype={add:function(a){this.b+=r.string(a)},addChar:function(a){this.b+=String.fromCharCode(a)},addSub:function(a,b,c){this.b=null==c?this.b+z.substr(a,b,null):this.b+z.substr(a,b,c)},__class__:ab};var x=function(){};m.StringTools=x;x.__name__=["StringTools"];x.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};x.isSpace=function(a,b){var c=z.cca(a,b);return 8<c&&14>c||32==c};x.ltrim=function(a){for(var b=a.length,c=0;c<b&&x.isSpace(a,c);)c++;return 0<c?z.substr(a,c,b-c):a};x.rtrim=function(a){for(var b=a.length,c=0;c<b&&x.isSpace(a,b-c-1);)c++;return 0<c?z.substr(a,0,b-c):a};x.trim=function(a){return x.ltrim(x.rtrim(a))};x.replace=function(a,b,c){return a.split(b).join(c)};x.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+
c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};x.fastCodeAt=function(a,b){return a.charCodeAt(b)};var Ja=function(){};m.Type=Ja;Ja.__name__=["Type"];Ja.getClass=function(a){return null==a?null:a instanceof Array&&null==a.__enum__?Array:a.__class__};Ja.getClassName=function(a){return a.__name__.join(".")};Ja.resolveClass=function(a){a=m[a];return null!=a&&a.__name__?a:null};Ja.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],
b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};var t=function(){};m.Xml=t;t.__name__=["Xml"];t.parse=function(a){return Na.parse(a)};t.createElement=function(a){var b=new t;b.nodeType=t.Element;b._children=[];b._attributes=
new Va;b.set_nodeName(a);return b};t.createPCData=function(a){var b=new t;b.nodeType=t.PCData;b.set_nodeValue(a);return b};t.createCData=function(a){var b=new t;b.nodeType=t.CData;b.set_nodeValue(a);return b};t.createComment=function(a){var b=new t;b.nodeType=t.Comment;b.set_nodeValue(a);return b};t.createDocType=function(a){var b=new t;b.nodeType=t.DocType;b.set_nodeValue(a);return b};t.createProcessingInstruction=function(a){var b=new t;b.nodeType=t.ProcessingInstruction;b.set_nodeValue(a);return b};
t.createDocument=function(){var a=new t;a.nodeType=t.Document;a._children=[];return a};t.prototype={get_nodeName:function(){if(this.nodeType!=t.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(a){if(this.nodeType!=t.Element)throw"bad nodeType";return this._nodeName=a},get_nodeValue:function(){if(this.nodeType==t.Element||this.nodeType==t.Document)throw"bad nodeType";return this._nodeValue},set_nodeValue:function(a){if(this.nodeType==t.Element||this.nodeType==t.Document)throw"bad nodeType";
return this._nodeValue=a},get:function(a){if(this.nodeType!=t.Element)throw"bad nodeType";return this._attributes.get(a)},set:function(a,b){if(this.nodeType!=t.Element)throw"bad nodeType";this._attributes.set(a,b)},exists:function(a){if(this.nodeType!=t.Element)throw"bad nodeType";return this._attributes.exists(a)},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},
elements:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,b=this.x.length;a<b&&this.x[a].nodeType!=t.Element;)a+=1;this.cur=a;return a<b},next:function(){for(var a=this.cur,b=this.x.length;a<b;){var c=this.x[a],a=a+1;if(c.nodeType==t.Element)return this.cur=a,c}return null}}},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,c=this.x.length;b<
c;){var d=this.x[b];if(d.nodeType==t.Element&&d._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var d=this.x[b];b++;if(d.nodeType==t.Element&&d._nodeName==a)return this.cur=b,d}return null}}},firstChild:function(){if(null==this._children)throw"bad nodetype";return this._children[0]},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==t.Element)return c;
a++}return null},addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&z.remove(a._parent._children,a);a._parent=this;this._children.push(a)},toString:function(){if(this.nodeType==t.PCData)return x.htmlEscape(this._nodeValue);if(this.nodeType==t.CData)return"<![CDATA["+this._nodeValue+"]]\x3e";if(this.nodeType==t.Comment)return"\x3c!--"+this._nodeValue+"--\x3e";if(this.nodeType==t.DocType)return"<!DOCTYPE "+this._nodeValue+">";if(this.nodeType==t.ProcessingInstruction)return"<?"+
this._nodeValue+"?>";var a=new ab;if(this.nodeType==t.Element){a.b+="<";a.b+=r.string(this._nodeName);for(var b=this._attributes.keys();b.hasNext();){var c=b.next();a.b+=" ";a.b=null==c?a.b+"null":a.b+(""+c);a.b+='="';a.add(this._attributes.get(c));a.b+='"'}if(0==this._children.length)return a.b+="/>",a.b;a.b+=">"}for(b=this.iterator();b.hasNext();)c=b.next(),a.add(c.toString());this.nodeType==t.Element&&(a.b+="</",a.b+=r.string(this._nodeName),a.b+=">");return a.b},__class__:t};var Oa=function(a){var b=
this;this.id=setInterval(function(){b.run()},a)};m["haxe.Timer"]=Oa;Oa.__name__=["haxe","Timer"];Oa.delay=function(a,b){var c=new Oa(b);c.run=function(){c.stop();a()};return c};Oa.stamp=function(){return(new Date).getTime()/1E3};Oa.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Oa};var ya=function(a,b){this.length=a;this.b=b};m["haxe.io.Bytes"]=ya;ya.__name__=["haxe","io","Bytes"];ya.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);
return new ya(a,b)};ya.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=x.fastCodeAt(a,c++);55296<=d&&56319>=d&&(d=d-55232<<10|x.fastCodeAt(a,c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new ya(b.length,b)};ya.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw Ea.OutsideBounds;for(var c=
"",d=this.b,g=String.fromCharCode,e=a,l=a+b;e<l;){var w=d[e++];if(128>w){if(0==w)break;c+=g(w)}else if(224>w)c+=g((w&63)<<6|d[e++]&127);else if(240>w)var f=d[e++],c=c+g((w&31)<<12|(f&127)<<6|d[e++]&127);else var f=d[e++],h=d[e++],w=(w&15)<<18|(f&127)<<12|(h&127)<<6|d[e++]&127,c=c+g((w>>10)+55232),c=c+g(w&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:ya};var Fa=function(){};m["haxe.crypto.Base64"]=Fa;Fa.__name__=["haxe","crypto","Base64"];Fa.encode=function(a,
b){null==b&&(b=!0);var c=(new ub(Fa.BYTES)).encodeBytes(a).toString();if(b)for(var d=0,g=(3-4*a.length%3)%3;d<g;)d++,c+="=";return c};Fa.decode=function(a,b){null==b&&(b=!0);if(b)for(;61==z.cca(a,a.length-1);)a=z.substr(a,0,-1);return(new ub(Fa.BYTES)).decodeBytes(ya.ofString(a))};var ub=function(a){for(var b=a.length,c=1;b>1<<c;)c++;if(8<c||b!=1<<c)throw"BaseCode : base length must be a power of two.";this.base=a;this.nbits=c};m["haxe.crypto.BaseCode"]=ub;ub.__name__=["haxe","crypto","BaseCode"];
ub.prototype={encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,g=ya.alloc(d+(0==8*a.length%b?0:1)),e=0,l=0,w=(1<<b)-1,f=0,h=0;h<d;){for(;l<b;)l+=8,e<<=8,e|=a.get(f++);l-=b;g.set(h++,c.b[e>>l&w])}0<l&&g.set(h++,c.b[e<<b-l&w]);return g},initTable:function(){for(var a=[],b=0;256>b;){var c=b++;a[c]=-1}b=0;for(c=this.base.length;b<c;){var d=b++;a[this.base.b[d]]=d}this.tbl=a},decodeBytes:function(a){var b=this.nbits;null==this.tbl&&this.initTable();for(var c=this.tbl,d=a.length*
b>>3,g=ya.alloc(d),e=0,l=0,w=0,f=0;f<d;){for(;8>l;){var l=l+b,e=e<<b,h=c[a.get(w++)];if(-1==h)throw"BaseCode : invalid encoded char";e|=h}l-=8;g.set(f++,e>>l&255)}return g},__class__:ub};var ib=function(){this.h={}};m["haxe.ds.IntMap"]=ib;ib.__name__=["haxe","ds","IntMap"];ib.__interfaces__=[Hb];ib.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},__class__:ib};var Pa=function(){this.h={};this.h.__keys__={}};m["haxe.ds.ObjectMap"]=Pa;Pa.__name__=["haxe","ds","ObjectMap"];
Pa.__interfaces__=[Hb];Pa.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Pa.count);this.h[c]=b;this.h.__keys__[c]=a},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return z.iter(a)},__class__:Pa};var Va=function(){this.h={}};m["haxe.ds.StringMap"]=Va;Va.__name__=["haxe","ds","StringMap"];Va.__interfaces__=[Hb];Va.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+
a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return z.iter(a)},__class__:Va};var pc=function(){};m["haxe.io.Eof"]=pc;pc.__name__=["haxe","io","Eof"];pc.prototype={toString:function(){return"Eof"},__class__:pc};var Ea={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:["Blocked",0]};Ea.Blocked.__enum__=Ea;Ea.Overflow=["Overflow",
1];Ea.Overflow.__enum__=Ea;Ea.OutsideBounds=["OutsideBounds",2];Ea.OutsideBounds.__enum__=Ea;Ea.Custom=function(a){a=["Custom",3,a];a.__enum__=Ea;return a};var Na=function(){};m["haxe.xml.Parser"]=Na;Na.__name__=["haxe","xml","Parser"];Na.parse=function(a){var b=t.createDocument();Na.doParse(a,0,b);return b};Na.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,g=1,e=1,l=null,w=0,f=0,h=0,k=a.charCodeAt(b),m=new ab;k==k;){switch(g){case 0:switch(k){case 10:case 13:case 9:case 32:break;default:g=
e;continue}break;case 1:switch(k){case 60:g=0;e=2;break;default:w=b;g=13;continue}break;case 13:60==k?(e=t.createPCData(m.b+z.substr(a,w,b-w)),m=new ab,c.addChild(e),f++,g=0,e=2):38==k&&(m.addSub(a,w,b-w),g=18,e=13,w=b+1);break;case 17:93==k&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(g=t.createCData(z.substr(a,w,b-w)),c.addChild(g),f++,b+=2,g=1);break;case 2:switch(k){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=z.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;g=17}else if(68==
a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=z.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;g=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;g=15}w=b+1;break;case 63:g=14;w=b;break;case 47:if(null==c)throw"Expected node name";w=b+1;g=0;e=10;break;default:g=3;w=b;continue}break;case 3:if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)){if(b==w)throw"Expected node name";d=t.createElement(z.substr(a,w,b-w));c.addChild(d);
g=0;e=4;continue}break;case 4:switch(k){case 47:g=11;f++;break;case 62:g=9;f++;break;default:g=5;w=b;continue}break;case 5:if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)){if(w==b)throw"Expected attribute name";l=z.substr(a,w,b-w);if(d.exists(l))throw"Duplicate attribute";g=0;e=6;continue}break;case 6:switch(k){case 61:g=0;e=7;break;default:throw"Expected =";}break;case 7:switch(k){case 34:case 39:g=8;w=b;break;default:throw'Expected "';}break;case 8:k==a.charCodeAt(w)&&
(e=z.substr(a,w+1,b-w-1),d.set(l,e),g=0,e=4);break;case 9:w=b=Na.doParse(a,b,d);g=1;break;case 11:switch(k){case 62:g=1;break;default:throw"Expected >";}break;case 12:switch(k){case 62:return 0==f&&c.addChild(t.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)){if(w==b)throw"Expected node name";if(z.substr(a,w,b-w)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";g=0;e=12;continue}break;case 15:45==k&&45==a.charCodeAt(b+
1)&&62==a.charCodeAt(b+2)&&(c.addChild(t.createComment(z.substr(a,w,b-w))),b+=2,g=1);break;case 16:91==k?h++:93==k?h--:62==k&&0==h&&(c.addChild(t.createDocType(z.substr(a,w,b-w))),g=1);break;case 14:63==k&&62==a.charCodeAt(b+1)&&(b++,g=z.substr(a,w+1,b-w-2),c.addChild(t.createProcessingInstruction(g)),g=1);break;case 18:59==k&&(w=z.substr(a,w,b-w),35==w.charCodeAt(0)?(w=120==w.charCodeAt(1)?r.parseInt("0"+z.substr(w,1,w.length-1)):r.parseInt(z.substr(w,1,w.length-1)),m.add(String.fromCharCode(w))):
Na.escapes.exists(w)?m.add(Na.escapes.get(w)):m.b+=r.string("&"+w+";"),w=b+1,g=e)}k=x.fastCodeAt(a,++b)}1==g&&(w=b,g=13);if(13==g)return b==w&&0!=f||c.addChild(t.createPCData(m.b+z.substr(a,w,b-w))),b;throw"Unexpected end";};var X=function(a){y.call(this,a)};m["haxor.component.Camera"]=X;X.__name__=["haxor","component","Camera"];X.get_list=function(){return h.camera.list.slice()};X.get_current=function(){return X.m_current};X.get_main=function(){return X.m_main};X.set_main=function(a){return X.m_main=
a};X.__super__=W;X.prototype=B(W.prototype,{get_mask:function(){return this.m_mask},set_mask:function(a){if(this.m_mask==a)return a;var b=this.m_mask=a;this.m_layers=[];for(var c=0;32>c;){var d=c++;0!=(b&1)&&this.m_layers.push(1<<d);b>>=1}return a},get_fov:function(){return this.m_fov},set_fov:function(a){this.m_fov=a;this.m_projection_dirty=!0;return a},get_near:function(){return this.m_near},set_near:function(a){this.m_near=a;this.m_proj_uniform_dirty=this.m_projection_dirty=!0;return a},get_far:function(){return this.m_far},
set_far:function(a){this.m_far=a;this.m_proj_uniform_dirty=this.m_projection_dirty=!0;return a},get_order:function(){return this.m_order},set_order:function(a){if(this.m_order==a)return a;this.m_order=a;h.camera.SortCameraList();return this.m_order},get_pixelViewport:function(){return this.m_pixelViewport.get_clone()},get_viewport:function(){return this.m_viewport.get_clone()},set_viewport:function(a){this.m_viewport.SetAABB2(a);h.camera.UpdateViewport(this);return a},get_CameraToWorld:function(){return this.m_entity.m_transform.get_WorldMatrix()},
get_WorldToCamera:function(){return this.m_entity.m_transform.get_WorldMatrixInverse()},get_ProjectionMatrix:function(){this.UpdateProjection();return this.m_projectionMatrix},get_ProjectionMatrixInverse:function(){this.UpdateProjection();return this.m_projectionMatrixInverse},get_target:function(){return this.m_target},set_target:function(a){this.m_target=a;h.camera.UpdateViewport(this);return a},get_quality:function(){return this.m_quality},set_quality:function(a){this.m_quality=0>=a?0:1<=a?1:a;
h.camera.UpdateViewport(this);return a},get_captureDepth:function(){return this.m_captureDepth},set_captureDepth:function(a){this.m_captureDepth=a;h.camera.ClearTargets(this);h.camera.UpdateViewport(this);return a},get_filters:function(){return this.m_filters},set_filters:function(a){return this.m_filters=null==a?[]:a},get_frustum:function(){this.UpdateProjection();return this.m_frustum},OnBuild:function(){W.prototype.OnBuild.call(this);h.camera.Create(this);null==X.m_main&&(X.m_main=this);this.m_order=
0;this.m_quality=1;this.m_pixelViewport=ja.get_empty();this.m_viewport=ja.get_empty();this.m_projectionMatrix=new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.m_projectionMatrixInverse=new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.m_skyboxProjection=new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.m_skyboxProjectionInverse=new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.m_fov=60;this.m_near=.1;this.m_far=500;this.m_filters=[];this.background=new v(0,0,0,1);this.clear=za.ColorDepth;this.set_mask(1);this.set_viewport(new ja(0,
0,1,1));this.m_proj_uniform_dirty=this.m_view_uniform_dirty=this.m_projection_dirty=!0;this.m_frustum=[new M,new M,new M,new M,new M,new M,new M,new M]},WorldToProjection:function(a,b){var c;c=null==b?new M:b;c.w=1;c.x=a.x;c.y=a.y;c.z=a.z;this.get_WorldToCamera().Transform4x4(c);this.UpdateProjection();this.m_projectionMatrix.Transform4x4(c);return c},WorldToDepth:function(a){var b=this.get_WorldToCamera();return b.m20*a.x+b.m21*a.y+b.m22*a.z+b.m23},IsCulled:function(a){return this.WorldToProjection(a).IsCulled()},
LookAt:function(a,b,c){null==c&&(c=0);this.m_entity.m_transform.LookAt(a,b,c)},UpdateProjection:function(){if(this.m_projection_dirty){this.m_projection_dirty=!1;this.m_view_uniform_dirty=!0;u.Perspective(this.m_fov,this.m_aspect,this.m_near,this.m_far,this.m_projectionMatrix);u.PerspectiveInverse(this.m_fov,this.m_aspect,this.m_near,this.m_far,this.m_projectionMatrixInverse);u.Perspective(this.m_fov,this.m_aspect,.1,1E5,this.m_skyboxProjection);u.PerspectiveInverse(this.m_fov,this.m_aspect,.1,1E5,
this.m_skyboxProjectionInverse);var a,b=0;a=this.m_frustum[0];a.Set(-1,1,0,1);this.m_projectionMatrixInverse.Transform4x4(a);b=0>=a.w?0:1/a.w;a.Scale(b);a=this.m_frustum[1];a.Set(1,1,0,1);this.m_projectionMatrixInverse.Transform4x4(a);b=0>=a.w?0:1/a.w;a.Scale(b);a=this.m_frustum[2];a.Set(-1,-1,0,1);this.m_projectionMatrixInverse.Transform4x4(a);b=0>=a.w?0:1/a.w;a.Scale(b);a=this.m_frustum[3];a.Set(1,-1,0,1);this.m_projectionMatrixInverse.Transform4x4(a);b=0>=a.w?0:1/a.w;a.Scale(b);a=this.m_frustum[4];
a.Set(-1,1,1,1);this.m_projectionMatrixInverse.Transform4x4(a);b=0>=a.w?0:1/a.w;a.Scale(b);a=this.m_frustum[5];a.Set(1,1,1,1);this.m_projectionMatrixInverse.Transform4x4(a);b=0>=a.w?0:1/a.w;a.Scale(b);a=this.m_frustum[6];a.Set(-1,-1,1,1);this.m_projectionMatrixInverse.Transform4x4(a);b=0>=a.w?0:1/a.w;a.Scale(b);a=this.m_frustum[7];a.Set(1,-1,1,1);this.m_projectionMatrixInverse.Transform4x4(a);b=0>=a.w?0:1/a.w;a.Scale(b)}},OnTransformUpdate:function(){this.m_view_uniform_dirty=!0},OnDestroy:function(){h.camera.Destroy(this)},
__class__:X});var Ma=function(a){y.call(this,a)};m["haxor.component.CameraOrbit"]=Ma;Ma.__name__=["haxor","component","CameraOrbit"];Ma.__interfaces__=[La];Ma.Create=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);var d=new la;d.set_name("camera_orbit");d.AddComponent(X).background=new v(0,0,0,1);d=d.AddComponent(Ma);d.distance=a;d.smooth=0;d.angle=new E(b,c);return d};Ma.__super__=W;Ma.prototype=B(W.prototype,{get_pivot:function(){null==this.m_pivot&&(this.m_pivot=(new la).m_transform,
this.m_pivot.set_name(this.m_entity.get_name()),this.m_pivot.set_parent(this.m_entity.m_transform.m_parent),this.m_entity.m_transform.set_parent(this.m_pivot),this.m_entity.set_name("camera"),this.m_pivot.set_position(this.m_entity.m_transform.get_position()));return this.m_pivot},OnBuild:function(){W.prototype.OnBuild.call(this);this.distance=0;this.m_pivot=this.get_pivot()},OnStart:function(){this.m_distance=this.distance;this.m_angle=null==this.angle?new E(0,0):this.angle.get_clone();this.m_rotation=
new D(0,0,0,1);var a=h.data.get_v3();a.Set(0,0,this.m_distance);this.m_entity.m_transform.set_localPosition(a)},OnUpdate:function(){var a;a=0>=this.smooth?1:p.m_delta*this.smooth;this.m_angle.x=k.Lerp(this.m_angle.x,this.angle.x,a);this.m_angle.y=k.Lerp(this.m_angle.y,this.angle.y,a);this.m_distance=k.Lerp(this.m_distance,this.distance,a);a=h.data.get_q();a.SetAxisAngle(new s(0,1,0),this.m_angle.x);a.Multiply(h.data.get_q().SetAxisAngle(new s(1,0,0),-this.m_angle.y));this.get_pivot().set_localRotation(a);
a=h.data.get_v3();a.Set(0,0,this.m_distance);this.m_entity.m_transform.set_localPosition(a);null!=this.target&&(a=this.get_pivot().get_localPosition(),a=s.Lerp(a,this.target.get_localPosition(),p.m_delta*this.smooth),this.get_pivot().set_localPosition(a))},__class__:Ma});var hb=function(a){this.zoomSpeed=this.rotateSpeed=.5;this.rotate=this.zoom=!0;y.call(this,a)};m["haxor.component.CameraOrbitInput"]=hb;hb.__name__=["haxor","component","CameraOrbitInput"];hb.__interfaces__=[La];hb.__super__=W;hb.prototype=
B(W.prototype,{OnStart:function(){this.m_orbit=this.m_entity.GetComponent(Ma)},OnUpdate:function(){var a;a=1==n.get_touches().length?n.get_touches()[0].delta.x:n.deltaMouse.x;var b;b=1==n.get_touches().length?n.get_touches()[0].delta.y:n.deltaMouse.y;this.rotate&&(n.Pressed(f.Mouse0)||1==n.get_touches().length)&&(this.m_orbit.angle.x+=-a*this.rotateSpeed,this.m_orbit.angle.y+=b*this.rotateSpeed);this.zoom&&(0<Math.abs(n.wheel)&&(this.m_orbit.distance=0>n.wheel?this.m_orbit.distance+this.zoomSpeed:
this.m_orbit.distance+-this.zoomSpeed),2==n.get_touches().length&&(this.m_orbit.distance+=n.get_touches()[0].delta.y*this.zoomSpeed*.05))},__class__:hb});var vb=function(){y.call(this,void 0);this.data=new Va};m["haxor.component.DataComponent"]=vb;vb.__name__=["haxor","component","DataComponent"];vb.__super__=wa;vb.prototype=B(wa.prototype,{__class__:vb});var v=function(a,b,c,d){null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.r=a;this.g=b;this.b=c;this.a=d};m["haxor.math.Color"]=
v;v.__name__=["haxor","math","Color"];v.get_temp=function(){return h.data.get_c()};v.get_red=function(){return new v(1,0,0,1)};v.get_yellow=function(){return new v(1,1,0,1)};v.get_green=function(){return new v(0,1,0,1)};v.get_cyan=function(){return new v(0,1,1,1)};v.get_blue=function(){return new v(0,0,1,1)};v.get_magenta=function(){return new v(1,0,1,1)};v.get_black=function(){return new v(0,0,0,1)};v.get_white=function(){return new v(1,1,1,1)};v.get_empty=function(){return new v(0,0,0,0)};v.get_gray10=
function(){return new v(.1,.1,.1,1)};v.get_gray25=function(){return new v(.25,.25,.25,1)};v.get_gray50=function(){return new v(.5,.5,.5,1)};v.get_gray75=function(){return new v(.75,.75,.75,1)};v.get_gray90=function(){return new v(.9,.9,.9,1)};v.FromHex=function(a){var b=new v;10==a.length?b.set_argb(r.parseInt(a)):b.set_rgb(r.parseInt(a));return b};v.FromBytes=function(a,b,c,d){null==d&&(d=255);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return new v(.00392156863*a,.00392156863*b,.00392156863*c,
.00392156863*d)};v.Lerp=function(a,b,c){return new v(k.Lerp(a.r,b.r,c),k.Lerp(a.g,b.g,c),k.Lerp(a.b,b.b,c),k.Lerp(a.a,b.a,c))};v.Sample=function(a,b){var c=a.length-1,c=.9999*c*b,d=c|0,g=(d+1)%a.length;b=c-Math.floor(c);return v.Lerp(a[d],a[g],b)};v.Parse=function(a,b){null==b&&(b=" ");var c=a.split(b);return(new v(0,0,0,1)).Set(r.parseFloat(x.trim(c[0])),r.parseFloat(x.trim(c[1])),r.parseFloat(x.trim(c[2])),r.parseFloat(x.trim(c[3])))};v.prototype={get_clone:function(){return new v(this.r,this.g,
this.b,this.a)},get_xyz:function(){return new s(this.r,this.g,this.b)},get_xyzw:function(){return new M(this.r,this.g,this.b,this.a)},get_argb:function(){return 255*this.a<<24|255*this.r<<16|255*this.g<<8|255*this.b},set_argb:function(a){this.a=.00392156863*(a>>24&255);this.r=.00392156863*(a>>16&255);this.g=.00392156863*(a>>8&255);this.b=.00392156863*(a&255);return a},get_css:function(){return"rgba("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+","+this.a+")"},get_rgba:function(){return 255*
this.r<<24|255*this.g<<16|255*this.b<<8|255*this.a},set_rgba:function(a){this.r=.00392156863*(a>>24&255);this.g=.00392156863*(a>>16&255);this.b=.00392156863*(a>>8&255);this.a=.00392156863*(a&255);return a},get_rgb:function(){return 255*this.r<<16|255*this.g<<8|255*this.b},set_rgb:function(a){this.r=.00392156863*(a>>16&255);this.g=.00392156863*(a>>8&255);this.b=.00392156863*(a&255);return a},get_luminance:function(){return.3*this.r+.59*this.g+.11*this.b},get_negative:function(){return new v(1-this.r,
1-this.g,1-this.b,1-this.a)},Set:function(a,b,c,d){null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.r=a;this.g=b;this.b=c;this.a=d;return this},Set3:function(a){this.r=a.x;this.g=a.y;this.b=a.z;return this},Set4:function(a){this.r=a.x;this.g=a.y;this.b=a.z;this.a=a.w;return this},SetColor:function(a){this.r=a.r;this.g=a.g;this.b=a.b;this.a=a.a;return this},Get:function(a){return 0==a?this.r:1==a?this.g:2==a?this.b:this.a},Add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;this.a+=
a.a;return this},Sub:function(a){this.r-=a.r;this.g-=a.g;this.b-=a.b;this.a-=a.a;return this},Multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;this.a*=a.a;return this},MultiplyRGB:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},Scale:function(a){this.r*=a;this.g*=a;this.b*=a;this.a*=a;return this},ScaleRGB:function(a){this.r*=a;this.g*=a;this.b*=a;return this},ToArray:function(){return[this.r,this.g,this.b,this.a]},ToString:function(a){null==a&&(a=2);return"["+k.RoundPlaces(this.r,
a)+","+k.RoundPlaces(this.g,a)+","+k.RoundPlaces(this.b,a)+","+k.RoundPlaces(this.a,a)+"]"},__class__:v};var N=function(){null==N.m_list&&(N.m_list=[]);null==N.m_buffer&&(N.m_buffer=new L(12*N.max));N.m_list.push(this);y.call(this,void 0);this.color=new v(1,1,1,1);this.intensity=1};m["haxor.component.Light"]=N;N.__name__=["haxor","component","Light"];N.get_list=function(){var a=[];if(null==N.m_list)return a;for(var b=0;b<N.m_list.length;)a.push(N.m_list[b]),b++;return a};N.SetLightData=function(a,
b,c,d,g,e,l,w,f,h,k,m){a*=12;N.m_buffer.Set(a,b);N.m_buffer.Set(a+1,c);N.m_buffer.Set(a+2,d);N.m_buffer.Set(a+3,g);N.m_buffer.Set(a+4,e);N.m_buffer.Set(a+5,l);N.m_buffer.Set(a+6,w);N.m_buffer.Set(a+8,f);N.m_buffer.Set(a+9,h);N.m_buffer.Set(a+10,k);N.m_buffer.Set(a+11,m)};N.__super__=W;N.prototype=B(W.prototype,{OnDestroy:function(){W.prototype.OnDestroy.call(this);z.remove(N.m_list,this)},__class__:N});var ta=function(a){this.m_has_mesh=!1;y.call(this,a)};m["haxor.component.Renderer"]=ta;ta.__name__=
["haxor","component","Renderer"];ta.__super__=W;ta.prototype=B(W.prototype,{get_material:function(){return this.m_material},set_material:function(a){if(this.m_material==a)return a;this.m_material=a;this.m_last_queue=null==a?-1:a.queue;h.renderer.OnMaterialChange(this);return a},get_visible:function(){return this.m_visible&&!this.m_culled},set_visible:function(a){return this.m_visible=a},OnBuild:function(){W.prototype.OnBuild.call(this);this.m_last_queue=-1;this.m_visible=!0;this.m_culled=!1;h.renderer.Create(this)},
OnRender:function(){null!=this.m_material&&this.m_last_queue!=this.m_material.queue&&(this.m_last_queue=this.m_material.queue,h.renderer.OnMaterialChange(this))},UpdateCulling:function(){var a=this.m_culled,b=this.CheckCulling();this.m_culled=b;a!=b&&h.renderer.OnVisibilityChange(this,!b)},CheckCulling:function(){return!1},OnDestroy:function(){h.renderer.Destroy(this)},__class__:ta});var xa=function(a){ta.call(this,a)};m["haxor.component.MeshRenderer"]=xa;xa.__name__=["haxor","component","MeshRenderer"];
xa.__super__=ta;xa.prototype=B(ta.prototype,{get_mesh:function(){return this.m_mesh},set_mesh:function(a){if(this.m_mesh==a)return a;this.m_mesh=a;this.UpdateWorldBounds();return a},OnBuild:function(){this.m_has_mesh=!0;ta.prototype.OnBuild.call(this);this.m_ws_center=new s(0,0,0);this.m_ws_radius=new s(0,0,0);this.m_culling_dirty=!1},IsVisible:function(a){if(null==a||null==this.m_mesh)return!1;var b=a.WorldToProjection(h.data.get_v3().Set3(this.m_ws_center),h.data.get_v4()),c=b.w;if(0>=c)return!1;
if(b.x>=-c&&b.x<=c&&b.y>=-c&&b.y<=c&&b.z>=-c&&b.z<=c)return!0;a=a.WorldToProjection(h.data.get_v3().Set3(this.m_ws_radius),h.data.get_v4());a=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z+a.w*a.w);return b.x+a>=-c&&b.x-a<=c&&b.y+a>=-c&&b.y-a<=c&&b.z+a>=-c&&b.z-a<=c?!0:!1},CheckCulling:function(){var a=X.m_current;if(null==a||!a.m_view_uniform_dirty&&!a.m_proj_uniform_dirty&&!this.m_culling_dirty)return this.m_culled;this.UpdateWorldBounds();return!this.IsVisible(a)},OnTransformUpdate:function(){this.m_culling_dirty=
!0},UpdateWorldBounds:function(){if(null!=this.m_mesh){ea.Center(this.m_mesh.m_bounds,this.m_ws_center);this.m_entity.m_transform.get_WorldMatrix().Transform3x4(this.m_ws_center);this.m_ws_radius.Set(this.m_mesh.m_bounds.get_width(),this.m_mesh.m_bounds.get_height(),this.m_mesh.m_bounds.get_depth());this.m_entity.m_transform.get_WorldMatrix().Transform3x3(this.m_ws_radius);var a=this.m_ws_radius.get_length(),b=h.data.get_v3(),c=h.data.get_v3();b.Set(this.m_ws_center.x-a,this.m_ws_center.y-a,this.m_ws_center.z-
a);c.Set(this.m_ws_center.x+a,this.m_ws_center.y+a,this.m_ws_center.z+a);h.renderer.UpdateSAP(this.__fcid,this,b,c);this.m_culling_dirty=!1}},OnRender:function(){ta.prototype.OnRender.call(this);null!=this.m_mesh&&aa.Render(this.m_mesh,this.m_material,this.m_entity.m_transform,X.m_current)},__class__:xa});var bb=function(){N.call(this);this.radius=this.atten=1};m["haxor.component.PointLight"]=bb;bb.__name__=["haxor","component","PointLight"];bb.Create=function(a,b,c,d){var g=new la;g.set_name("PointLight");
g=g.AddComponent(bb);g.color=a;g.intensity=b;g.atten=c;g.radius=d;return g};bb.__super__=N;bb.prototype=B(N.prototype,{__class__:bb});var jb=function(a){ta.call(this,a)};m["haxor.component.SkinnedMeshRenderer"]=jb;jb.__name__=["haxor","component","SkinnedMeshRenderer"];jb.__super__=xa;jb.prototype=B(xa.prototype,{set_joints:function(a){return this.m_joints=null==a?[]:a},get_joints:function(){return this.m_joints},OnBuild:function(){xa.prototype.OnBuild.call(this);this.m_joints=[];this.m_buffer=[];
for(var a=0;8192>a;)a++,this.m_buffer.push(0);this.m_data=new kb(1,2048,G.Float4);this.m_data.set_name("SkinningTexture"+this.get_uid())},OnRender:function(){if(null!=this.m_material){for(var a=this.m_mesh,b=0,c,d,g=this.m_data.m_data.get_buffer(),e=0,l=this.m_joints.length;e<l;){d=e++;c=this.m_joints[d].get_WorldMatrix();d=a.get_binds()[d];for(var w=0;12>w;){var f=w++;g.Set(b,c.GetIndex(f));g.Set(b+4096,d.GetIndex(f));b++}}this.m_data.Invalidate();this.m_material.SetTexture("Skinning",this.m_data)}xa.prototype.OnRender.call(this);
aa.DrawTexture(this.m_data,0,2153,256,-2048)},__class__:jb});var pa=function(a){y.call(this,a)};m["haxor.component.Transform"]=pa;pa.__name__=["haxor","component","Transform"];pa.TransformConcat=function(a){var b=a.m_parent.m_worldMatrix,c=a.m_worldMatrix;c.m00=b.m00;c.m01=b.m01;c.m02=b.m02;c.m03=b.m03;c.m10=b.m10;c.m11=b.m11;c.m12=b.m12;c.m13=b.m13;c.m20=b.m20;c.m21=b.m21;c.m22=b.m22;c.m23=b.m23;c.MultiplyTransform(a.m_localMatrix);a.m_wsp_dirty=!0;a.m_wsrs_dirty=!0;a.m_right.Set(c.m00,c.m10,c.m20).Normalize();
a.m_up.Set(c.m01,c.m11,c.m21).Normalize();a.m_forward.Set(c.m02,c.m12,c.m22).Normalize();a.m_inverse_dirty=!0};pa.get_root=function(){return pa.m_root};pa.__super__=wa;pa.prototype=B(wa.prototype,{get_right:function(){this.UpdateWorldMatrix();return this.m_right.get_clone()},set_right:function(a){return a},get_up:function(){this.UpdateWorldMatrix();return this.m_up.get_clone()},set_up:function(a){return a},get_forward:function(){this.UpdateWorldMatrix();return this.m_forward.get_inverse()},set_forward:function(a){return a},
get_parent:function(){return this.m_parent},set_parent:function(a){this.get_position();this.get_rotation();this.get_scale();null!=this.m_parent&&z.remove(this.m_parent.m_hierarchy,this);this.m_parent=null==a?pa.m_root:a;this.m_parent.m_hierarchy.push(this);return this.m_parent},get_childCount:function(){return this.m_hierarchy.length},get_localPosition:function(){return this.m_localPosition.get_clone()},set_localPosition:function(a){var b=a.y-this.m_localPosition.y,c=a.z-this.m_localPosition.z;if(1E-4>
Math.abs(a.x-this.m_localPosition.x)&&1E-4>Math.abs(b)&&1E-4>Math.abs(c))return a;this.m_localPosition.Set3(a);this.m_lmt_dirty=!0;this.Invalidate();return a},get_localRotation:function(){return this.m_localRotation.get_clone()},set_localRotation:function(a){var b=a.y-this.m_localRotation.y,c=a.z-this.m_localRotation.z,d=a.w-this.m_localRotation.w;if(1E-4>Math.abs(a.x-this.m_localRotation.x)&&1E-4>Math.abs(b)&&1E-4>Math.abs(c)&&1E-4>Math.abs(d))return a;this.m_localRotation.SetQuaternion(a);this.m_lmrs_dirty=
!0;this.Invalidate();return a},get_localEuler:function(){return this.m_localRotation.get_euler()},set_localEuler:function(a){this.set_localRotation(D.FromEuler(a,h.data.get_q()));return a},get_localScale:function(){return this.m_localScale.get_clone()},set_localScale:function(a){var b=a.y-this.m_localScale.y,c=a.z-this.m_localScale.z;if(1E-4>Math.abs(a.x-this.m_localScale.x)&&1E-4>Math.abs(b)&&1E-4>Math.abs(c))return a;this.m_localScale.Set3(a);this.m_lmrs_dirty=!0;this.Invalidate();return a},get_position:function(){this.UpdateWorldMatrix();
this.UpdateWSP();return this.m_position.get_clone()},set_position:function(a){this.set_localPosition(this.m_parent.get_WorldMatrixInverse().Transform3x4(h.data.get_v3().Set3(a)));return a},get_rotation:function(){this.UpdateWorldMatrix();this.UpdateWSRS();return this.m_rotation.get_clone()},set_rotation:function(a){this.UpdateWorldMatrix();this.UpdateWSRS();var b=D.Inverse(this.m_rotation,h.data.get_q());this.set_localRotation(h.data.get_q().SetQuaternion(a).Multiply(b));return a},get_euler:function(){return this.get_rotation().get_euler()},
set_euler:function(a){this.set_rotation(D.FromEuler(a,h.data.get_q()));return a},get_scale:function(){this.UpdateWorldMatrix();this.UpdateWSRS();return this.m_scale.get_clone()},get_WorldMatrix:function(){this.UpdateWorldMatrix();return this.m_worldMatrix},get_WorldMatrixInverse:function(){this.UpdateWorldMatrix();this.m_inverse_dirty&&(u.GetInverseTransform(this.m_worldMatrix,this.m_worldMatrixInverse),this.m_inverse_dirty=!1);return this.m_worldMatrixInverse},OnBuild:function(){wa.prototype.OnBuild.call(this);
this.__cid=h.transform.tid.get_id();this.m_localPosition=new s(0,0,0);this.m_localRotation=new D(0,0,0,1);this.m_localScale=new s(1,1,1);this.m_position=new s(0,0,0);this.m_rotation=new D(0,0,0,1);this.m_scale=new s(1,1,1);this.m_wsrs_dirty=this.m_wsp_dirty=this.m_inverse_dirty=this.m_dirty=this.m_lmrs_dirty=this.m_lmt_dirty=!1;this.m_uniform_dirty=!0;this.m_right=new s(1,0,0);this.m_up=new s(0,1,0);this.m_forward=s.get_forward();this.m_localMatrix=new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.m_worldMatrixInverse=
new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.m_worldMatrix=new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.m_hierarchy=[];null!=pa.m_root?this.set_parent(null):pa.m_root=this},UpdateLMT:function(){this.m_localMatrix.m03=this.m_localPosition.x;this.m_localMatrix.m13=this.m_localPosition.y;this.m_localMatrix.m23=this.m_localPosition.z},UpdateWSP:function(){this.m_wsp_dirty&&(this.m_position.x=this.m_worldMatrix.m03,this.m_position.y=this.m_worldMatrix.m13,this.m_position.z=this.m_worldMatrix.m23,this.m_wsp_dirty=
!1)},UpdateLMRS:function(){var a=this.m_localScale.x,b=this.m_localScale.y,c=this.m_localScale.z,d=u.FromQuaternion(this.m_localRotation,h.data.get_m4()),g=this.m_localMatrix;g.m00=d.m00*a;g.m01=d.m01*b;g.m02=d.m02*c;g.m10=d.m10*a;g.m11=d.m11*b;g.m12=d.m12*c;g.m20=d.m20*a;g.m21=d.m21*b;g.m22=d.m22*c},UpdateWSRS:function(){if(this.m_wsrs_dirty){var a=this.m_worldMatrix,b=h.data.get_v3().Set(a.m00,a.m10,a.m20),c=h.data.get_v3().Set(a.m01,a.m11,a.m21),a=h.data.get_v3().Set(a.m02,a.m12,a.m22),d=Math.sqrt(b.x*
b.x+b.y*b.y+b.z*b.z),g=Math.sqrt(c.x*c.x+c.y*c.y+c.z*c.z),e=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);this.m_scale.x=d;this.m_scale.y=g;this.m_scale.z=e;g=0>=g?0:1/g;e=0>=e?0:1/e;b.Scale(0>=d?0:1/d);c.Scale(g);a.Scale(e);b=h.data.get_m4().Set(b.x,c.x,a.x,0,b.y,c.y,a.y,0,b.z,c.z,a.z,0,0,0,0,1);D.FromMatrix4(b,this.m_rotation);this.m_wsrs_dirty=!1}},UpdateWorldMatrix:function(){var a=this.m_dirty;this.m_lmt_dirty&&(this.UpdateLMT(),this.m_lmt_dirty=!1,a=!0);this.m_lmrs_dirty&&(this.UpdateLMRS(),this.m_lmrs_dirty=
!1,a=!0);null!=this.m_parent&&(this.m_dirty&&this.m_parent.UpdateWorldMatrix(),this.m_dirty=!1,a&&pa.TransformConcat(this))},Invalidate:function(){if(!this.m_dirty){this.m_dirty=this.m_uniform_dirty=!0;h.transform.OnChange(this);for(var a=0,b=this.m_hierarchy.length;a<b;){var c=a++;this.m_hierarchy[c].Invalidate()}}},LookAt:function(a,b,c){null==c&&(c=0);var d=this.m_entity.m_transform.get_position(),g=h.data.get_q();a=D.LookAt(d,a,b,h.data.get_q());g=0<c?D.Lerp(g,a,c*p.m_delta,h.data.get_q()):a;
this.m_entity.m_transform.set_rotation(g)},GetChild:function(a){return this.m_hierarchy[a]},GetChildByName:function(a){for(var b=0,c=this.m_hierarchy.length;b<c;){var d=b++;if(this.m_hierarchy[d].get_name()==a)return this.m_hierarchy[d]}return null},Navigate:function(a){a=a.split(".");for(var b=this;0<a.length;){var c=a.shift(),b=b.GetChildByName(c);if(null==b)return null}return b},Search:function(a,b){null==b&&(b=!0);var c=this,d=null;this.Traverse(function(g,e){if(g==c||null!=d)return!0;b?g.get_name()==
a&&(d=g):0<=g.get_name().indexOf(a)&&(d=g);return!0});return d},GetPathToRoot:function(){for(var a=this.m_parent,b=[];null!=a;)b.push(a),a=a.m_parent;b.reverse();return b},OutputHierarchy:function(a,b){null==b&&(b=!1);null==a&&(a=!0);var c="";this.Traverse(function(d,g){for(var e="",l=Math.max(0,g-0),w=0;w<l;)w++,e+=" ";c+=e+d.get_name()+" ";a&&(c+=d.get_position().ToString()+d.get_rotation().ToString()+d.get_scale().ToString());b&&(c+=d.get_WorldMatrix().ToString(!0,3));c+="\n";return!0});return c},
Traverse:function(a){this.TraverseStep(this,0,a)},TraverseStep:function(a,b,c){if(c(a,b))for(var d=0,g=a.m_hierarchy.length;d<g;){var e=d++;this.TraverseStep(a.GetChild(e),b+1,c)}},OnDestroy:function(){h.transform.tid.set_id(this.__cid)},ToString:function(a,b){null==b&&(b=2);null==a&&(a=!1);var c;c=a?this.get_localPosition():this.get_position();var d;d=a?this.get_localEuler():this.get_euler();var g;g=a?this.get_localScale():this.get_scale();return this.get_name()+" "+c.ToString(b)+""+d.ToString(b)+
""+g.ToString(b)},__class__:pa});var Ib=function(){this.cid=new ua;this.list=[];this.front=[];this.back=[];for(var a=0;64>a;)a++,this.front.push(null),this.back.push(null)};m["haxor.context.CameraContext"]=Ib;Ib.__name__=["haxor","context","CameraContext"];Ib.prototype={Create:function(a){this.list.push(a);this.SortCameraList();h.renderer.AddCamera(a)},Destroy:function(a){this.ClearTargets(a);z.remove(this.list,a);this.SortCameraList();this.cid.set_id(a.__cid);h.renderer.RemoveCamera(a)},Bind:function(a){var b=
this.front[a.__cid],c=a.m_target,b=null==b?c:b;a.UpdateProjection();h.renderer.UpdateCameraSAP(a);h.texture.BindTarget(b);h.renderer.UpdateDisplayList(a);aa.Clear(a)},Resize:function(){for(var a=0,b=this.list.length;a<b;){var c=a++;this.UpdateViewport(this.list[c])}},ClearTargets:function(a){var b;b=this.front[a.__cid];null!=b&&y.Destroy(b);b=this.back[a.__cid];null!=b&&y.Destroy(b);this.front[a.__cid]=null;this.back[a.__cid]=null},Unbind:function(a){this.SwapTargets(a)},SwapTargets:function(a){var b;
b=this.front[a.__cid];this.front[a.__cid]=this.back[a.__cid];this.back[a.__cid]=b},UpdateViewport:function(a){var b=!1;1>a.m_quality?b=!0:0<a.get_filters().length&&(b=!0);var c=C.m_width,d=C.m_height;null!=a.m_target&&(c=a.m_target.m_width,d=a.m_target.m_height);a.m_aspect=c/d;var c=c*a.m_quality,d=d*a.m_quality,c=1>c?1:c,d=1>d?1:d,g=r["int"](a.m_viewport.get_xMin()*c),e=r["int"](a.m_viewport.get_yMin()*d),c=a.m_viewport.get_width()*c,l=a.m_viewport.get_height()*d;a.m_pixelViewport.set_xMin(g);g;
a.m_pixelViewport.set_y(d-l-e);a.m_pixelViewport.set_width(c);a.m_pixelViewport.set_height(l);d=this.front[a.__cid];null!=d&&(c!=d.m_width?this.ClearTargets(a):l!=d.m_height&&this.ClearTargets(a));d=this.front[a.__cid];null==d&&b&&(b=null==a.m_target?G.RGB8:a.m_target.m_format,this.front[a.__cid]=new lb(c,l,b,a.m_captureDepth),0>=a.get_filters().length?this.back[a.__cid]=this.front[a.__cid]:this.back[a.__cid]=new lb(c,l,b,a.m_captureDepth),this.front[a.__cid].set_name(this.back[a.__cid].set_name("CameraScreenBuffer")));
a.m_projection_dirty=!0;a.m_proj_uniform_dirty=!0},SortCameraList:function(){1<this.list.length&&this.list.sort(function(a,b){return a.get_order()==b.get_order()?a.m_entity.get_name()<b.m_entity.get_name()?-1:1:a.get_order()<b.get_order()?-1:1})},__class__:Ib};var mb=function(){this.i=[];this.v=[];this.m_v2=[];this.m_v3=[];this.m_v4=[];this.m_c=[];this.m_q=[];this.m_m4=[];this.m_aabb3=[];this.m_aabb2=[];this.m_naabb2=this.m_naabb3=this.m_nm4=this.m_nq=this.m_nc=this.m_nv4=this.m_nv3=this.m_nv2=0;
this.m4l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var a=0,b=mb.MAX_TEMP;a<b;)a++,this.i.push(0),this.v.push(0),this.m_v2.push(new E(0,0)),this.m_v3.push(new s(0,0,0)),this.m_v4.push(new M(0,0,0,0)),this.m_c.push(new v(0,0,0,1)),this.m_q.push(new D(0,0,0,1)),this.m_m4.push(new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),this.m_aabb3.push(ea.get_empty()),this.m_aabb2.push(ja.get_empty())};m["haxor.context.DataContext"]=mb;mb.__name__=["haxor","context","DataContext"];mb.prototype={get_v2:function(){return this.m_v2[this.m_nv2=
(this.m_nv2+1)%this.m_v2.length]},get_v3:function(){return this.m_v3[this.m_nv3=(this.m_nv3+1)%this.m_v3.length]},get_v4:function(){return this.m_v4[this.m_nv4=(this.m_nv4+1)%this.m_v4.length]},get_c:function(){return this.m_c[this.m_nc=(this.m_nc+1)%this.m_c.length]},get_q:function(){return this.m_q[this.m_nq=(this.m_nq+1)%this.m_q.length]},get_aabb3:function(){return this.m_aabb3[this.m_naabb3=(this.m_naabb3+1)%this.m_aabb3.length]},get_aabb2:function(){return this.m_aabb2[this.m_naabb2=(this.m_naabb2+
1)%this.m_aabb2.length]},get_m4:function(){return this.m_m4[this.m_nq=(this.m_nm4+1)%this.m_m4.length]},__class__:mb};var h=function(){};m["haxor.context.EngineContext"]=h;h.__name__=["haxor","context","EngineContext"];h.Initialize=function(){q.Log("Haxor> Engine Context Initialize.",3);h.update=new Ga("process.update",h.maxNodes);h.render=new Ga("process.render",h.maxNodes);h.resize=new Ga("process.resize",h.maxNodes);h.resources=new Ga("process.resources",h.maxNodes);h.disposables=new Ga("process.disposables",
h.maxNodes);h.list=[h.update,h.render,h.resize,h.resources,h.disposables];h.data=new mb;h.renderer=new Jb;h.mesh=new Kb;h.material=new Lb;h.texture=new ba;h.gizmo=new Mb;h.camera=new Ib;h.transform=new Nb};h.Build=function(){h.mesh.Initialize();h.material.Initialize();h.texture.Initialize();h.gizmo.Initialize();h.transform.Initialize();h.renderer.Initialize()};h.Enable=function(a){F.__instanceof(a,La)&&h.update.Add(a);F.__instanceof(a,Za)&&h.render.Add(a);F.__instanceof(a,nb)&&h.resize.Add(a);F.__instanceof(a,
ta)&&h.renderer.Enable(a);if(F.__instanceof(a,la))for(var b=0,c=a.m_components.length;b<c;){var d=b++,d=a.m_components[d];F.__instanceof(d,xa)&&h.renderer.Enable(d)}};h.Disable=function(a){F.__instanceof(a,La)&&h.update.Remove(a);F.__instanceof(a,Za)&&h.render.Remove(a);F.__instanceof(a,nb)&&h.resize.Remove(a);F.__instanceof(a,ta)&&h.renderer.Disable(a);if(F.__instanceof(a,la))for(var b=0,c=a.m_components.length;b<c;){var d=b++,d=a.m_components[d];F.__instanceof(d,xa)&&h.renderer.Disable(d)}};h.OnEntiyLayerChange=
function(a,b,c){for(var d=0,g=a.m_components.length;d<g;){var e=d++,e=a.m_components[e];F.__instanceof(e,ta)&&h.renderer.OnLayerChange(e,b,c)}};h.Destroy=function(a){if(!a.m_destroyed){a.m_destroyed=!0;for(var b=0,c=h.list.length;b<c;){var d=b++;h.list[d].Remove(a)}h.disposables.Add(a)}};var Mb=function(){};m["haxor.context.GizmoContext"]=Mb;Mb.__name__=["haxor","context","GizmoContext"];Mb.prototype={Initialize:function(){var a;a=this.gizmo_material=new da("$GizmoMaterial");a.set_shader(new H(ia.gizmo_source));
a.blend=!0;a.SetBlending(770,771);a.SetFloat("Area",1E3);a.SetColor("Tint",new v(1,1,1,.4));a.ztest=!1;a=this.texture_material=new da("$TextureMaterial");a.set_shader(new H(ia.texture_source));a.blend=!0;a.SetBlending(770,771);a.SetFloat2("Screen",C.m_width,C.m_height);a.SetFloat4("Rect",0,0,100,100);a.SetColor("Tint",new v(1,1,1,1));a.cull=0;a.ztest=!1;this.CreateAxis();this.CreateGrid(100);this.CreateTextureQuad()},CreateTextureQuad:function(){var a=this.texture=new fa("$TextureQuad"),b;b=L.Alloc([0,
0,0,0,-1,0,1,-1,0,0,0,0,1,-1,0,1,0,0]);a.Set("vertex",b,3);a.set_bounds(a.GenerateAttribBounds("vertex",h.data.get_aabb3()))},CreateAxis:function(){var a=this.axis=new fa("$GridAxis");a.primitive=1;var b=new L(18),c=new L(24),d;d=0;b.Set(d++,0);b.Set(d++,0);b.Set(d++,0);b.Set(d++,1);b.Set(d++,0);b.Set(d++,0);b.Set(d++,0);b.Set(d++,0);b.Set(d++,0);b.Set(d++,0);b.Set(d++,1);b.Set(d++,0);b.Set(d++,0);b.Set(d++,0);b.Set(d++,0);b.Set(d++,0);b.Set(d++,0);b.Set(d++,1);d=0;c.Set(d++,1);c.Set(d++,0);c.Set(d++,
0);c.Set(d++,1);c.Set(d++,1);c.Set(d++,.3);c.Set(d++,.3);c.Set(d++,1);c.Set(d++,0);c.Set(d++,1);c.Set(d++,0);c.Set(d++,1);c.Set(d++,.3);c.Set(d++,1);c.Set(d++,.3);c.Set(d++,1);c.Set(d++,0);c.Set(d++,0);c.Set(d++,1);c.Set(d++,1);c.Set(d++,.3);c.Set(d++,.3);c.Set(d++,1);c.Set(d++,1);a.Set("vertex",b,3);a.Set("color",c,4);a.set_bounds(a.GenerateAttribBounds("vertex",h.data.get_aabb3()))},CreateGrid:function(a){this.grid=new fa("$GridMesh");this.grid.primitive=1;var b=a+1;a=1/a;for(var c=0,d=0,g=new L(12*
b),e,l=e=0;l<b;)l++,g.Set(e++,c-.5),g.Set(e++,0),g.Set(e++,.5),g.Set(e++,c-.5),g.Set(e++,0),g.Set(e++,-.5),c+=a;for(c=0;c<b;)c++,g.Set(e++,.5),g.Set(e++,0),g.Set(e++,d-.5),g.Set(e++,-.5),g.Set(e++,0),g.Set(e++,d-.5),d+=a;this.grid.Set("vertex",g,3);this.grid.set_bounds(this.grid.GenerateAttribBounds("vertex",h.data.get_aabb3()))},DrawGrid:function(a,b){this.gizmo_material.SetFloat("Area",a);null!=b&&this.gizmo_material.SetFloat4("Tint",b.r,b.g,b.b,b.a);aa.Render(this.grid,this.gizmo_material,null,
X.m_main)},DrawAxis:function(a){this.gizmo_material.SetFloat("Area",a);this.gizmo_material.SetColor("Tint",h.data.get_c().Set(1,1,1,1));aa.Render(this.axis,this.gizmo_material,null,X.m_main)},__class__:Mb};var Lb=function(){this.uniform_globals="ViewMatrix ProjectionMatrix WorldMatrix WorldMatrixInverse WorldMatrixIT Time RandomSeed RandomTexture ScreenTexture ScreenDepth Ambient CameraPosition ProjectionMatrixInverse ViewMatrixInverse".split(" ");this.mid=new ua;this.sid=new ua;this.uid=new ua;this.zfunc=
515;this.zwrite=this.ztest=!0;this.blend=!1;this.blendSrc=1;this.blendDst=0;this.invert=!1;this.cull=2;this.locations=[];this.uniforms=[];this.programs=[];this.vertex_shaders=[];this.fragment_shaders=[];this.globals=[];this.camera=[];this.transform=[];this.slot=0;this.viewmatrix=[];this.projmatrix=[];for(var a=0;1024>a;){a++;for(var b=[],c=[],d=0;512>d;)d++,b.push(-1);for(d=0;200>d;)d++,c.push(e.INVALID);this.camera.push(null);this.transform.push(null);this.globals.push([]);this.locations.push(b);
this.uniforms.push(c);this.programs.push(e.INVALID);this.vertex_shaders.push(e.INVALID);this.fragment_shaders.push(e.INVALID);this.viewmatrix.push(!1);this.projmatrix.push(!1)}};m["haxor.context.MaterialContext"]=Lb;Lb.__name__=["haxor","context","MaterialContext"];Lb.prototype={Initialize:function(){e.m_gl.DepthFunc(515);e.m_gl.Enable(2929);e.m_gl.DepthMask(!0);e.m_gl.Disable(3042);e.m_gl.BlendFunc(1,0);e.m_gl.Enable(2884);e.m_gl.FrontFace(2305);e.m_gl.CullFace(1029);e.m_gl.Enable(3089)},UpdateFlags:function(a){a.zfunc!=
this.zfunc&&(this.zfunc=a.zfunc,e.m_gl.DepthFunc(this.zfunc));a.ztest!=this.ztest&&((this.ztest=a.ztest)?e.m_gl.Enable(2929):e.m_gl.Disable(2929));a.zwrite!=this.zwrite&&(this.zwrite=a.zwrite,e.m_gl.DepthMask(this.zwrite));a.blend!=this.blend&&((this.blend=a.blend)?e.m_gl.Enable(3042):e.m_gl.Disable(3042));var b=!1;a.blendSrc!=this.blendSrc&&(b=!0,this.blendSrc=a.blendSrc);a.blendDst!=this.blendDst&&(b=!0,this.blendDst=a.blendDst);b&&e.m_gl.BlendFunc(this.blendSrc,this.blendDst);a.invert!=this.invert&&
(this.invert=a.invert,e.m_gl.FrontFace(this.invert?2304:2305));a.cull!=this.cull&&(this.cull=a.cull,0==this.cull?e.m_gl.Disable(2884):(e.m_gl.Enable(2884),e.m_gl.CullFace(1==this.cull?1028:1029)))},InitializeMaterial:function(a){this.programs[a.__cid]=e.m_gl.CreateProgram()},InitializeShader:function(a){if(!F.__instanceof(a,wb)){var b="",c="",b=this.CreateCompileShader(a,35633,this.vertex_shaders),c=this.CreateCompileShader(a,35632,this.fragment_shaders);a.m_hasError&&(q.LogError("Shader> Compile Error @ ["+
a.get_name()+"]"),q.Log("[vertex]\n"+b),q.Log("[fragment]\n"+c))}},CreateUniform:function(a,b){var c=e.m_gl.GetUniformLocation(this.programs[a.__cid],b.name);this.uniforms[a.__cid][b.__cid]=c;b.__d=!0;b.exists=c!=e.INVALID},DestroyUniform:function(a,b){null!=a&&(this.uniforms[a.__cid][b.__cid]=e.INVALID);h.material.uid.set_id(b.__cid)},CreateCompileShader:function(a,b,c){var d=e.m_gl.CreateShader(b);b=35633==b?a.m_vss:a.m_fss;c[a.__cid]=d;e.m_gl.ShaderSource(d,b);e.m_gl.CompileShader(d);return 0==
e.m_gl.GetShaderParameter(d,35713)?(a.m_hasError=!0,e.m_gl.GetShaderInfoLog(d)):""},UpdateShader:function(a,b,c){var d=this.programs[a.__cid],g;null!=b&&(g=this.vertex_shaders[b.__cid],b=this.fragment_shaders[b.__cid],e.m_gl.DetachShader(d,g),e.m_gl.DetachShader(d,b));if(null!=c){g=this.vertex_shaders[c.__cid];b=this.fragment_shaders[c.__cid];e.m_gl.AttachShader(d,g);e.m_gl.AttachShader(d,b);g=h.mesh.attribs;b=0;for(var I=g.length;b<I;){var l=b++;e.m_gl.BindAttribLocation(d,l,g[l])}e.m_gl.LinkProgram(d);
0==e.m_gl.GetProgramParameter(d,35714)&&q.LogError("Material> ["+a.get_name()+"] Link Error @ ["+c.get_name()+"]");c=a.m_uniforms;g=0;for(b=c.length;g<b;)I=g++,this.CreateUniform(a,c[I]);c=0;for(g=this.locations[a.__cid].length;c<g;)b=c++,this.locations[a.__cid][b]=-1}c=this.uniform_globals.slice();g=0;for(b=h.data.get_m4().SetIdentity();g<c.length;)if(I=c[g],e.m_gl.GetUniformLocation(d,I)==e.INVALID)z.remove(c,I);else{switch(I){case "Ambient":a.SetColor(I,h.data.get_c().Set(1,1,1,1));break;case "Time":a.SetFloat(I,
0);break;case "RandomSeed":a.SetFloat(I,0);break;case "WorldMatrix":a.SetMatrix4(I,b);break;case "WorldMatrixInverse":a.SetMatrix4(I,b);break;case "WorldMatrixIT":a.SetMatrix4(I,b);break;case "CameraPosition":a.SetVector3(I,h.data.get_v3().Set(0,0,0));break;case "ViewMatrix":a.SetMatrix4(I,b);break;case "ViewMatrixInverse":a.SetMatrix4(I,b);break;case "ProjectionMatrix":a.SetMatrix4(I,b);break;case "ProjectionMatrixInverse":a.SetMatrix4(I,b)}g++}this.globals[a.__cid]=c},UpdateMaterial:function(a){},
GetAttribLocation:function(a){if(null==this.current)return-1;var b=this.programs[this.current.__cid],c=this.locations[this.current.__cid][a.__cid];-1==c&&(c=e.m_gl.GetAttribLocation(b,a.m_name),0>c&&(this.locations[this.current.__cid][a.__cid]=-2));return c},Bind:function(a,b,c){var d=a!=this.current;this.UseMaterial(a);this.UpdateMaterialUniforms(b,c,d)},UseMaterial:function(a){if(a!=this.current&&(this.Unbind(),this.current=a,null!=a)){this.viewmatrix[a.__cid]=!1;this.projmatrix[a.__cid]=!1;var b=
this.programs[a.__cid];this.UpdateFlags(a);e.m_gl.UseProgram(b)}},UpdateMaterialUniforms:function(a,b,c){if(null!=this.current){this.viewmatrix[this.current.__cid]=null==b?!1:b.m_view_uniform_dirty;this.projmatrix[this.current.__cid]=null==b?!1:b.m_proj_uniform_dirty;null==a&&(a=pa.get_root());c=a!=this.transform[this.current.__cid];null!=this.transform[this.current.__cid]&&(this.transform[this.current.__cid].m_uniform_dirty=!1);this.transform[this.current.__cid]=a;c=c||a.m_uniform_dirty;var d=b!=
this.camera[this.current.__cid]&&null!=b,g=this.viewmatrix[this.current.__cid]||d,d=this.projmatrix[this.current.__cid]||d;null!=b&&(this.camera[this.current.__cid]=b);this.UploadUniforms(c,g,d,a,b);this.viewmatrix[this.current.__cid]=!1;this.projmatrix[this.current.__cid]=!1}},UploadUniforms:function(a,b,c,d,g){for(var e=this.current.m_uniforms,l=0,w=e.length;l<w;){var f=l++,f=e[f];this.UploadGlobalUniform(f,a,b,c,d,g);this.UploadUniform(this.current,f)}},UploadUniform:function(a,b){var c;c=this.uniforms[a.__cid][b.__cid];
c!=e.INVALID&&(null!=b.texture&&h.texture.Bind(b.texture),b.__d&&this.ApplyUniform(c,b))},ApplyUniform:function(a,b){var c=b.offset;if(b.isFloat){var d=b.data;switch(c){case 1:e.Uniform1f(a,d.Get(0));break;case 2:e.Uniform2f(a,d.Get(0),d.Get(1));break;case 3:e.Uniform3f(a,d.Get(0),d.Get(1),d.Get(2));break;case 4:e.Uniform4f(a,d.Get(0),d.Get(1),d.Get(2),d.Get(3));break;case 16:e.m_gl.UniformMatrix4fv(a,!1,d);break;default:e.m_gl.Uniform1fv(a,d)}}else switch(d=b.data,c){case 1:e.Uniform1i(a,d.Get(0));
break;case 2:e.Uniform2i(a,d.Get(0),d.Get(1));break;case 3:e.Uniform3i(a,d.Get(0),d.Get(1),d.Get(2));break;case 4:e.Uniform4i(a,d.Get(0),d.Get(1),d.Get(2),d.Get(3));break;default:e.m_gl.Uniform1iv(a,d)}b.__d=!1},UploadGlobalUniform:function(a,b,c,d,g,e){switch(a.name){case "Ambient":a.SetColor(N.ambient);break;case "Time":a.SetFloat(p.m_elapsed);break;case "RandomSeed":a.SetFloat(Math.random());break;case "WorldMatrix":b&&a.SetMatrix4(g.get_WorldMatrix());break;case "WorldMatrixInverse":b&&a.SetMatrix4(g.get_WorldMatrixInverse());
break;case "WorldMatrixIT":b&&a.SetMatrix4(g.get_WorldMatrixInverse(),!0);break;case "CameraPosition":c&&a.SetVector3(e.m_entity.m_transform.get_position());break;case "ViewMatrix":c&&a.SetMatrix4(e.m_entity.m_transform.get_WorldMatrixInverse());break;case "ViewMatrixInverse":c&&a.SetMatrix4(e.m_entity.m_transform.get_WorldMatrix());break;case "ProjectionMatrix":d&&a.SetMatrix4(function(a){e.UpdateProjection();return e.m_projectionMatrix}(this));break;case "ProjectionMatrixInverse":d&&a.SetMatrix4(function(a){e.UpdateProjection();
return e.m_projectionMatrixInverse}(this))}},Unbind:function(){},DestroyMaterial:function(a){var b=this.programs[a.__cid];null!=a.m_shader&&(e.m_gl.DetachShader(b,this.vertex_shaders[a.m_shader.__cid]),e.m_gl.DetachShader(b,this.fragment_shaders[a.m_shader.__cid]));e.m_gl.DeleteProgram(b);h.material.mid.set_id(a.__cid);for(var b=0,c=a.m_uniforms.length;b<c;){var d=b++;this.uid.set_id(a.m_uniforms[d].__cid)}},DestroyShader:function(a){e.m_gl.DeleteShader(this.vertex_shaders[a.__cid]);e.m_gl.DeleteShader(this.fragment_shaders[a.__cid]);
h.material.sid.set_id(a.__cid)},__class__:Lb};var Kb=function(){this.attribs="vertex normal uv0 uv1 uv2 color weight bone".split(" ");this.aid=new ua;this.mid=new ua;this.buffers=[];this.activated=[];for(var a=0;32>a;)a++,this.activated.push(!1);for(a=0;512>a;)a++,this.buffers.push(e.INVALID)};m["haxor.context.MeshContext"]=Kb;Kb.__name__=["haxor","context","MeshContext"];Kb.prototype={Initialize:function(){q.Log("MeshContext> Initialize.",3)},Bind:function(a){a!=this.current&&(this.Unbind(),this.current=
a,null!=this.current&&this.ActivateAttributes())},ActivateAttributes:function(){for(var a,b=this.current.m_attribs,c=!1,d=0,g=b.length;d<g;){a=d++;a=b[a];var I=a._loc_;5==I&&(c=!0);if(0>I&&(I=h.material.GetAttribLocation(a),0>I))continue;this.activated[I]||(this.activated[I]=!0,this.active_max=Math.max(this.active_max,I),e.m_gl.EnableVertexAttrib(I));e.m_gl.BindBuffer(34962,this.buffers[a.__cid]);e.m_gl.VertexAttribPointer(I,a.offset,5126,!1,0,0)}c||(this.activated[5]&&(e.m_gl.DisableVertexAttrib(5),
this.activated[5]=!1),e.m_gl.VertexAttrib4f(5,1,1,1,1));this.current.m_indexed&&(a=this.current.m_topology_attrib,e.m_gl.BindBuffer(34963,this.buffers[a.__cid]))},Unbind:function(){},Draw:function(a){if(a.m_indexed)e.m_gl.DrawElements(a.primitive,a.m_topology_attrib.data.m_length,5123,0),T.triangles+=a.m_topology_attrib.data.m_length/3;else{e.m_gl.DrawArrays(a.primitive,0,a.m_vcount);var b=3;1==a.primitive&&(b=2);T.triangles+=a.m_vcount/b}},RemoveAttrib:function(a){var b=this.buffers[a.__cid];b!=
e.INVALID&&(e.m_gl.DeleteBuffer(b),this.buffers[a.__cid]=e.INVALID,this.aid.set_id(a.__cid))},UpdateAttrib:function(a,b,c){var d=this.buffers[a.__cid];c=c?34963:34962;a._loc_=this.attribs.indexOf(a.m_name);d==e.INVALID&&(d=e.m_gl.CreateBuffer(),this.buffers[a.__cid]=d);e.m_gl.BindBuffer(c,d);e.m_gl.BufferData(c,a.data,b)},__class__:Kb};var Qa=function(a,b){null==b&&(b=!0);this.name=a;this.__cid=Qa.m_cid;q.Log("\tProcess ["+a+"]["+this.__cid+"] created.",8);b&&Qa.m_cid++};m["haxor.context.BaseProcess"]=
Qa;Qa.__name__=["haxor","context","BaseProcess"];Qa.prototype={get_length:function(){return 0},Add:function(a){},Remove:function(a){return null},Clear:function(){},__class__:Qa};var Ga=function(a,b,c){null==c&&(c=!0);Qa.call(this,a,c);this.list=[];for(a=this.m_length=0;a<b;)a++,this.list.push(null)};m["haxor.context.Process"]=Ga;Ga.__name__=["haxor","context","Process"];Ga.__super__=Qa;Ga.prototype=B(Qa.prototype,{get_length:function(){return this.m_length},Add:function(a){0<=a.__pid[this.__cid]||
(this.m_length>=this.list.length&&this.list.push(null),this.list[this.m_length]=a,a.__pid[this.__cid]=this.m_length++)},Remove:function(a){var b=a.__pid[this.__cid];if(0>b)return a;a.__pid[this.__cid]=-1;this.m_length--;if(0>=this.m_length)return a;this.list[b]=this.list[this.m_length];a=this.list[b];a.__pid[this.__cid]=b;return a},Swap:function(a,b,c){null==c&&(c=!1);var d=a.__pid[this.__cid];if(!(0>d)){var g=b.__pid[this.__cid];0>g||(c||(this.list[d]=b,this.list[g]=a),b.__pid[this.__cid]=d,a.__pid[this.__cid]=
g)}},Clear:function(){this.m_length=0;this.list=[]},Sort:function(a){this.list.sort(a);a=0;for(var b=this.m_length;a<b;){var c=a++,d=this.list[c];null!=d&&(d.__pid[this.__cid]=c)}},ToString:function(){for(var a="",b=0,c=this.m_length;b<c;)var d=b++,d=this.list[d],a=a+("["+d.get_name()+","+d.__pid[this.__cid]+"]");return a},__class__:Ga});var Jb=function(){this.rid=new ua;this.fcid=new ua;this.sap=new Ob(.01,!1);this.sap_dirty=!1;this.deferred_culling=0;this.deferred_offset=100;this.display=[];this.sort=
[];for(var a=0;32>a;){var b=a++,b=new Ga("process.renderers",h.maxNodes,31==b);this.display.push(b);this.sort.push(!1)}};m["haxor.context.RendererContext"]=Jb;Jb.__name__=["haxor","context","RendererContext"];Jb.prototype={Initialize:function(){this.skinning=new kb(512,512,G.Float4)},Create:function(a){a.__cid=this.rid.get_id();a.m_has_mesh&&(a.__fcid=this.fcid.get_id(),this.sap.Create(a.__fcid))},AddCamera:function(a){a.__fcid=this.fcid.get_id();this.sap.Create(a.__fcid)},RemoveCamera:function(a){this.fcid.set_id(a.__fcid);
this.sap.Remove(a.__fcid)},OnMaterialChange:function(a){this.sort[a.m_entity.m_layer]=!0},OnMeshChange:function(a){this.sort[a.m_entity.m_layer]=!0},OnVisibilityChange:function(a,b){for(var c=a.m_entity.m_components,d=0,g=c.length;d<g;){var e=d++;c[e].OnVisibilityChange(b)}},DeferredCulling:function(a){return!1},OnLayerChange:function(a,b,c){this.sort[b]=!0;this.display[b].Remove(a);a.get_enabled()&&(this.display[c].Add(a),this.sort[c]=!0)},UpdateDisplayList:function(a){a=a.m_layers;for(var b=0,c=
a.length;b<c;){var d=b++,d=a[d],g=this.display[d];this.sort[d]&&(this.sort[d]=!1,1<g.m_length&&g.Sort(Z(this,this.DisplayListSort)))}},Enable:function(a){this.display[a.m_entity.m_layer].Add(a);this.sort[a.m_entity.m_layer]=!0;a.m_has_mesh&&(a.m_culling_dirty=!0)},Disable:function(a){this.display[a.m_entity.m_layer].Remove(a);this.sort[a.m_entity.m_layer]=!0},UpdateCameraSAP:function(a){if(this.sap_dirty||a.m_view_uniform_dirty||a.m_proj_uniform_dirty){var b=h.data.get_v3().Set4(a.m_frustum[0]),c=
h.data.get_v3().Set4(a.m_frustum[1]),d=h.data.get_v3().Set4(a.m_frustum[2]),g=h.data.get_v3().Set4(a.m_frustum[3]),e=h.data.get_v3().Set4(a.m_frustum[4]),l=h.data.get_v3().Set4(a.m_frustum[5]),w=h.data.get_v3().Set4(a.m_frustum[6]),f=h.data.get_v3().Set4(a.m_frustum[7]);a.m_entity.m_transform.get_WorldMatrix().Transform3x4(b);a.m_entity.m_transform.get_WorldMatrix().Transform3x4(c);a.m_entity.m_transform.get_WorldMatrix().Transform3x4(d);a.m_entity.m_transform.get_WorldMatrix().Transform3x4(g);a.m_entity.m_transform.get_WorldMatrix().Transform3x4(e);
a.m_entity.m_transform.get_WorldMatrix().Transform3x4(l);a.m_entity.m_transform.get_WorldMatrix().Transform3x4(w);a.m_entity.m_transform.get_WorldMatrix().Transform3x4(f);var m=h.data.get_v3().Set(b.x,b.y,b.z),b=h.data.get_v3().Set(b.x,b.y,b.z);m.x=k.Min(m.x,k.Min(c.x,Math.min(d.x,g.x)));m.y=k.Min(m.y,k.Min(c.y,Math.min(d.y,g.y)));m.z=k.Min(m.z,k.Min(c.z,Math.min(d.z,g.z)));b.x=k.Max(b.x,k.Max(c.x,Math.max(d.x,g.x)));b.y=k.Max(b.y,k.Max(c.y,Math.max(d.y,g.y)));b.z=k.Max(b.z,k.Max(c.z,Math.max(d.z,
g.z)));m.x=k.Min(m.x,k.Min(e.x,k.Min(l.x,Math.min(w.x,f.x))));m.y=k.Min(m.y,k.Min(e.y,k.Min(l.y,Math.min(w.y,f.y))));m.z=k.Min(m.z,k.Min(e.z,k.Min(l.z,Math.min(w.z,f.z))));b.x=k.Max(b.x,k.Max(e.x,k.Max(l.x,Math.max(w.x,f.x))));b.y=k.Max(b.y,k.Max(e.y,k.Max(l.y,Math.max(w.y,f.y))));b.z=k.Max(b.z,k.Max(e.z,k.Max(l.z,Math.max(w.z,f.z))));this.UpdateSAP(a.__fcid,a,m,b)}},UpdateSAP:function(a,b,c,d){this.sap_dirty=!0;this.sap.Update(a,b,c,d)},IsSAPCulled:function(a,b){return a.m_has_mesh?this.sap.Overlap(a.__fcid,
b.__fcid):!1},Destroy:function(a){this.display[a.m_entity.m_layer].Remove(a);this.sort[a.m_entity.m_layer]=!0;this.rid.set_id(a.__cid);a.m_has_mesh&&(this.fcid.set_id(a.__fcid),this.sap.Remove(a.__fcid))},DisplayListSort:function(a,b){if(null==a&&null==b)return 0;if(null==a)return 1;if(null==b)return-1;if(null==a.m_material&&null==b.m_material)return 0;if(null==a.m_material)return 1;if(null==b.m_material)return-1;var c=a.m_material.queue,d=b.m_material.queue;return c!=d?c<d?-1:1:a.m_has_mesh||b.m_has_mesh?
a.m_has_mesh?!b.m_has_mesh||a.m_material.get_uid()<b.m_material.get_uid()?-1:a.m_material.get_uid()>b.m_material.get_uid()?1:null==a.m_mesh&&null==b.m_mesh?0:null==a.m_mesh?1:null==b.m_mesh||a.m_mesh.get_uid()<b.m_mesh.get_uid()?-1:a.m_mesh.get_uid()>b.m_mesh.get_uid()?1:0:1:0},__class__:Jb};var ia=function(){};m["haxor.context.ShaderContext"]=ia;ia.__name__=["haxor","context","ShaderContext"];var ba=function(){this.tid=new ua;this.target=this.bind=null;this.active=-1;this.next_slot=0;this.bind=[];
this.ids=[];this.framebuffers=[];this.renderbuffers=[]};m["haxor.context.TextureContext"]=ba;ba.__name__=["haxor","context","TextureContext"];ba.TextureToTarget=function(a){return a.get_type()==J.Texture2D||a.get_type()==J.RenderTexture?3553:a.get_type()==J.TextureCube?34067:3553};ba.FormatToChannelBits=function(a){switch(a[1]){case 0:return 6406;case 2:return 6407;case 7:case 4:return 6409;case 8:case 5:return 6407;case 1:return 6409;case 10:return 6402}return 6408};ba.FormatToChannelType=function(a){switch(a[1]){case 4:case 5:case 6:return e.HALF_FLOAT;
case 7:case 8:case 9:return 5126;case 10:return 5123}return 5121};ba.FormatToChannelLayout=function(a){switch(a[1]){case 0:return 6406;case 2:return 6407;case 1:case 4:case 7:return 6409;case 8:case 5:return 6407;case 10:return 6402}return 6408};ba.prototype={Initialize:function(){for(var a=0,b=e.MAX_ACTIVE_TEXTURE;a<b;)a++,this.bind.push(null);for(a=0;2048>a;)a++,this.ids.push(e.INVALID),this.framebuffers.push(e.INVALID),this.renderbuffers.push(e.INVALID)},Alloc:function(a){var b=a.m_width,c=a.m_height,
d=ba.FormatToChannelLayout(a.m_format),g=ba.FormatToChannelBits(a.m_format),I=ba.FormatToChannelType(a.m_format),l;l=a.get_type()==J.Texture2D?3553:a.get_type()==J.RenderTexture?3553:a.get_type()==J.TextureCube?34067:3553;this.Bind(a);e.m_gl.TexImage2DAlloc(l,0,d,b,c,0,g,I)},Create:function(a){a.__slot=this.next_slot%e.MAX_ACTIVE_TEXTURE;this.next_slot++;var b=e.m_gl.CreateTexture();this.ids[a.__cid]=b;this.UpdateParameters(a);a.get_type()!=J.TextureCube&&this.Alloc(a);if(a.get_type()==J.RenderTexture){var c=
e.m_gl.CreateFramebuffer();this.framebuffers[a.__cid]=c;e.m_gl.BindFramebuffer(36160,c);e.m_gl.FramebufferTexture2D(36160,36064,3553,b,0);null!=a.m_depth?e.m_gl.FramebufferTexture2D(36160,36096,3553,this.ids[a.m_depth.__cid],0):(b=e.m_gl.CreateRenderbuffer(),this.renderbuffers[a.__cid]=b,e.m_gl.BindRenderbuffer(36161,b),e.m_gl.RenderbufferStorage(36161,33189,a.m_width,a.m_height),e.m_gl.FramebufferRenderbuffer(36160,36096,36161,b));e.BindFramebuffer(36160,e.NULL);e.BindRenderbuffer(36161,e.NULL);
this.Unbind()}},Bind:function(a){var b=a.__slot;e.m_gl.ActiveTexture(33984+b);this.active=b;var c=this.ids[a.__cid],d;d=a.get_type()==J.Texture2D?3553:a.get_type()==J.RenderTexture?3553:a.get_type()==J.TextureCube?34067:3553;e.m_gl.BindTexture(d,c);this.bind[b]=a},Unbind:function(){0>this.active||null==this.bind[this.active]||(ba.TextureToTarget(this.bind[this.active]),this.bind[this.active]=null,e.BindTexture(3553,e.NULL))},UpdateParameters:function(a){var b;b=a.get_type()==J.Texture2D?3553:a.get_type()==
J.RenderTexture?3553:a.get_type()==J.TextureCube?34067:3553;this.Bind(a);e.m_gl.TexParameteri(b,10242,0!=(a.m_wrap&qa.ClampX)?33071:10497);e.m_gl.TexParameteri(b,10243,0!=(a.m_wrap&qa.ClampY)?33071:10497);e.TEXTURE_ANISOTROPY_ENABLED&&e.TexParameterf(b,e.TEXTURE_ANISOTROPY,Math.max(1,a.m_aniso));var c=a.m_minFilter,d=a.m_magFilter;a.m_format!=G.Half||e.TEXTURE_HALF_LINEAR||(d=c=V.Nearest);switch(c[1]){case 0:e.m_gl.TexParameteri(b,10241,9728);break;case 3:e.m_gl.TexParameteri(b,10241,9986);break;
case 2:e.m_gl.TexParameteri(b,10241,9984);break;case 1:e.m_gl.TexParameteri(b,10241,9729);break;case 5:e.m_gl.TexParameteri(b,10241,9987);break;case 6:e.m_gl.TexParameteri(b,10241,9987);break;case 4:e.m_gl.TexParameteri(b,10241,9985)}switch(d[1]){case 0:e.m_gl.TexParameteri(b,10240,9728);break;case 3:e.m_gl.TexParameteri(b,10240,9728);break;case 2:e.m_gl.TexParameteri(b,10240,9728);break;case 1:e.m_gl.TexParameteri(b,10240,9729);break;case 5:e.m_gl.TexParameteri(b,10240,9729);break;case 6:e.m_gl.TexParameteri(b,
10240,9729);break;case 4:e.m_gl.TexParameteri(b,10240,9729)}},Update:function(a){var b;b=a.get_type()==J.Texture2D?3553:a.get_type()==J.RenderTexture?3553:a.get_type()==J.TextureCube?34067:3553;this.Bind(a);34067==b?(null!=a.m_faces[0]&&this.WriteTexture(34069,a.m_faces[0]),null!=a.m_faces[1]&&this.WriteTexture(34070,a.m_faces[1]),null!=a.m_faces[2]&&this.WriteTexture(34071,a.m_faces[2]),null!=a.m_faces[3]&&this.WriteTexture(34072,a.m_faces[3]),null!=a.m_faces[4]&&this.WriteTexture(34073,a.m_faces[4]),
null!=a.m_faces[5]&&this.WriteTexture(34074,a.m_faces[5])):this.WriteTexture(b,a)},UploadTexture:function(a,b,c,d,g,I,l){var w=this,f=a.m_data,h=c,k=ba.FormatToChannelLayout(a.m_format);ba.FormatToChannelBits(a.m_format);var m=ba.FormatToChannelType(a.m_format),n=g/I|0;1>=n&&(n=1);new $(function(c){if(h>=g)return null!=l&&l(),!1;w.Bind(a);for(c=0;c<n;){c++;if(!(0>h)){if(h>=f.m_height)return null!=l&&l(),!1;var I=(b+h*d)*f.m_channels,p=d*f.m_channels;f.get_buffer().SetViewSlice(I,p);e.TexSubImage2D(3553,
0,b,h,d,1,k,m,f.get_buffer());f.get_buffer().ResetSlice()}h++}return!0},!1,!0)},WriteTexture:function(a,b){var c=b.m_width,d=b.m_height,g=ba.FormatToChannelLayout(b.m_format),I=ba.FormatToChannelBits(b.m_format),l=ba.FormatToChannelType(b.m_format);b.m_format==G.Depth?e.m_gl.TexImage2DAlloc(a,0,g,c,d,0,g,l):b.get_type()==J.Compute||b.get_type()==J.Texture2D?e.TexImage2D(a,0,g,c,d,0,I,l,b.m_data.get_buffer()):b.get_type()==J.RenderTexture&&e.m_gl.FramebufferTexture2D(36160,36064,a,this.ids[b.__cid],
0)},BindTarget:function(a){null==a?this.target!=a&&(e.BindFramebuffer(36160,e.NULL),e.BindRenderbuffer(36161,e.NULL),this.target=null):this.target!=a&&(e.m_gl.BindFramebuffer(36160,this.framebuffers[a.__cid]),null==a.m_depth&&e.m_gl.BindRenderbuffer(36161,this.renderbuffers[a.__cid]),this.target=a)},UpdateMipmaps:function(a){this.Bind(a);a=a.get_type()==J.Texture2D?3553:a.get_type()==J.RenderTexture?3553:a.get_type()==J.TextureCube?34067:3553;e.m_gl.GenerateMipmap(a)},Destroy:function(a){var b=this.ids[a.__cid];
b!=e.INVALID&&e.m_gl.DeleteTexture(b);if(a.get_type()==J.RenderTexture){var b=this.framebuffers[a.__cid],c=this.renderbuffers[a.__cid];b!=e.INVALID&&e.m_gl.DeleteFramebuffer(b);c!=e.INVALID&&e.m_gl.DeleteRenderbuffer(c)}h.texture.tid.set_id(a.__cid)},__class__:ba};var Nb=function(){this.tid=new ua};m["haxor.context.TransformContext"]=Nb;Nb.__name__=["haxor","context","TransformContext"];Nb.prototype={Initialize:function(){},OnChange:function(a){a.m_uniform_dirty=!0;a=a.m_entity.m_components;for(var b=
0,c=a.length;b<c;){var d=b++;a[d].OnTransformUpdate()}},__class__:Nb};var ua=function(){this.m_id=0;this.m_cache=[]};m["haxor.context.UID"]=ua;ua.__name__=["haxor","context","UID"];ua.prototype={get_id:function(){return 0>=this.m_cache.length?this.m_id++:this.m_cache.shift()},set_id:function(a){this.m_cache.push(a);return a},get_next:function(){return this.m_id},__class__:ua};var U={__ename__:!0,__constructs__:"Unknown Windows Linux Android MacOS iOS HTML NodeJS".split(" "),Unknown:["Unknown",0]};
U.Unknown.__enum__=U;U.Windows=["Windows",1];U.Windows.__enum__=U;U.Linux=["Linux",2];U.Linux.__enum__=U;U.Android=["Android",3];U.Android.__enum__=U;U.MacOS=["MacOS",4];U.MacOS.__enum__=U;U.iOS=["iOS",5];U.iOS.__enum__=U;U.HTML=["HTML",6];U.HTML.__enum__=U;U.NodeJS=["NodeJS",7];U.NodeJS.__enum__=U;var na={__ename__:!0,__constructs__:["None","File","HTTP","HTTPS"],None:["None",0]};na.None.__enum__=na;na.File=["File",1];na.File.__enum__=na;na.HTTP=["HTTP",2];na.HTTP.__enum__=na;na.HTTPS=["HTTPS",3];
na.HTTPS.__enum__=na;var q=function(){};m["haxor.core.Console"]=q;q.__name__=["haxor","core","Console"];q.Initialize=function(){var a={log:function(a){}};try{q.m_console=console}catch(b){q.m_console=a}};q.Breakpoint=function(){debugger};q.Log=function(a,b){null==b&&(b=0);q.verbose>=b&&q.m_console.log(a)};q.LogImage=function(a,b){q.m_console.log("%c                                                                                                                                                            ",
"background: transparent url("+a+") no-repeat; font-size: "+(b-3)+"px;")};q.LogWarning=function(a,b){null==q.m_console&&console.log("[W] "+a);null==b&&(b=[]);switch(b.length){case 0:q.m_console.warn(a);break;case 1:q.m_console.warn(a,b[0]);break;case 2:q.m_console.warn(a,b[0],b[1]);break;case 3:q.m_console.warn(a,b[0],b[1],b[2]);break;case 4:q.m_console.warn(a,b[0],b[1],b[2],b[3])}};q.LogError=function(a,b){if(null==q.m_console)console.log("[E] "+a);else switch(null==b&&(b=[]),b.length){case 0:q.m_console.error(a);
break;case 1:q.m_console.error(a,b[0]);break;case 2:q.m_console.error(a,b[0],b[1]);break;case 3:q.m_console.error(a,b[0],b[1],b[2]);break;case 4:q.m_console.error(a,b[0],b[1],b[2],b[3])}};q.ClearStyle=function(){q.m_style=""};q.Clear=function(){null!=q.m_console&&q.m_console.clear()};q.TimeStart=function(a){null!=q.m_console&&q.m_console.time(a)};q.TimeEnd=function(a){null!=q.m_console&&q.m_console.timeEnd(a)};q.StackTrace=function(){null!=q.m_console&&q.m_console.trace()};q.SetStyle=function(a,b,
c,d){null==d&&(d="'Lucida Console', Monaco, monospace");null==c&&(c="rgba(255,255,255,0)");null==b&&(b="rgba(0,0,0,1)");null==a&&(a="12px");q.m_style="background-color: "+c+"; font-size: "+a+"; color: "+b+"; font-family: "+d+";"};var cb={__ename__:!0,__constructs__:["Play","Editor"],Play:["Play",0]};cb.Play.__enum__=cb;cb.Editor=["Editor",1];cb.Editor.__enum__=cb;var ha=function(){};m["haxor.core.Engine"]=ha;ha.__name__=["haxor","core","Engine"];ha.Initialize=function(){q.Log("Haxor> Engine Initialize.",
3);h.Initialize();ha.state=cb.Play};ha.Collect=function(){for(var a=h.disposables,b=0,c=h.collectRate;b<c;){b++;if(0>=a.m_length)break;var d=a.list[0];d.OnDestroy();a.Remove(d)}};ha.Update=function(){if(ha.state!=cb.Editor)for(var a=h.update,b=0,c=a.m_length;b<c;){var d=b++,g=a.list[d];g.m_destroyed||(g.m_is_behaviour&&(g.m_is_awake||(g.OnAwake(),g.m_is_awake=!0),g.m_is_start||(g.OnStart(),g.m_is_start=!0)),a.list[d].OnUpdate())}};ha.Render=function(){ma.Render();ha.RenderIRenderers()};ha.RenderIRenderers=
function(){for(var a=h.render,b=0,c=a.m_length;b<c;){var d=b++;a.list[d].m_destroyed||a.list[d].OnRender()}};ha.Resize=function(){ma.Resize();if(ha.state!=cb.Editor)for(var a=h.resize,b=0,c=a.m_length;b<c;){var d=b++;a.list[d].m_destroyed||a.list[d].OnResize(C.m_width,C.m_height)}};var la=function(a){null==a&&(a="");y.call(this,a);this.m_enabled=!0;this.m_components=[];this.m_layer=1;this.m_transform=this.AddComponent(pa)};m["haxor.core.Entity"]=la;la.__name__=["haxor","core","Entity"];la.__super__=
y;la.prototype=B(y.prototype,{get_enabled:function(){return this.m_enabled&&!this.m_destroyed},set_enabled:function(a){if(this.m_destroyed)return!1;if(this.m_enabled==a)return a;this.m_enabled=a;for(var b=0,c=this.m_components.length;b<c;){var d=b++,d=this.m_components[d];d.m_is_behaviour&&d.set_enabled(a)}return a},get_transform:function(){return this.m_transform},get_layer:function(){return this.m_layer},set_layer:function(a){0>=a&&(a=1);if(this.m_layer==a)return a;var b=this.m_layer;this.m_layer=
a;h.OnEntiyLayerChange(this,b,this.m_layer);return this.m_layer},AddComponent:function(a){if(this.m_destroyed)return null;if(null!=this.m_transform&&a==pa)return this.m_transform;var b=null,b=Ja.createInstance(a,[""]);if(null==b)return null;b.m_entity=this;b.m_is_behaviour&&b.set_enabled(this.m_enabled&&!this.m_destroyed);b.OnBuild();this.m_components.push(b);return b},GetComponent:function(a){for(var b=0,c=this.m_components.length;b<c;){var d=b++;if(F.__instanceof(this.m_components[d],a))return this.m_components[d]}return null},
GetComponents:function(a){for(var b=[],c=0,d=this.m_components.length;c<d;){var g=c++;F.__instanceof(this.m_components[g],a)&&b.push(this.m_components[g])}return b},GetComponentInChildren:function(a){var b=null;this.m_transform.Traverse(function(c,d){if(null!=b)return!0;var g=c.m_entity.GetComponents(a);0<g.length&&(b=g[0]);return!0});return b},GetComponentsInChildren:function(a){var b=[];this.m_transform.Traverse(function(c,d){for(var g=c.m_entity.GetComponents(a),e=0,l=g.length;e<l;){var f=e++;
b.push(g[f])}return!0});return b},OnDestroy:function(){for(var a=0,b=this.m_components.length;a<b;){var c=a++;this.m_components[c].OnDestroy()}this.m_components=null},__class__:la});var ob=function(){};m["haxor.core.RenderQueue"]=ob;ob.__name__=["haxor","core","RenderQueue"];var Aa=function(){};m["haxor.core.BlendMode"]=Aa;Aa.__name__=["haxor","core","BlendMode"];var Pb=function(){};m["haxor.core.MeshMode"]=Pb;Pb.__name__=["haxor","core","MeshMode"];var Wa=function(){};m["haxor.core.MeshPrimitive"]=
Wa;Wa.__name__=["haxor","core","MeshPrimitive"];var Qb=function(){};m["haxor.core.CullMode"]=Qb;Qb.__name__=["haxor","core","CullMode"];var Ra=function(){};m["haxor.core.DepthTest"]=Ra;Ra.__name__=["haxor","core","DepthTest"];var G={__ename__:!0,__constructs__:"Alpha8 Luminance RGB8 RGBA8 Half Half3 Half4 Float Float3 Float4 Depth".split(" "),Alpha8:["Alpha8",0]};G.Alpha8.__enum__=G;G.Luminance=["Luminance",1];G.Luminance.__enum__=G;G.RGB8=["RGB8",2];G.RGB8.__enum__=G;G.RGBA8=["RGBA8",3];G.RGBA8.__enum__=
G;G.Half=["Half",4];G.Half.__enum__=G;G.Half3=["Half3",5];G.Half3.__enum__=G;G.Half4=["Half4",6];G.Half4.__enum__=G;G.Float=["Float",7];G.Float.__enum__=G;G.Float3=["Float3",8];G.Float3.__enum__=G;G.Float4=["Float4",9];G.Float4.__enum__=G;G.Depth=["Depth",10];G.Depth.__enum__=G;var V={__ename__:!0,__constructs__:"Nearest Linear NearestMipmapNearest NearestMipmapLinear LinearMipmapNearest LinearMipmapLinear Trilinear".split(" "),Nearest:["Nearest",0]};V.Nearest.__enum__=V;V.Linear=["Linear",1];V.Linear.__enum__=
V;V.NearestMipmapNearest=["NearestMipmapNearest",2];V.NearestMipmapNearest.__enum__=V;V.NearestMipmapLinear=["NearestMipmapLinear",3];V.NearestMipmapLinear.__enum__=V;V.LinearMipmapNearest=["LinearMipmapNearest",4];V.LinearMipmapNearest.__enum__=V;V.LinearMipmapLinear=["LinearMipmapLinear",5];V.LinearMipmapLinear.__enum__=V;V.Trilinear=["Trilinear",6];V.Trilinear.__enum__=V;var qa=function(){};m["haxor.core.TextureWrap"]=qa;qa.__name__=["haxor","core","TextureWrap"];var J={__ename__:!0,__constructs__:["None",
"Texture2D","TextureCube","RenderTexture","Compute"],None:["None",0]};J.None.__enum__=J;J.Texture2D=["Texture2D",1];J.Texture2D.__enum__=J;J.TextureCube=["TextureCube",2];J.TextureCube.__enum__=J;J.RenderTexture=["RenderTexture",3];J.RenderTexture.__enum__=J;J.Compute=["Compute",4];J.Compute.__enum__=J;var za=function(){};m["haxor.core.ClearFlag"]=za;za.__name__=["haxor","core","ClearFlag"];var O={__ename__:!0,__constructs__:["None","Down","Up","Hold"],None:["None",0]};O.None.__enum__=O;O.Down=["Down",
1];O.Down.__enum__=O;O.Up=["Up",2];O.Up.__enum__=O;O.Hold=["Hold",3];O.Hold.__enum__=O;var nb=function(){};m["haxor.core.IResizeable"]=nb;nb.__name__=["haxor","core","IResizeable"];nb.prototype={__class__:nb};var ma=function(){};m["haxor.core.RenderEngine"]=ma;ma.__name__=["haxor","core","RenderEngine"];ma.Render=function(){T.BeginRender();ma.RenderCameras();ma.RenderFinish()};ma.RenderCameras=function(){for(var a=h.camera.list,b=0,c=a.length;b<c;){var d=b++,d=X.m_current=a[d];ma.RenderCamera(d)}};
ma.RenderCamera=function(a){if(a.get_enabled()){h.camera.Bind(a);for(var b=a.m_layers,c=0,d=b.length;c<d;){var g=c++;ma.RenderCameraLayer(b[g],a)}h.camera.Unbind(a)}};ma.RenderCameraLayer=function(a,b){for(var c=h.renderer.display[a],d=0,g=c.m_length;d<g;){var e=d++,e=c.list[e];h.renderer.IsSAPCulled(e,b)||ma.RenderRenderer(e)}};ma.RenderRenderer=function(a){a.UpdateCulling();!a.m_visible||a.m_culled?T.culled++:(T.visible++,a.OnRender())};ma.RenderFinish=function(){for(var a=h.camera.list,b=0,c=a.length;b<
c;){var d=b++;a[d].m_view_uniform_dirty=!1;a[d].m_proj_uniform_dirty=!1}h.renderer.sap_dirty=!1};ma.Resize=function(){h.camera.Resize()};var Rb=function(a){y.call(this,a)};m["haxor.core.Scene"]=Rb;Rb.__name__=["haxor","core","Scene"];Rb.__super__=y;Rb.prototype=B(y.prototype,{__class__:Rb});var T=function(){};m["haxor.core.Stats"]=T;T.__name__=["haxor","core","Stats"];T.get_total=function(){return T.visible+T.culled};T.Initialize=function(){T.visible=0;T.culled=0;T.triangles=0;T.renderers=0};T.BeginRender=
function(){T.visible=0;T.culled=0;T.triangles=0;T.renderers=h.renderer.rid.get_next()};var p=function(){};m["haxor.core.Time"]=p;p.__name__=["haxor","core","Time"];p.get_system=function(){return p.m_system};p.get_clock=function(){return p.m_clock};p.get_delta=function(){return p.m_delta};p.get_framedelta=function(){return p.m_frame_delta};p.get_elapsed=function(){return p.m_elapsed};p.get_fps=function(){return p.m_fps};p.get_ups=function(){return p.m_ups};p.get_frame=function(){return p.m_frame};
p.Initialize=function(){p.m_system=0;p.m_clock_0=0;p.m_clock_0=p.m_system;p.m_clock=p.m_system;p.m_clock_dt=0;p.m_start_clock=p.m_clock;p.m_last_clock=p.m_clock;p.m_last_frame_clock=p.m_clock;p.m_stats_clock=p.m_clock;p.m_elapsed=0;p.m_delta=0;p.m_frame_delta=0;p.m_ups=0;p.m_fps=0;p.m_updates=0;p.m_frame_count=0;p.m_frame=0};p.Update=function(){p.m_clock=p.m_system;p.m_clock_dt=p.m_clock-p.m_last_clock;0>=p.m_clock_dt&&(p.m_clock_dt=1);p.m_last_clock=p.m_clock;p.m_delta=.001*p.m_clock_dt;p.m_elapsed=
.001*p.m_clock;p.m_updates+=1;1E3<=p.m_clock-p.m_stats_clock&&(p.m_stats_clock+=p.m_clock-p.m_stats_clock,p.m_ups=p.m_updates,p.m_fps=p.m_frame_count,p.m_updates=0,p.m_frame_count=0,q.Log("FPS: "+p.m_fps,7))};p.Render=function(){p.m_frame_count+=1;p.m_frame++;p.m_frame_delta=.001*(p.m_clock-p.m_last_frame_clock);p.m_last_frame_clock=p.m_clock};var Ca=function(a,b){null==b&&(b="");y.call(this,b);this.m_layout=new Sb(this);this.m_rotation=this.m_height=this.m_width=this.m_py=this.m_px=this.m_y=this.m_x=
0;this.m_sy=this.m_sx=1;this.m_mouseEnabled=!0;this.m_globalAlpha=this.m_alpha=1;this.m_visible=this.m_globalVisible=!0;this.m_parent=null;this.set_element(a);""==b?this.set_name(this.m_type_name+this.get_uid()):this.set_name(b)};m["haxor.dom.DOMEntity"]=Ca;Ca.__name__=["haxor","dom","DOMEntity"];Ca.__super__=y;Ca.prototype=B(y.prototype,{get_x:function(){return this.m_x},set_x:function(a){this.m_x=a;this.UpdateTransform();return a},get_y:function(){return this.m_y},set_y:function(a){this.m_y=a;this.UpdateTransform();
return a},get_px:function(){return this.m_px},set_px:function(a){this.m_px=a;this.UpdateTransform();return a},get_py:function(){return this.m_py},set_py:function(a){this.m_py=a;this.UpdateTransform();return a},get_width:function(){return this.m_width},set_width:function(a){this.m_width=Math.max(0,a);this.UpdateRect();return this.m_width},get_height:function(){return this.m_height},set_height:function(a){this.m_height=Math.max(0,a);this.UpdateRect();return this.m_height},get_sx:function(){return this.m_sx},
set_sx:function(a){this.m_sx=a;this.UpdateTransform();return a},get_sy:function(){return this.m_sy},set_sy:function(a){this.m_sy=a;this.UpdateTransform();return a},get_rotation:function(){return this.m_rotation},set_rotation:function(a){this.m_rotation=a;this.UpdateTransform();return a},get_mouseX:function(){return null==this.get_parent()?n.mouse.x:this.get_parent().get_mouseX()-this.m_x},get_mouseY:function(){return null==this.get_parent()?n.mouse.y:this.get_parent().get_mouseY()-this.get_y()},get_rect:function(){var a=
this.get_layout().get_margin();return new ja(r["int"](this.m_x-this.m_px+a.get_xMin()),r["int"](this.m_y-this.m_py+a.get_yMin()),r["int"](this.m_width-(a.get_xMin()+a.get_xMax())),r["int"](this.m_height-(a.get_yMin()+a.get_yMax())))},get_alpha:function(){return this.m_alpha},set_alpha:function(a){this.m_alpha=a;this.UpdateMaterial();return a},get_visible:function(){return this.m_visible},set_visible:function(a){this.m_visible=a;this.UpdateMaterial();return a},get_mouseEnabled:function(){return this.m_mouseEnabled},
set_mouseEnabled:function(a){this.m_mouseEnabled=a;null!=this.m_element&&this.m_element.style.setProperty("pointer-events",a?"auto":"none","");return a},get_layout:function(){return this.m_layout},get_parent:function(){return this.m_parent},get_stage:function(){return K.m_instance},set_name:function(a){y.prototype.set_name.call(this,a);null!=this.m_element&&this.m_element.setAttribute("name",a);return a},get_element:function(){return this.m_element},set_element:function(a){if(this.m_element==a)return a;
var b=this.m_element;this.get_stage()!=this&&null!=b&&(b.parentElement.replaceChild(a,b),b.remove());this.m_element=b=a;this.get_stage()!=this&&null!=b&&(b.style.position="absolute",b.style.left=b.style.top="0px",b.setAttribute("script",this.m_type_name),b.setAttribute("name",this.get_name()));return b},UpdateMaterial:function(){if(this.get_stage()!=this){var a;a=null==this.get_parent()?1:this.get_parent().m_globalAlpha;var b;b=null==this.get_parent()?!0:this.get_parent().m_globalVisible;var c=this.m_element;
a=0>a||0>this.m_alpha;this.m_globalAlpha=k.Clamp01(this.m_alpha)*k.Clamp01(this.m_alpha);a&&(this.m_globalAlpha=-this.m_globalAlpha);this.m_globalVisible=this.m_visible&&b&&!a;c.style.opacity=this.m_globalAlpha+"";c.style.display=this.m_globalVisible?"block":"none"}},UpdateRect:function(){if(this.get_stage()!=this){var a=this.m_element,b=this.get_layout().m_margin;this.get_layout().Update();a.style.width=r["int"](this.m_width-(b.get_xMin()+b.get_xMax()))+"px";a.style.height=r["int"](this.m_height-
(b.get_yMin()+b.get_yMax()))+"px";this.OnRepaint()}},UpdateTransform:function(){if(this.get_stage()!=this){var a=this.m_element,b=this.get_layout().m_margin;this.get_layout().Update();var c=k.Floor(this.m_x-this.m_px+b.get_xMin()),b=k.Floor(this.m_y-this.m_py+b.get_yMin()),d=c+this.m_px,g=b+this.m_py,e=this.get_application().get_vendor(),l=a.style.getPropertyValue(e+"transform-origin");""!=l&&null!=l&&a.style.removeProperty(e+"transform-origin");a.style.cssText=a.style.cssText+" "+e+"transform-origin: "+
d+"px "+g+"px;";a.style.setProperty(e+"transform","rotate3d(0,0,1,"+this.m_rotation+"deg) scale3d("+this.m_sx+","+this.m_sy+",1.0) translate3d("+c+"px,"+b+"px,0px)","")}},OnRepaint:function(){},OnAdded:function(){},OnAddedToStage:function(){},OnRemoved:function(){},AddedToStage:function(){this.m_added_stage||(this.m_added_stage=!0,this.OnAddedToStage())},__class__:Ca});var ka=function(a,b){null==b&&(b="");this.m_children=[];var c;c=null==a?window.document.createElement("div"):a;Ca.call(this,c,b)};
m["haxor.dom.Container"]=ka;ka.__name__=["haxor","dom","Container"];ka.DOMPath=function(a){for(var b=[];null!=a;){if(a.hasAttribute("script")){if(0<=a.getAttribute("script").toLowerCase().indexOf("stage"))break;b.push(a.getAttribute("name"))}a=a.parentElement}b.reverse();return b.join(".")};ka.__super__=Ca;ka.prototype=B(Ca.prototype,{get_childCount:function(){return null==this.m_children?0:this.m_children.length},IsChild:function(a){if(null==this.m_children)return!1;for(var b=0,c=this.m_children;b<
c.length;){var d=c[b];++b;if(d==a)return!0}return!1},Parse:function(a){a=a.children;for(var b=1,c=a.length;b<c;){var d=b++,d=a.item(d);K.BuildStep(d,this)}b=0;for(c=a.length;b<c;)if(d=b++,d=a.item(d),null!=d)switch(d.nodeName.toLowerCase()){case "container":d.remove();break;case "sprite":d.remove()}},AddChild:function(a){this.AddChildAt(a)},AddChildAt:function(a,b){null==b&&(b=-1);if(a!=this&&!this.IsChild(a)){null!=a.get_parent()&&a.get_parent().RemoveChild(a);var c;c=0>b?this.m_children.length:
b;this.m_children.push(a);this.m_element.appendChild(a.m_element);a.m_parent=this;this.SetChildIndex(a,c);this.UpdateTransform();this.UpdateRect();this.UpdateMaterial();null==this.get_stage()&&K.m_instance!=this||this.AddedToStage()}},RemoveChild:function(a){this.IsChild(a)&&(z.remove(this.m_children,a),this.m_element.removeChild(a.m_element),a.m_parent=null)},GetChildByName:function(a){for(var b=0,c=this.m_children.length;b<c;){var d=b++;if(this.m_children[d].get_name()==a)return this.m_children[d]}return null},
GetChildAt:function(a){return this.m_children[a]},GetChildIndex:function(a){for(var b=0,c=this.m_children.length;b<c;){var d=b++;if(this.m_children[d]==a)return d}return-1},SetChildIndex:function(a,b){if(this.IsChild(a)){var c=k.ClampInt(b,0,this.m_children.length-1);if(a!=this.m_children[c]){var d=this.m_children[c].m_element;this.m_element.removeChild(a.m_element);this.m_element.insertBefore(a.m_element,d);z.remove(this.m_children,a);this.m_children.splice(c,0,a)}}},Find:function(a){a=a.split(".");
if(0>=a.length)return null;for(var b=this,c=0,d=a.length;c<d;){var g=c++,b=b.GetChildByName(a[g]);if(!F.__instanceof(b,ka)&&g>=a.length-1)break}return b},Traverse:function(a){this.TraverseStep(0,this,a)},TraverseStep:function(a,b,c){if((null==c||c(a,b))&&F.__instanceof(b,ka))for(var d=0,g=b.m_children.length;d<g;){var e=d++;this.TraverseStep(a+1,b.m_children[e],c)}},UpdateMaterial:function(){Ca.prototype.UpdateMaterial.call(this);for(var a=0,b=this.m_children.length;a<b;){var c=a++;this.m_children[c].UpdateMaterial()}},
UpdateTransform:function(){Ca.prototype.UpdateTransform.call(this);for(var a=0,b=this.m_children.length;a<b;){var c=a++;this.m_children[c].UpdateTransform()}},UpdateRect:function(){Ca.prototype.UpdateRect.call(this);for(var a=0,b=this.m_children.length;a<b;){var c=a++;this.m_children[c].UpdateRect()}},AddedToStage:function(){Ca.prototype.AddedToStage.call(this);for(var a=0,b=this.m_children.length;a<b;){var c=a++;this.m_children[c].AddedToStage()}},__class__:ka});var Sb=function(a){this.m_element=
a;this.m_lock=!1;this.m_margin=ja.get_empty();this.m_x=this.m_y=0;this.m_height=this.m_width=1;this.m_py=this.m_px=0};m["haxor.dom.DOMLayout"]=Sb;Sb.__name__=["haxor","dom","DOMLayout"];Sb.prototype={get_px:function(){return this.m_px},set_px:function(a){this.m_px=a;0!=(this.m_flag&P.PivotX)&&this.Update();return a},get_py:function(){return this.m_py},set_py:function(a){this.m_py=a;0!=(this.m_flag&P.PivotY)&&this.Update();return a},get_x:function(){return this.m_x},set_x:function(a){this.m_x=a;0!=
(this.m_flag&P.PositionX)&&this.Update();return a},get_y:function(){return this.m_y},set_y:function(a){this.m_y=a;0!=(this.m_flag&P.PositionY)&&this.Update();return a},get_width:function(){return this.m_width},set_width:function(a){this.m_width=a;0!=(this.m_flag&P.SizeX)&&this.Update();return a},get_height:function(){return this.m_height},set_height:function(a){this.m_height=a;0!=(this.m_flag&P.SizeY)&&this.Update();return a},get_flag:function(){return this.m_flag},set_flag:function(a){this.m_flag=
a;this.Update();return a},get_margin:function(){return this.m_margin.get_clone()},set_margin:function(a){this.m_margin.SetAABB2(a);this.m_element.UpdateTransform();return a},Set:function(a,b,c,d,g){this.m_flag=a;this.m_px=b;this.m_py=c;this.m_x=d;this.m_y=g;this.Update()},FitSize:function(){this.m_height=this.m_width=1;this.set_flag(P.SizeXY)},FitWidth:function(){this.set_width(1);this.set_flag(this.m_flag|P.SizeX)},FitHeight:function(){this.set_height(1);this.set_flag(this.m_flag|P.SizeY)},Update:function(){if(!this.m_lock){this.m_lock=
!0;var a=this.m_element.get_parent(),b;b=null==a?0:a.get_width()-a.get_layout().get_margin().get_xMin()-a.get_layout().get_margin().get_xMax();a=null==a?0:a.get_height()-a.get_layout().get_margin().get_yMin()-a.get_layout().get_margin().get_yMax();0!=(this.m_flag&P.PositionX)&&this.m_element.set_x(b*this.m_x);0!=(this.m_flag&P.PositionY)&&this.m_element.set_y(a*this.m_y);0!=(this.m_flag&P.PivotX)&&this.m_element.set_px(this.m_element.get_width()*this.m_px);0!=(this.m_flag&P.PivotY)&&this.m_element.set_py(this.m_element.get_height()*
this.m_py);0!=(this.m_flag&P.SizeX)&&this.m_element.set_width(b*this.m_width);0!=(this.m_flag&P.SizeY)&&this.m_element.set_height(a*this.m_height);this.m_lock=!1}},__class__:Sb};var K=function(a){K.m_instance=this;ka.call(this,a,"stage");h.resize.Add(this)};m["haxor.dom.DOMStage"]=K;K.__name__=["haxor","dom","DOMStage"];K.__interfaces__=[nb];K.BuildStep=function(a,b){var c=null;if(null==a)return!1;if(null!=b){switch(a.nodeName.toLowerCase()){case "container":c=K.BuildContainer(a);break;case "sprite":c=
K.BuildSprite(a)}if(null!=c)b.AddChild(c);else if(null!=b.m_element&&null==a.getAttribute("script")&&b.m_element!=a)return b.m_element.appendChild(a),!0}if(F.__instanceof(c,ka))for(var d=a.children,g=0;g<d.length;){var e=d.item(g);K.BuildStep(e,c)&&g--;g++}return!1};K.BuildSprite=function(a){var b=K._ss(a.getAttribute("src")),c=null!=a.getAttribute("canvas"),d=null!=a.getAttribute("pattern"),b=new xb(b,c);b.set_pattern(d);K.BuildDOMEntity(a,b);return b};K.BuildContainer=function(a){var b=new ka;K.BuildDOMEntity(a,
b);return b};K.BuildDOMEntity=function(a,b){var c;c=a.getAttribute("name");null!=c&&""!=c&&b.set_name(K._ss(c));c=a.getAttribute("style");null!=c&&""!=c&&(b.m_element.style.cssText=c);null!=b.m_element&&(b.m_element.style.position="absolute");var d=K._tv(a.getAttribute("px"),a.getAttribute("py"),a.getAttribute("pxy")),g=K._tv(a.getAttribute("x"),a.getAttribute("y"),a.getAttribute("xy")),e=K._tv(a.getAttribute("sx"),a.getAttribute("sy"),a.getAttribute("sxy"),1,1),l=K._tv(a.getAttribute("w"),a.getAttribute("h"),
a.getAttribute("wh"));c=[0];var f;b.set_sx(e[2]);b.set_sy(e[3]);e=d;f=P.PivotX;d=P.PivotY;if(0<e[0]){var h=b.get_layout();h.set_flag(h.m_flag|f);b.get_layout().set_px(e[2])}else b.set_px(e[2]);0<e[1]?(f=b.get_layout(),f.set_flag(f.m_flag|d),b.get_layout().set_py(e[3])):b.set_py(e[3]);e=g;f=P.PositionX;d=P.PositionY;0<e[0]?(g=b.get_layout(),g.set_flag(g.m_flag|f),b.get_layout().set_x(e[2])):b.set_x(e[2]);0<e[1]?(g=b.get_layout(),g.set_flag(g.m_flag|d),b.get_layout().set_y(e[3])):b.set_y(e[3]);e=l;
f=P.SizeX;d=P.SizeY;0<e[0]?(l=b.get_layout(),l.set_flag(l.m_flag|f),b.get_layout().set_width(e[2])):b.set_width(e[2]);0<e[1]?(l=b.get_layout(),l.set_flag(l.m_flag|d),b.get_layout().set_height(e[3])):b.set_height(e[3]);K._sn(a.getAttribute("alpha"),c,1);b.set_alpha(c[0]);K._sn(a.getAttribute("rotation"),c,0);b.set_rotation(c[0]);c=a.getAttribute("margin");null!=c&&""!=c&&(c=c.split(" "),e=b.get_layout().m_margin,l=0,1==c.length?(l=r.parseFloat(c[0]),e.Set(l,l,l,l)):(1<=c.length&&(l=r.parseFloat(c[0]),
e.set_xMin(l)),2<=c.length&&(l=r.parseFloat(c[1]),e.set_xMax(l)),3<=c.length&&(l=r.parseFloat(c[2]),e.set_yMin(l)),4<=c.length&&(l=r.parseFloat(c[3]),e.set_yMax(l))),b.get_layout().set_margin(e))};K._tv=function(a,b,c,d,g){null==g&&(g=0);null==d&&(d=0);var e=[0,0,0,0],l=[0],f=!1,h=!1;if(null!=c){var m=c.split(" ");1==m.length&&(f=f||K._sn(m[0],l),h=h||f,e[2]=l[0],e[3]=l[0]);2<=m.length&&(f=f||K._sn(m[0],l),e[2]=l[0],h=h||K._sn(m[1],l),e[3]=l[0])}else null!=a&&(f=f||K._sn(a,l),e[2]=l[0]),null!=b&&
(h=h||K._sn(b,l),e[3]=l[0]);null==c&&null==a&&(e[2]=d);null==c&&null==b&&(e[3]=g);f&&(1E-6>=k.Abs(e[2])?e[2]=0:e[2]/=100);h&&(1E-6>=k.Abs(e[3])?e[3]=0:e[3]/=100);e[0]=f?1:0;e[1]=h?1:0;return e};K._sn=function(a,b,c){if(null==a)return b[0]=c,!1;c=!1;0<=a.indexOf("%")&&(c=!0,a=x.replace(a,"%",""));b[0]=r.parseFloat(a);return c};K._ss=function(a){return null==a?"":0==a.indexOf("@")?S.Get(z.substr(a,1,null)):a};K.__super__=ka;K.prototype=B(ka.prototype,{set_width:function(a){return a},set_height:function(a){return a},
OnResize:function(a,b){this.m_width=a;this.m_height=b;this.UpdateRect()},__class__:K});var P=function(){};m["haxor.dom.LayoutFlag"]=P;P.__name__=["haxor","dom","LayoutFlag"];var xb=function(a,b,c){null==c&&(c="");null==b&&(b=!1);this.m_pattern=!1;this.m_slices=[];this.m_src="";var d=null;b&&(d=window.document.createElement("canvas"),d.style.position="absolute",this._rc=d.getContext("2d"));b=new Image;""!=a&&(b.src=this.m_src=a,b.style.backgroundImage="url("+this.m_src+")",b.style.backgroundRepeat=
"repeat",this.set_image(b));null==d&&(d=b);ka.call(this,d,c)};m["haxor.dom.Sprite"]=xb;xb.__name__=["haxor","dom","Sprite"];xb.__super__=ka;xb.prototype=B(ka.prototype,{get_slices:function(){return this.m_slices.slice()},set_slices:function(a){this.m_slices=null==a?a=[]:a.slice();this.OnRepaint();return a},get_image:function(){return this.m_image},set_image:function(a){var b=this;if(this.m_image==a)return a;this.m_image=a;this.m_image.onload=function(){0>=b.get_width()&&b.set_width(b.m_image.naturalWidth);
0>=b.get_height()&&b.set_height(b.m_image.naturalHeight);b.m_image.onload=null};0>=this.get_width()&&this.set_width(this.m_image.naturalWidth);0>=this.get_height()&&this.set_height(this.m_image.naturalHeight);if(null==this.m_image)return a;this.OnRepaint();return a},set_pattern:function(a){if(this.m_pattern==a)return a;this.m_pattern=a;this.OnRepaint();return a},get_pattern:function(){return this.m_pattern},OnRepaint:function(){ka.prototype.OnRepaint.call(this);if(null!=this.m_image&&null!=this.m_element)if(null==
this._rc)this.m_pattern?(this.m_image.src="",this.m_image.style.backgroundImage="url("+this.m_src+")",this.m_image.style.backgroundRepeat="repeat"):(this.m_image.src=this.m_src,this.m_image.style.removeProperty("background-image"));else{var a=this.m_element;a.width=this.m_width-(this.get_layout().get_margin().get_xMin()+this.get_layout().get_margin().get_xMax());a.height=this.m_height-(this.get_layout().get_margin().get_yMin()+this.get_layout().get_margin().get_yMax());if(this.m_pattern){var b=this._rc.createPattern(this.m_image,
"repeat");this._rc.rect(0,0,a.width,a.height);this._rc.fillStyle=b;this._rc.fill()}else this.DrawSlicedImage(this._rc,this.m_image,a.width,a.height,this.m_slices)}},DrawSlicedImage:function(a,b,c,d,g){if(null!=b){null==g&&(g=[]);c=a.canvas;var e=b.naturalWidth,l=b.naturalHeight,f=c.width,h=c.height;c=0>=g.length?0:g[0];c=Math.min(c,f/2);d=0>=g.length?0:1>=g.length?g[0]:g[1];d=Math.min(d,f/2);var k;k=0>=g.length?0:1>=g.length?g[0]:g[2];k=Math.min(k,h/2);g=0>=g.length?0:1>=g.length?g[0]:g[3];g=Math.min(g,
h/2);var m=c,n=k,p=c,q=Math.max(1,e-c-d),r=k,s=Math.max(1,e-d),u=d,x=k,v=k,t=c,y=Math.max(1,l-k-g),A=c,z=k,B=Math.max(1,e-c-d),C=Math.max(1,l-k-g),D=Math.max(1,e-d),E=k,F=d,G=Math.max(1,l-k-g),H=Math.max(1,l-g),J=c,K=g,L=c,M=Math.max(1,l-g),N=Math.max(1,e-c-d),O=g,e=Math.max(1,e-d),l=Math.max(1,l-g),P=d,Q=g,R=c,S=k,T=c,U=Math.max(0,f-c-d),V=k,W=Math.max(0,f-d),X=d,Y=k,Z=k,$=c,aa=Math.max(0,h-k-g),ba=c,ca=k,da=Math.max(0,f-c-d),ea=Math.max(0,h-k-g),fa=Math.max(0,f-d),ga=k,ha=d,ia=Math.max(0,h-k-g),
ja=Math.max(0,h-g),ka=c,la=g,ma=c,na=Math.max(0,h-g),oa=Math.max(0,f-c-d),pa=g,f=Math.max(0,f-d),h=Math.max(0,h-g),qa=d,ra=g;0<c&&0<k&&a.drawImage(b,0,0,m,n,0,0,R,S);0<k&&a.drawImage(b,p,0,q,r,T,0,U,V);0<d&&0<k&&a.drawImage(b,s,0,u,x,W,0,X,Y);0<c&&a.drawImage(b,0,v,t,y,0,Z,$,aa);a.drawImage(b,A,z,B,C,ba,ca,da,ea);0<d&&a.drawImage(b,D,E,F,G,fa,ga,ha,ia);0<c&&0<g&&a.drawImage(b,0,H,J,K,0,ja,ka,la);0<g&&a.drawImage(b,L,M,N,O,ma,na,oa,pa);0<d&&0<g&&a.drawImage(b,e,l,P,Q,f,h,qa,ra)}},__class__:xb});var Ob=
function(a,b){null==b&&(b=!0);null==a&&(a=0);this.m_has_query=b;this.x=new pb(a,this.m_has_query);this.y=new pb(a,this.m_has_query);this.z=new pb(a,this.m_has_query);this.inside=[];this.outside=[];this.countOut=this.countIn=0};m["haxor.ds.SAP"]=Ob;Ob.__name__=["haxor","ds","SAP"];Ob.prototype={Create:function(a){this.x.Create(a);this.y.Create(a);for(this.z.Create(a);this.inside.length<=a;)this.inside.push(-1),this.outside.push(-1)},Update:function(a,b,c,d){this.x.Update(a,b,c.x,d.x);this.y.Update(a,
b,c.y,d.y);this.z.Update(a,b,c.z,d.z)},Remove:function(a){this.x.RemoveById(a);this.y.RemoveById(a);this.z.RemoveById(a)},Overlap:function(a,b){return this.x.list[a].Overlap(this.x.list[b])&&this.y.list[a].Overlap(this.y.list[b])&&this.z.list[a].Overlap(this.z.list[b])?!1:!0},Query:function(a,b){null==b&&(b=!1);if(this.m_has_query){this.countOut=this.countIn=0;var c,d,g,e;c=this.x.list[a];d=this.y.list[a];g=this.z.list[a];for(e=c.next;null!=e;)e.Overlap(c)?this.y.list[e.id].Overlap(d)?this.z.list[e.id].Overlap(g)?
this.inside[this.countIn++]=e.id:b&&(this.outside[this.countOut++]=e.id):b&&(this.outside[this.countOut++]=e.id):b&&(this.outside[this.countOut++]=e.id),e=e.next;for(e=c.prev;null!=e;)e.Overlap(c)?this.y.list[e.id].Overlap(d)?this.z.list[e.id].Overlap(g)?this.inside[this.countIn++]=e.id:b&&(this.outside[this.countOut++]=e.id):b&&(this.outside[this.countOut++]=e.id):b&&(this.outside[this.countOut++]=e.id),e=e.prev}},__class__:Ob};var pb=function(a,b){null==b&&(b=!0);null==a&&(a=0);this.list=[];for(var c=
0;5E3>c;)c++,this.list.push(null);this.m_has_query=b;this.m_bias=a};m["haxor.ds.SAPList"]=pb;pb.__name__=["haxor","ds","SAPList"];pb.prototype={Create:function(a){for(;this.list.length<=a;)this.list.push(null);null==this.list[a]&&(this.list[a]=new Tb)},Update:function(a,b,c,d){this.list[a].id=a;this.list[a].data=b;b=(d-c)*this.m_bias*.5;this.list[a].Set(c-b,d+b);this.m_has_query&&this.Relocate(this.list[a])},Add:function(a){if(null==this.start)this.start=a,a.next=a.prev=null;else if(a!=this.start)for(var b=
this.start;null!=b;){if(a.min<b.min){this.Insert(a,b);break}if(null==b.next){this.Insert(a,b);break}b=b.next}},Insert:function(a,b){a!=b&&(a.min>b.min?(a.next=b.next,a.prev=b,b.next=a,null!=a.next&&(a.next.prev=a)):(a.next=b,a.prev=b.prev,b.prev=a,null!=a.prev&&(a.prev.next=a),b==this.start&&(this.start=a)))},Relocate:function(a){if(null==a.prev&&null==a.next)this.Add(a);else{for(var b=a,c=0,d=null;null!=b;){var g=b.next,b=b.prev;if(null==g&&null==b)break;null!=b&&a.min<b.min&&(c=-1,d=b);null!=g&&
a.min>g.min&&(c=1,d=g);if(0==c)break;b=0>c?b:g;c=0}null!=d&&(this.Remove(a),this.Insert(a,d))}},RemoveById:function(a){this.Remove(this.list[a])},Remove:function(a){if(this.m_has_query){var b=a.prev,c=a.next;null!=b&&(b.next=c);null!=c&&(c.prev=b);a.next=a.prev=null;a==this.start&&(this.start=c)}},ToString:function(a){null==a&&(a=2);var b="";if(this.m_has_query)for(var c=this.start;null!=c;)b+=c.ToString(a),c=c.next;else for(var c=0,d=this.list.length;c<d;)var g=c++,b=b+this.list[g].ToString(a);return b},
__class__:pb};var Tb=function(){this.id=this.max=this.min=0};m["haxor.ds.SAPInterval"]=Tb;Tb.__name__=["haxor","ds","SAPInterval"];Tb.prototype={Set:function(a,b){this.min=a;this.max=b},Overlap:function(a){return a.min>this.min?a.min<=this.max:a.max>=this.min},ToString:function(a){null==a&&(a=2);return"["+k.RoundPlaces(this.min,a)+","+k.RoundPlaces(this.max,a)+"]"},__class__:Tb};var e=function(){};m["haxor.graphics.GL"]=e;e.__name__=["haxor","graphics","GL"];e.get_api=function(){return e.m_gl.get_api()};
e.Initialize=function(a){e.m_gl=new yb(a)};e.Resize=function(){e.m_gl.Resize()};e.BindBuffer=function(a,b){e.m_gl.BindBuffer(a,b)};e.BufferData=function(a,b,c){e.m_gl.BufferData(a,b,c)};e.BufferSubData=function(a,b,c){e.m_gl.BufferSubData(a,b,c)};e.CreateBuffer=function(){return e.m_gl.CreateBuffer()};e.DrawArrays=function(a,b,c){e.m_gl.DrawArrays(a,b,c)};e.DrawElements=function(a,b,c,d){e.m_gl.DrawElements(a,b,c,d)};e.DeleteBuffer=function(a){e.m_gl.DeleteBuffer(a)};e.DisableVertexAttrib=function(a){e.m_gl.DisableVertexAttrib(a)};
e.EnableVertexAttrib=function(a){e.m_gl.EnableVertexAttrib(a)};e.VertexAttrib3f=function(a,b,c,d){e.m_gl.VertexAttrib3f(a,b,c,d)};e.VertexAttrib4f=function(a,b,c,d,g){e.m_gl.VertexAttrib4f(a,b,c,d,g)};e.VertexAttribPointer=function(a,b,c,d,g,I){e.m_gl.VertexAttribPointer(a,b,c,d,g,I)};e.CompileShader=function(a){e.m_gl.CompileShader(a)};e.CreateShader=function(a){return e.m_gl.CreateShader(a)};e.DetachShader=function(a,b){e.m_gl.DetachShader(a,b)};e.DeleteShader=function(a){e.m_gl.DeleteShader(a)};
e.GetShaderInfoLog=function(a){return e.m_gl.GetShaderInfoLog(a)};e.GetShaderParameter=function(a,b){return e.m_gl.GetShaderParameter(a,b)};e.ShaderSource=function(a,b){e.m_gl.ShaderSource(a,b)};e.AttachShader=function(a,b){e.m_gl.AttachShader(a,b)};e.BindAttribLocation=function(a,b,c){e.m_gl.BindAttribLocation(a,b,c)};e.CreateProgram=function(){return e.m_gl.CreateProgram()};e.DeleteProgram=function(a){e.m_gl.DeleteProgram(a)};e.GetAttribLocation=function(a,b){return e.m_gl.GetAttribLocation(a,b)};
e.GetUniformLocation=function(a,b){return e.m_gl.GetUniformLocation(a,b)};e.GetProgramInfoLog=function(a){return e.m_gl.GetProgramInfoLog(a)};e.GetProgramParameter=function(a,b){return e.m_gl.GetProgramParameter(a,b)};e.LinkProgram=function(a){e.m_gl.LinkProgram(a)};e.UseProgram=function(a){e.m_gl.UseProgram(a)};e.ActiveTexture=function(a){e.m_gl.ActiveTexture(a)};e.BindFramebuffer=function(a,b){e.m_gl.BindFramebuffer(a,b)};e.BindRenderbuffer=function(a,b){e.m_gl.BindRenderbuffer(a,b)};e.BindTexture=
function(a,b){e.m_gl.BindTexture(a,b)};e.CreateFramebuffer=function(){return e.m_gl.CreateFramebuffer()};e.CreateRenderbuffer=function(){return e.m_gl.CreateRenderbuffer()};e.CreateTexture=function(){return e.m_gl.CreateTexture()};e.DeleteFramebuffer=function(a){e.m_gl.DeleteFramebuffer(a)};e.DeleteRenderbuffer=function(a){e.m_gl.DeleteRenderbuffer(a)};e.DeleteTexture=function(a){e.m_gl.DeleteTexture(a)};e.FramebufferRenderbuffer=function(a,b,c,d){e.m_gl.FramebufferRenderbuffer(a,b,c,d)};e.FramebufferTexture2D=
function(a,b,c,d,g){e.m_gl.FramebufferTexture2D(a,b,c,d,g)};e.GenerateMipmap=function(a){e.m_gl.GenerateMipmap(a)};e.PixelStorei=function(a,b){e.m_gl.PixelStorei(a,b)};e.RenderbufferStorage=function(a,b,c,d){e.m_gl.RenderbufferStorage(a,b,c,d)};e.TexImage2D=function(a,b,c,d,g,I,l,f,h){e.m_gl.TexImage2D(a,b,c,d,g,I,l,f,h)};e.TexImage2DAlloc=function(a,b,c,d,g,I,l,f){e.m_gl.TexImage2DAlloc(a,b,c,d,g,I,l,f)};e.TexSubImage2D=function(a,b,c,d,g,I,l,f,h){e.m_gl.TexSubImage2D(a,b,c,d,g,I,l,f,h)};e.TexStorage2D=
function(a,b,c,d,g){e.m_gl.TexStorage2D(a,b,c,d,g)};e.TexParameterf=function(a,b,c){e.m_gl.TexParameterf(a,b,c)};e.TexParameteri=function(a,b,c){e.m_gl.TexParameteri(a,b,c)};e.Uniform1f=function(a,b){e.m_gl.Uniform1f(a,b)};e.Uniform2f=function(a,b,c){e.m_gl.Uniform2f(a,b,c)};e.Uniform3f=function(a,b,c,d){e.m_gl.Uniform3f(a,b,c,d)};e.Uniform4f=function(a,b,c,d,g){e.m_gl.Uniform4f(a,b,c,d,g)};e.Uniform1i=function(a,b){e.m_gl.Uniform1i(a,b)};e.Uniform2i=function(a,b,c){e.m_gl.Uniform2i(a,b,c)};e.Uniform3i=
function(a,b,c,d){e.m_gl.Uniform3i(a,b,c,d)};e.Uniform4i=function(a,b,c,d,g){e.m_gl.Uniform4i(a,b,c,d,g)};e.Uniform1fv=function(a,b){e.m_gl.Uniform1fv(a,b)};e.Uniform2fv=function(a,b){e.m_gl.Uniform2fv(a,b)};e.Uniform3fv=function(a,b){e.m_gl.Uniform3fv(a,b)};e.Uniform4fv=function(a,b){e.m_gl.Uniform4fv(a,b)};e.Uniform1iv=function(a,b){e.m_gl.Uniform1iv(a,b)};e.Uniform2iv=function(a,b){e.m_gl.Uniform2iv(a,b)};e.Uniform3iv=function(a,b){e.m_gl.Uniform3iv(a,b)};e.Uniform4iv=function(a,b){e.m_gl.Uniform4iv(a,
b)};e.UniformMatrix2fv=function(a,b,c){e.m_gl.UniformMatrix2fv(a,b,c)};e.UniformMatrix3fv=function(a,b,c){e.m_gl.UniformMatrix3fv(a,b,c)};e.UniformMatrix4fv=function(a,b,c){e.m_gl.UniformMatrix4fv(a,b,c)};e.BlendFunc=function(a,b){e.m_gl.BlendFunc(a,b)};e.Disable=function(a){e.m_gl.Disable(a)};e.Enable=function(a){e.m_gl.Enable(a)};e.DepthMask=function(a){e.m_gl.DepthMask(a)};e.DepthFunc=function(a){e.m_gl.DepthFunc(a)};e.CullFace=function(a){e.m_gl.CullFace(a)};e.FrontFace=function(a){e.m_gl.FrontFace(a)};
e.Clear=function(a){e.m_gl.Clear(a)};e.ClearDepth=function(a){e.m_gl.ClearDepth(a)};e.ClearColor=function(a,b,c,d){e.m_gl.ClearColor(a,b,c,d)};e.Viewport=function(a,b,c,d){e.m_gl.Viewport(a,b,c,d)};e.Scissor=function(a,b,c,d){e.m_gl.Scissor(a,b,c,d)};e.ReadPixels=function(a,b,c,d,g,I,l){e.m_gl.ReadPixels(a,b,c,d,g,I,l)};e.GetError=function(){return e.m_gl.GetError()};e.GetErrorCode=function(){return e.m_gl.GetErrorCode()};e.GetErrorString=function(a){return e.m_gl.GetErrorString(a)};e.LogError=function(){e.m_gl.LogError()};
e.Assert=function(a){};e.Flush=function(){null};e.Focus=function(){e.m_gl.Focus()};var qc=function(){};m["haxor.graphics.Gizmo"]=qc;qc.__name__=["haxor","graphics","Gizmo"];qc.Grid=function(a,b){h.gizmo.DrawGrid(a,b)};qc.Axis=function(a){h.gizmo.DrawAxis(a)};var Ba={__ename__:!0,__constructs__:["None","OpenGL","OpenGLES","WebGL"],None:["None",0]};Ba.None.__enum__=Ba;Ba.OpenGL=["OpenGL",1];Ba.OpenGL.__enum__=Ba;Ba.OpenGLES=["OpenGLES",2];Ba.OpenGLES.__enum__=Ba;Ba.WebGL=["WebGL",3];Ba.WebGL.__enum__=
Ba;var qb=function(a){this.m_api=Ba.None;this.m_application=a};m["haxor.graphics.GraphicContext"]=qb;qb.__name__=["haxor","graphics","GraphicContext"];qb.prototype={get_api:function(){return this.m_api},CheckExtensions:function(){},Destroy:function(){},Flush:function(){},Focus:function(){},Resize:function(){},BindBuffer:function(a,b){},BufferData:function(a,b,c){},BufferSubData:function(a,b,c){},CreateBuffer:function(){return e.INVALID},DeleteBuffer:function(a){},DrawArrays:function(a,b,c){},DrawElements:function(a,
b,c,d){},EnableVertexAttrib:function(a){},DisableVertexAttrib:function(a){},VertexAttrib3f:function(a,b,c,d){},VertexAttrib4f:function(a,b,c,d,g){},VertexAttribPointer:function(a,b,c,d,g,e){},CompileShader:function(a){},CreateShader:function(a){return e.INVALID},DeleteShader:function(a){},DetachShader:function(a,b){},GetShaderInfoLog:function(a){return""},GetShaderParameter:function(a,b){return-1},ShaderSource:function(a,b){},AttachShader:function(a,b){},BindAttribLocation:function(a,b,c){},CreateProgram:function(){return e.INVALID},
DeleteProgram:function(a){},GetAttribLocation:function(a,b){return-1},GetUniformLocation:function(a,b){return e.INVALID},GetProgramInfoLog:function(a){return""},GetProgramParameter:function(a,b){return-1},LinkProgram:function(a){},UseProgram:function(a){},Uniform1f:function(a,b){},Uniform2f:function(a,b,c){},Uniform3f:function(a,b,c,d){},Uniform4f:function(a,b,c,d,g){},Uniform1i:function(a,b){},Uniform2i:function(a,b,c){},Uniform3i:function(a,b,c,d){},Uniform4i:function(a,b,c,d,g){},Uniform1fv:function(a,
b){},Uniform2fv:function(a,b){},Uniform3fv:function(a,b){},Uniform4fv:function(a,b){},Uniform1iv:function(a,b){},Uniform2iv:function(a,b){},Uniform3iv:function(a,b){},Uniform4iv:function(a,b){},UniformMatrix2fv:function(a,b,c){},UniformMatrix3fv:function(a,b,c){},UniformMatrix4fv:function(a,b,c){},ActiveTexture:function(a){},BindFramebuffer:function(a,b){},BindRenderbuffer:function(a,b){},BindTexture:function(a,b){},CreateFramebuffer:function(){return e.INVALID},CreateRenderbuffer:function(){return e.INVALID},
CreateTexture:function(){return e.INVALID},DeleteFramebuffer:function(a){},DeleteRenderbuffer:function(a){},DeleteTexture:function(a){},FramebufferRenderbuffer:function(a,b,c,d){},FramebufferTexture2D:function(a,b,c,d,g){},GenerateMipmap:function(a){},PixelStorei:function(a,b){},RenderbufferStorage:function(a,b,c,d){},TexImage2DAlloc:function(a,b,c,d,g,e,l,f){},TexImage2D:function(a,b,c,d,g,e,l,f,h){},TexSubImage2D:function(a,b,c,d,g,e,l,f,h){},TexStorage2D:function(a,b,c,d,g){},TexParameterf:function(a,
b,c){},TexParameteri:function(a,b,c){},BlendFunc:function(a,b){},Disable:function(a){},Enable:function(a){},DepthMask:function(a){},DepthFunc:function(a){},CullFace:function(a){},FrontFace:function(a){},Clear:function(a){},ClearDepth:function(a){},ClearColor:function(a,b,c,d){},Viewport:function(a,b,c,d){},Scissor:function(a,b,c,d){},ReadPixels:function(a,b,c,d,g,e,l){},GetErrorCode:function(){return 0},GetErrorString:function(a){switch(a){case 0:return"";case 1280:return"Invalid Enum.";case 1281:return"Numeric argument is out of range.";
case 1282:return"Operation not allowed in the current state.";case 1286:return"Write or Read in FrameBuffer not complete.";case 1285:return"Out of Memory."}return"Unknown Error."},GetError:function(){return this.GetErrorString(this.GetErrorCode())},Assert:function(a){var b=this.GetErrorCode();if(0!=b)throw"GraphicContext> "+this.GetErrorString(b)+" - "+a;},LogError:function(){q.Log(this.GetError())},__class__:qb};var ja=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);
this.SetXYWH(a,b,c,d)};m["haxor.math.AABB2"]=ja;ja.__name__=["haxor","math","AABB2"];ja.get_temp=function(){return h.data.get_aabb2()};ja.FromMinMax=function(a,b,c,d){var g=new ja;g.m_xMin=a;g.m_xMax=b;g.m_yMin=c;g.m_yMax=d;g.Validate();return g};ja.get_empty=function(){return new ja};ja.prototype={get_clone:function(){return ja.FromMinMax(this.get_xMin(),this.get_xMax(),this.get_yMin(),this.get_yMax())},get_min:function(){return new E(this.m_xMin,this.m_yMin)},set_min:function(a){this.set_xMin(a.x);
this.set_yMin(a.y);return a},get_max:function(){return new E(this.m_xMax,this.m_yMax)},set_max:function(a){this.set_xMax(a.x);this.set_yMax(a.y);return a},get_xMin:function(){return this.m_xMin},set_xMin:function(a){this.m_xMin=a;this.Validate();return a},get_yMin:function(){return this.m_yMin},set_yMin:function(a){this.m_yMin=a;this.Validate();return a},get_xMax:function(){return this.m_xMax},set_xMax:function(a){this.m_xMax=a;this.Validate();return a},get_yMax:function(){return this.m_yMax},set_yMax:function(a){this.m_yMax=
a;this.Validate();return a},get_center:function(){return new E(this.get_xMin()+.5*(this.get_xMax()-this.get_xMin()),this.get_yMin()+.5*(this.get_yMax()-this.get_yMin()))},set_center:function(a){var b=.5*k.Abs(this.get_xMax()-this.get_xMin()),c=.5*k.Abs(this.get_yMax()-this.get_yMin());this.m_xMin=a.x-b;this.m_xMax=a.x+b;this.m_yMin=a.y-c;this.m_yMax=a.y+c;return a},get_x:function(){return this.get_xMin()},set_x:function(a){this.set_xMin(a);return a},get_y:function(){return this.get_yMin()},set_y:function(a){this.set_yMin(a);
return a},get_width:function(){return k.Abs(this.get_xMax()-this.get_xMin())},set_width:function(a){this.set_xMax(this.get_xMin()+a);return a},get_height:function(){return k.Abs(this.get_yMax()-this.get_yMin())},set_height:function(a){this.set_yMax(this.get_yMin()+a);return a},get_size:function(){return new E(k.Abs(this.get_xMax()-this.get_xMin()),k.Abs(this.get_yMax()-this.get_yMin()))},set_size:function(a){this.set_width(a.x);this.set_height(a.y);return a},Validate:function(){},Add:function(a){this.m_xMax=
Math.max(a.m_xMax,this.m_xMax);this.m_xMin=Math.min(a.m_xMin,this.m_xMin);this.m_yMax=Math.max(a.m_yMax,this.m_yMax);this.m_yMin=Math.min(a.m_yMin,this.m_yMin);return this},Set:function(a,b,c,d){this.m_xMin=a;this.m_yMin=c;this.m_xMax=b;this.m_yMax=d;this.Validate();return this},SetXYWH:function(a,b,c,d){this.m_xMin=a;this.m_yMin=b;this.m_xMax=this.m_xMin+c;this.m_yMax=this.m_yMin+d;return this},SetAABB2:function(a){this.m_xMin=a.m_xMin;this.m_yMin=a.m_yMin;this.m_xMax=a.m_xMax;this.m_yMax=a.m_yMax;
return this},Encapsulate:function(a){this.set_xMin(k.Min(a.x,this.get_xMin()));this.set_xMax(k.Max(a.x,this.get_xMax()));this.set_yMin(k.Min(a.y,this.get_yMin()));this.set_yMax(k.Max(a.y,this.get_yMax()))},Encapsulate3:function(a,b){null==b&&(b=0);null==a&&(a=0);this.m_xMin=Math.min(a,this.m_xMin);this.m_xMax=Math.max(a,this.m_xMax);this.m_yMin=Math.min(b,this.m_yMin);this.m_yMax=Math.max(b,this.m_yMax);this.Validate();return this},ToString:function(a){null==a&&(a=2);var b=k.RoundPlaces(this.m_xMin,
a)+"",c=k.RoundPlaces(this.m_xMax,a)+"",d=k.RoundPlaces(this.m_yMin,a)+"";a=k.RoundPlaces(this.m_yMax,a)+"";return"["+b+","+c+"|"+d+","+a+"]"},__class__:ja};var aa=function(){};m["haxor.graphics.Graphics"]=aa;aa.__name__=["haxor","graphics","Graphics"];aa.Viewport=function(a){var b=!1;0<k.Abs(a.get_xMin()-aa.m_last_viewport.get_xMin())?b=!0:0<k.Abs(a.get_yMin()-aa.m_last_viewport.get_yMin())?b=!0:0<k.Abs(k.Abs(a.get_xMax()-a.get_xMin())-aa.m_last_viewport.get_width())?b=!0:0<k.Abs(k.Abs(a.get_yMax()-
a.get_yMin())-aa.m_last_viewport.get_height())&&(b=!0);b&&(aa.m_last_viewport.SetAABB2(a),e.Viewport(a.get_xMin(),a.get_yMin(),k.Abs(a.get_xMax()-a.get_xMin()),k.Abs(a.get_yMax()-a.get_yMin())),e.Scissor(a.get_xMin(),a.get_yMin(),k.Abs(a.get_xMax()-a.get_xMin()),k.Abs(a.get_yMax()-a.get_yMin())))};aa.Clear=function(a){aa.Viewport(a.m_pixelViewport);if(a.clear!=za.None){var b=0;0!=(a.clear&za.Color)&&(b|=16384);0!=(a.clear&za.Skybox)&&(b|=16384);0!=(a.clear&za.Depth)&&(b|=256);e.m_gl.ClearColor(a.background.r,
a.background.g,a.background.b,a.background.a);e.m_gl.ClearDepth(1);e.m_gl.Clear(b)}};aa.Render=function(a,b,c,d){h.material.Bind(b,c,d);h.mesh.Bind(a);h.mesh.Draw(a)};aa.DrawTexture=function(a,b,c,d,g,e){null==g&&(g=256);null==d&&(d=256);null==c&&(c=0);null==b&&(b=0);if(null!=a){var l=h.gizmo.texture_material;l.SetFloat2("Screen",C.m_width,C.m_height);l.SetFloat4("Rect",b,c,d,g);l.SetTexture("Texture",a);a=null==e?h.data.get_c().Set(1,1,1,1):e;l.SetFloat4("Tint",a.r,a.g,a.b,a.a);aa.Render(h.gizmo.texture,
l)}};var C=function(){};m["haxor.graphics.Screen"]=C;C.__name__=["haxor","graphics","Screen"];C.get_width=function(){return C.m_width};C.get_height=function(){return C.m_height};C.get_fullscreen=function(){return C.m_fullscreen};C.set_fullscreen=function(a){C.m_fullscreen=C.m_application.OnFullscreenRequest(a);return C.m_fullscreen};C.get_cursor=function(){return C.m_cursor};C.set_cursor=function(a){if(a==ra.Lock){if(!C.m_application.OnPointerLockRequest(!0))return C.m_cursor=ra.Show;C.m_application.OnPointerVisibilityRequest(!1);
return C.m_cursor=ra.Lock}C.m_application.OnPointerLockRequest(!1);return C.m_application.OnPointerVisibilityRequest(a==ra.Show)?C.m_cursor=ra.Show:C.m_cursor=ra.Hide};C.Initialize=function(a){C.m_application=a;C.m_width=0;C.m_height=0;C.m_fullscreen=!1;C.m_cursor=ra.Show;C.m_application=null};var ra={__ename__:!0,__constructs__:["Show","Hide","Lock"],Show:["Show",0]};ra.Show.__enum__=ra;ra.Hide=["Hide",1];ra.Hide.__enum__=ra;ra.Lock=["Lock",2];ra.Lock.__enum__=ra;var da=function(a){null==a&&(a="");
this.grab=!1;y.call(this,a);this.__cid=h.material.mid.get_id();this.m_uniforms=[];this.queue=1E3;this.zfunc=515;this.zwrite=this.ztest=!0;this.blend=!1;this.blendSrc=1;this.blendDst=0;this.invert=!1;this.cull=2;this.grab=this.lighting=!1;h.material.InitializeMaterial(this)};m["haxor.graphics.material.Material"]=da;da.__name__=["haxor","graphics","material","Material"];da.Opaque=function(a,b,c){null==c&&(c=!0);null==b&&(b=!0);var d=new da("Opaque");d.set_shader(null==a?null==H.m_flat_shader?H.m_flat_shader=
new H(ia.flat_source):H.m_flat_shader:null==H.m_flat_texture_shader?H.m_flat_texture_shader=new H(ia.flat_texture_source):H.m_flat_texture_shader);d.queue=1E3;d.ztest=b;d.zwrite=c;null!=a&&d.SetTexture("DiffuseTexture",a);return d};da.Transparent=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);null==b&&(b=!0);var g=new da("Transparent");d&&(g.cull=0);g.SetBlending(770,771);g.set_shader(null==a?null==H.m_flat_shader?H.m_flat_shader=new H(ia.flat_source):H.m_flat_shader:null==H.m_flat_texture_shader?
H.m_flat_texture_shader=new H(ia.flat_texture_source):H.m_flat_texture_shader);g.queue=2E3;g.ztest=b;g.zwrite=c;g.blend=!0;null!=a&&g.SetTexture("DiffuseTexture",a);return g};da.AdditiveAlpha=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);null==b&&(b=!0);a=da.Transparent(null,b,c,d);a.set_name("AdditiveAlpha");a.SetBlending(770,1);return a};da.Additive=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);null==b&&(b=!0);a=da.Transparent(null,b,c,d);a.set_name("Additive");a.SetBlending(1,1);return a};
da.__super__=y;da.prototype=B(y.prototype,{get_shader:function(){return this.m_shader},set_shader:function(a){if(this.m_shader==a)return a;h.material.UpdateShader(this,this.m_shader,a);return this.m_shader=a},SetBlending:function(a,b){this.blendSrc=a;this.blendDst=b},SetTexture:function(a,b){if(null==b)this.RemoveUniform(a);else{var c=this.FetchUniform(a,!1,1,1,!0);c.exists&&c.SetTexture(b)}},SetMatrix4:function(a,b,c){null==c&&(c=!1);null==b?this.RemoveUniform(a):(a=this.FetchUniform(a,!0,16,16,
!0),a.exists&&a.SetMatrix4(b,c))},SetVector2:function(a,b){this.SetFloat2(a,b.x,b.y)},SetVector3:function(a,b){this.SetFloat3(a,b.x,b.y,b.z)},SetVector4:function(a,b){this.SetFloat4(a,b.x,b.y,b.z,b.w)},SetColor:function(a,b){this.SetFloat4(a,b.r,b.g,b.b,b.a)},SetFloat:function(a,b){var c=this.FetchUniform(a,!0,1,1,!0);c.exists&&c.SetFloat(b)},SetFloat2:function(a,b,c){a=this.FetchUniform(a,!0,2,2,!0);a.exists&&a.SetFloat2(b,c)},SetFloat3:function(a,b,c,d){a=this.FetchUniform(a,!0,3,3,!0);a.exists&&
a.SetFloat3(b,c,d)},SetFloat4:function(a,b,c,d,g){a=this.FetchUniform(a,!0,4,4,!0);a.exists&&a.SetFloat4(b,c,d,g)},SetFloatArray:function(a,b){var c=this.FetchUniform(a,!0,b.length,1,!0);c.exists&&c.SetFloatArray(b)},SetFloat2Array:function(a,b){var c=this.FetchUniform(a,!0,b.length,2,!0);c.exists&&c.SetFloat2Array(b)},SetFloat3Array:function(a,b){var c=this.FetchUniform(a,!0,b.length,3,!0);c.exists&&c.SetFloat3Array(b)},SetFloat4Array:function(a,b){var c=this.FetchUniform(a,!0,b.length,4,!0);c.exists&&
c.SetFloat4Array(b)},SetInt:function(a,b){var c=this.FetchUniform(a,!1,1,1,!0);c.exists&&c.SetInt(b)},SetInt2:function(a,b,c){a=this.FetchUniform(a,!1,2,2,!0);a.exists&&a.SetInt2(b,c)},SetInt3:function(a,b,c,d){a=this.FetchUniform(a,!1,3,3,!0);a.exists&&a.SetInt3(b,c,d)},SetInt4:function(a,b,c,d,g){a=this.FetchUniform(a,!1,4,4,!0);a.exists&&a.SetInt4(b,c,d,g)},SetIntArray:function(a,b){var c=this.FetchUniform(a,!1,b.length,1,!0);c.exists&&c.SetIntArray(b)},SetInt2Array:function(a,b){var c=this.FetchUniform(a,
!1,b.length,2,!0);c.exists&&c.SetInt2Array(b)},SetInt3Array:function(a,b){var c=this.FetchUniform(a,!1,b.length,3,!0);c.exists&&c.SetInt3Array(b)},SetInt4Array:function(a,b){var c=this.FetchUniform(a,!1,b.length,4,!0);c.exists&&c.SetInt4Array(b)},GetUniform:function(a){for(var b=0,c=this.m_uniforms.length;b<c;){var d=b++;if(this.m_uniforms[d].name==a)return this.m_uniforms[d]}return null},HasUniform:function(a,b){null==b&&(b=!1);for(var c=0,d=this.m_uniforms.length;c<d;){var g=c++;if(this.m_uniforms[g].name==
a)return b?this.m_uniforms[g].exists:!0}return!1},RemoveUniform:function(a){for(var b=null,c=0,d=this.m_uniforms.length;c<d&&(b=c++,b=this.m_uniforms[b],b.name!=a););null!=b&&(h.material.DestroyUniform(this,b),z.remove(this.m_uniforms,b))},FetchUniform:function(a,b,c,d,g){for(var e=null,l=0,f=this.m_uniforms.length;l<f;)if(e=l++,e=this.m_uniforms[e],e.name==a){if(e.isFloat==b&&e.offset==d&&e.data.m_length==c)return e;h.material.DestroyUniform(this,e);z.remove(this.m_uniforms,e);break}g&&(e=new Ub(a,
b,c,d),h.material.CreateUniform(this,e),this.m_uniforms.push(e));return e},OnDestroy:function(){h.material.DestroyMaterial(this)},__class__:da});var Ub=function(a,b,c,d){this.__cid=h.material.uid.get_id();this.__d=!0;this.name=a;this.isFloat=b;this.offset=d;this.exists=!1;this.data=b?new L(c):new Sa(c)};m["haxor.graphics.material.MaterialUniform"]=Ub;Ub.__name__=["haxor","graphics","material","MaterialUniform"];Ub.prototype={SetFloat:function(a){this.exists&&(this.__d=!0,this.data.Set(0,a))},SetFloat2:function(a,
b){if(this.exists){this.__d=!0;var c=this.data;c.Set(0,a);c.Set(1,b)}},SetFloat3:function(a,b,c){if(this.exists){this.__d=!0;var d=this.data;d.Set(0,a);d.Set(1,b);d.Set(2,c)}},SetFloat4:function(a,b,c,d){if(this.exists){this.__d=!0;var g=this.data;g.Set(0,a);g.Set(1,b);g.Set(2,c);g.Set(3,d)}},SetFloatArray:function(a){if(this.exists){this.__d=!0;for(var b=this.data,c=0,d=a.length;c<d;){var g=c++;b.Set(g,a[g])}}},SetFloat2Array:function(a){if(this.exists){this.__d=!0;for(var b=this.data,c=0,d=a.length;c<
d;){var g=c++;b.Set(g,a[g])}}},SetFloat3Array:function(a){if(this.exists){this.__d=!0;for(var b=this.data,c=0,d=a.length;c<d;){var g=c++;b.Set(g,a[g])}}},SetFloat4Array:function(a){if(this.exists){this.__d=!0;for(var b=this.data,c=0,d=a.length;c<d;){var g=c++;b.Set(g,a[g])}}},SetInt:function(a){this.exists&&(this.__d=!0,this.data.Set(0,a))},SetInt2:function(a,b){if(this.exists){this.__d=!0;var c=this.data;c.Set(0,a);c.Set(1,b)}},SetInt3:function(a,b,c){if(this.exists){this.__d=!0;var d=this.data;
d.Set(0,a);d.Set(1,b);d.Set(2,c)}},SetInt4:function(a,b,c,d){if(this.exists){this.__d=!0;var g=this.data;g.Set(0,a);g.Set(1,b);g.Set(2,c);g.Set(3,d)}},SetIntArray:function(a){if(this.exists){this.__d=!0;for(var b=this.data,c=0,d=a.length;c<d;){var g=c++;b.Set(g,a[g])}}},SetInt2Array:function(a){if(this.exists){this.__d=!0;for(var b=this.data,c=0,d=a.length;c<d;){var g=c++;b.Set(g,a[g])}}},SetInt3Array:function(a){if(this.exists){this.__d=!0;for(var b=this.data,c=0,d=a.length;c<d;){var g=c++;b.Set(g,
a[g])}}},SetInt4Array:function(a){if(this.exists){this.__d=!0;for(var b=this.data,c=0,d=a.length;c<d;){var g=c++;b.Set(g,a[g])}}},SetTexture:function(a){this.exists&&(this.__d=!0,this.data.Set(0,a.__slot),this.texture=a)},SetMatrix4:function(a,b){null==b&&(b=!1);if(this.exists){this.__d=!0;var c=this.data;b?(c.Set(0,a.m00),c.Set(1,a.m10),c.Set(2,a.m20),c.Set(3,a.m30),c.Set(4,a.m01),c.Set(5,a.m11),c.Set(6,a.m21),c.Set(7,a.m31),c.Set(8,a.m02),c.Set(9,a.m12),c.Set(10,a.m22),c.Set(11,a.m32),c.Set(12,
a.m03),c.Set(13,a.m13),c.Set(14,a.m23)):(c.Set(0,a.m00),c.Set(1,a.m01),c.Set(2,a.m02),c.Set(3,a.m03),c.Set(4,a.m10),c.Set(5,a.m11),c.Set(6,a.m12),c.Set(7,a.m13),c.Set(8,a.m20),c.Set(9,a.m21),c.Set(10,a.m22),c.Set(11,a.m23),c.Set(12,a.m30),c.Set(13,a.m31),c.Set(14,a.m32));c.Set(15,a.m33)}},SetVector2:function(a){this.SetFloat2(a.x,a.y)},SetVector3:function(a){this.SetFloat3(a.x,a.y,a.z)},SetVector4:function(a){this.SetFloat4(a.x,a.y,a.z,a.w)},SetColor:function(a){this.SetFloat4(a.r,a.g,a.b,a.a)},__class__:Ub};
var H=function(a){y.call(this);this.__cid=h.material.sid.get_id();var b=a.indexOf("<vertex"),c=a.indexOf(">",b+1),b=a.substring(b,c+1),c=a.indexOf("<fragment"),d=a.indexOf(">",c+1),c=a.substring(c,d+1);a=x.replace(a,b,b+"<![CDATA[");a=x.replace(a,"</vertex>","]]\x3e</vertex>");a=x.replace(a,c,c+"<![CDATA[");a=x.replace(a,"</fragment>","]]\x3e</fragment>");b=t.parse(a);b=b.firstElement();this.set_name(b.get("id"));null!=this.get_name()&&""!=this.get_name()||this.set_name("Shader"+this.__cid);a=b.elementsNamed("vertex").next();
b=b.elementsNamed("fragment").next();this.m_vss=this.GetShaderSource(a);this.m_fss=this.GetShaderSource(b);this.m_hasError=!1;h.material.InitializeShader(this)};m["haxor.graphics.material.Shader"]=H;H.__name__=["haxor","graphics","material","Shader"];H.get_Flat=function(){return null==H.m_flat_shader?H.m_flat_shader=new H(ia.flat_source):H.m_flat_shader};H.get_FlatTexture=function(){return null==H.m_flat_texture_shader?H.m_flat_texture_shader=new H(ia.flat_texture_source):H.m_flat_texture_shader};
H.get_FlatTextureSkin=function(){return null==H.m_flat_texture_skin_shader?H.m_flat_texture_skin_shader=new H(ia.flat_texture_skin_source):H.m_flat_texture_skin_shader};H.__super__=y;H.prototype=B(y.prototype,{get_hasError:function(){return this.m_hasError},GetShaderSource:function(a){if(null==a)return"";var b=a.firstChild().get_nodeValue().toString();a=(null==a.get("precision")?"low":a.get("precision")).toLowerCase();switch(a){case "low":a="precision lowp float;";break;case "medium":a="precision mediump float;";
break;case "high":a="precision highp float;"}return a+b},OnDestroy:function(){h.material.DestroyShader(this)},__class__:H});var wb=function(a){H.call(this,a)};m["haxor.graphics.material.UberShader"]=wb;wb.__name__=["haxor","graphics","material","UberShader"];wb.__super__=H;wb.prototype=B(H.prototype,{__class__:wb});var fa=function(a){null==a&&(a="");y.call(this,a);this.__cid=h.mesh.mid.get_id();this.m_attribs=[];this.m_indexed=!1;this.m_vcount=0;this.m_bounds=ea.get_empty();this.m_mode=35044;this.primitive=
4;this.m_topology_attrib=new zb;this.m_topology_attrib.m_name="$topology";this.m_topology_attrib.offset=1};m["haxor.graphics.mesh.Mesh"]=fa;fa.__name__=["haxor","graphics","mesh","Mesh"];fa.__super__=y;fa.prototype=B(y.prototype,{get_topology:function(){return null==this.m_topology_attrib.data?new va(0):this.m_topology_attrib.data},set_topology:function(a){null==a?(this.m_topology_attrib.data=null,this.m_indexed=!1,h.mesh.RemoveAttrib(this.m_topology_attrib)):(this.m_topology_attrib.data=a,this.m_indexed=
!0,h.mesh.UpdateAttrib(this.m_topology_attrib,this.m_mode,!0));return a},get_indexed:function(){return this.m_indexed},get_mode:function(){return this.m_mode},set_mode:function(a){if(this.m_mode==a)return a;this.m_mode=a;this.m_indexed&&h.mesh.UpdateAttrib(this.m_topology_attrib,this.m_mode,!0);for(var b=0,c=this.m_attribs.length;b<c;){var d=b++;h.mesh.UpdateAttrib(this.m_attribs[d],this.m_mode,!1)}return a},get_attribs:function(){for(var a=[],b=0,c=this.m_attribs.length;b<c;){var d=b++;a.push(this.m_attribs[d].m_name)}return a},
get_vcount:function(){return this.m_vcount},get_bounds:function(){return this.m_bounds},set_bounds:function(a){return this.m_bounds.SetAABB3(a)},Clear:function(a){null==a&&(a=!0);for(var b=0,c=this.m_attribs.length;b<c;){var d=b++;this.m_attribs[d].data=null;this.m_attribs[d].m_name="";a&&h.mesh.RemoveAttrib(this.m_attribs[d])}this.m_vcount=0;a?this.set_topology(null):this.m_topology_attrib.data=null},Exists:function(a){return null!=this.GetAttribute(a)},Get:function(a){a=this.GetAttribute(a);return null==
a?null:a.data},GetAttribute:function(a){for(var b=0,c=this.m_attribs.length;b<c;){var d=b++;if(this.m_attribs[d].m_name==a)return this.m_attribs[d]}return null},Remove:function(a){a=this.GetAttribute(a);null!=a&&(z.remove(this.m_attribs,a),h.mesh.RemoveAttrib(a))},Set:function(a,b,c){null==c&&(c=0);if(null==b)return q.Log("Mesh> ["+this.get_name()+"] tried to set null array.",1),null;var d=this.GetAttribute(a);null==d&&(d=new zb,d.m_name=a,this.m_attribs.push(d));0<c&&(d.offset=c);d.data=b;this.m_vcount=
this.m_attribs[0].get_count();a=1;for(b=this.m_attribs.length;a<b;)c=a++,c=this.m_attribs[c].get_count(),this.m_vcount=this.m_vcount<c?this.m_vcount:c;h.mesh.UpdateAttrib(d,this.m_mode,!1);return d},GenerateAttribBounds:function(a,b){var c;c=null==b?ea.get_empty():b;var d=this.GetAttribute(a);if(null==d)return c.Set(0,0,0,0,0,0);var g=d.offset;if(0>=g)return c.Set(0,0,0,0,0,0);var e=g,d=d.data,l;l=0<g?d.Get(0):0;var f;f=1<g?d.Get(1):0;var h;h=2<g?d.Get(2):0;for(c.Set(l,l,f,f,h,h);e<d.m_length;)l=
0<g?d.Get(e):0,f=1<g?d.Get(e+1):0,h=2<g?d.Get(e+2):0,c.Encapsulate3(l,f,h),e+=g;return c},OnDestroy:function(){this.Clear();h.mesh.mid.set_id(this.__cid)},__class__:fa});var zb=function(){this.__cid=h.mesh.aid.get_id();this._loc_=-1;this.m_name="";this.data=null;this.offset=0};m["haxor.graphics.mesh.MeshAttrib"]=zb;zb.__name__=["haxor","graphics","mesh","MeshAttrib"];zb.prototype={get_name:function(){return this.m_name},get_count:function(){return null==this.data?0:this.data.m_length/this.offset|
0},__class__:zb};var Y=function(a){null==a&&(a="");fa.call(this,a);this.m_vertex=[];this.m_normal=[];this.m_color=[];this.m_uv0=[];this.m_uv1=[];this.m_tangent=[];this.m_binormal=[]};m["haxor.graphics.mesh.MeshLayout"]=Y;Y.__name__=["haxor","graphics","mesh","MeshLayout"];Y.__super__=fa;Y.prototype=B(fa.prototype,{get_vertex:function(){return this.m_vertex},set_vertex:function(a){return this.m_vertex=this.UpdateAttribute("vertex",a,!1)},get_normal:function(){return this.m_normal},set_normal:function(a){return this.m_normal=
this.UpdateAttribute("normal",a,!1)},get_color:function(){return this.m_color},set_color:function(a){return this.m_color=this.UpdateAttribute("color",a,!0)},get_uv0:function(){return this.m_uv0},set_uv0:function(a){return this.m_uv0=this.UpdateAttribute("uv0",a,!1)},get_uv1:function(){return this.m_uv1},set_uv1:function(a){return this.m_uv1=this.UpdateAttribute("uv1",a,!1)},get_tangent:function(){return this.m_tangent},set_tangent:function(a){return this.m_tangent=this.UpdateAttribute("tangent",a,
!1)},get_binormal:function(){return this.m_binormal},set_binormal:function(a){return this.m_binormal=this.UpdateAttribute("binormal",a,!1)},GenerateBounds:function(){this.GenerateAttribBounds("vertex",this.m_bounds)},UpdateAttribute:function(a,b,c){null==c&&(c=!1);if(null==b||0>=b.length)return this.Remove(a),[];var d=this.GetAttribute(a),g=1;F.__instanceof(b[0],E)&&(g=2);F.__instanceof(b[0],s)&&(g=3);F.__instanceof(b[0],M)&&(g=4);F.__instanceof(b[0],v)&&(g=4);null==d&&(d=this.Set(a,new L(1),g));
var e=0,d=d.data=new L(b.length*g);console.log(this.get_name()+" a["+a+"] off["+g+"] len["+d.m_length+"]");for(var l=0,f=b.length;l<f;){var h=l++,h=b[h];switch(g){case 1:d.Set(e++,h);break;case 2:d.Set(e++,h.x);d.Set(e++,h.y);break;case 3:d.Set(e++,h.x);d.Set(e++,h.y);d.Set(e++,h.z);break;case 4:c?(d.Set(e++,h.r),d.Set(e++,h.g),d.Set(e++,h.b),d.Set(e++,h.a)):(d.Set(e++,h.x),d.Set(e++,h.y),d.Set(e++,h.z),d.Set(e++,h.w))}}this.Set(a,d,g);return b},__class__:Y});var db=function(a){Y.call(this,a)};m["haxor.graphics.mesh.Mesh3"]=
db;db.__name__=["haxor","graphics","mesh","Mesh3"];db.__super__=Y;db.prototype=B(Y.prototype,{__class__:db});var Ab=function(a){Y.call(this,a)};m["haxor.graphics.mesh.SkinnedMesh3"]=Ab;Ab.__name__=["haxor","graphics","mesh","SkinnedMesh3"];Ab.__super__=db;Ab.prototype=B(db.prototype,{get_binds:function(){return this.m_binds},set_binds:function(a){this.m_binds=a.slice();return a},get_bone:function(){return this.m_bone},set_bone:function(a){return this.m_bone=this.UpdateAttribute("bone",a,!1)},get_weight:function(){return this.m_weight},
set_weight:function(a){return this.m_weight=this.UpdateAttribute("weight",a,!1)},__class__:Ab});var Vb=function(a){Y.call(this,a)};m["haxor.graphics.mesh.Mesh2D"]=Vb;Vb.__name__=["haxor","graphics","mesh","Mesh2D"];Vb.__super__=Y;Vb.prototype=B(Y.prototype,{__class__:Vb});var Wb=function(a){Y.call(this,a)};m["haxor.graphics.mesh.Mesh23"]=Wb;Wb.__name__=["haxor","graphics","mesh","Mesh23"];Wb.__super__=Y;Wb.prototype=B(Y.prototype,{__class__:Wb});var Xb=function(a){Y.call(this,a)};m["haxor.graphics.mesh.Mesh2"]=
Xb;Xb.__name__=["haxor","graphics","mesh","Mesh2"];Xb.__super__=Y;Xb.prototype=B(Y.prototype,{__class__:Xb});var Yb=function(a){Y.call(this,a)};m["haxor.graphics.mesh.Mesh4"]=Yb;Yb.__name__=["haxor","graphics","mesh","Mesh4"];Yb.__super__=Y;Yb.prototype=B(Y.prototype,{__class__:Yb});var R=function(){};m["haxor.graphics.mesh.Model"]=R;R.__name__=["haxor","graphics","mesh","Model"];R.get_screen=function(){if(null!=R.m_screen)return R.m_screen;var a=new fa("$ModelScreen"),b=L.Alloc([-1,-1,.5,1,-1,.5,
1,1,.5,-1,1,.5]),c=L.Alloc([0,0,0,1,0,0,1,1,0,0,1,0]);a.Set("vertex",b,3);a.Set("uv0",c,3);a.set_bounds(a.GenerateAttribBounds("vertex",h.data.get_aabb3()));a.set_topology(va.Alloc([0,1,2,0,2,3]));return R.m_screen=a};R.get_planeXY=function(){if(null!=R.m_planeXY)return R.m_planeXY;var a=new fa("$ModelPlaneXY"),b=L.Alloc([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),c=L.Alloc([0,0,0,1,0,0,1,1,0,0,1,0]);a.Set("vertex",b,3);a.Set("uv0",c,3);a.set_bounds(a.GenerateAttribBounds("vertex",h.data.get_aabb3()));
a.set_topology(va.Alloc([0,1,2,0,2,3]));return R.m_planeXY=a};R.get_planeXZ=function(){if(null!=R.m_planeXZ)return R.m_planeXZ;var a=new fa("$ModelPlaneXZ"),b=L.Alloc([-.5,0,-.5,.5,0,-.5,.5,0,.5,-.5,0,.5]),c=L.Alloc([0,0,0,1,0,0,1,1,0,0,1,0]);a.Set("vertex",b,3);a.Set("uv0",c,3);a.set_bounds(a.GenerateAttribBounds("vertex",h.data.get_aabb3()));a.set_topology(va.Alloc([0,1,2,0,2,3]));return R.m_planeXZ=a};R.get_planeYZ=function(){if(null!=R.m_planeYZ)return R.m_planeYZ;var a=new fa("$ModelPlaneYZ"),
b=L.Alloc([0,-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5]),c=L.Alloc([0,0,0,1,0,0,1,1,0,0,1,0]);a.Set("vertex",b,3);a.Set("uv0",c,3);a.set_bounds(a.GenerateAttribBounds("vertex",h.data.get_aabb3()));a.set_topology(va.Alloc([0,1,2,0,2,3]));return R.m_planeYZ=a};R.get_cube=function(){if(null!=R.m_cube)return R.m_cube;var a=new fa("$ModelCube"),b=L.FromBase64("AAAAvwAAAL8AAAC/AAAAvwAAAD8AAAC/AAAAPwAAAD8AAAC/AAAAPwAAAD8AAAC/AAAAPwAAAL8AAAC/AAAAvwAAAL8AAAC/AAAAvwAAAL8AAAA/AAAAPwAAAL8AAAA/AAAAPwAAAD8AAAA/AAAAPwAAAD8AAAA/AAAAvwAAAD8AAAA/AAAAvwAAAL8AAAA/AAAAvwAAAL8AAAC/AAAAPwAAAL8AAAC/AAAAPwAAAL8AAAA/AAAAPwAAAL8AAAA/AAAAvwAAAL8AAAA/AAAAvwAAAL8AAAC/AAAAPwAAAL8AAAC/AAAAPwAAAD8AAAC/AAAAPwAAAD8AAAA/AAAAPwAAAD8AAAA/AAAAPwAAAL8AAAA/AAAAPwAAAL8AAAC/AAAAPwAAAD8AAAC/AAAAvwAAAD8AAAC/AAAAvwAAAD8AAAA/AAAAvwAAAD8AAAA/AAAAPwAAAD8AAAA/AAAAPwAAAD8AAAC/AAAAvwAAAD8AAAC/AAAAvwAAAL8AAAC/AAAAvwAAAL8AAAA/AAAAvwAAAL8AAAA/AAAAvwAAAD8AAAA/AAAAvwAAAD8AAAC/"),
c=L.FromBase64("AACAPwAAAAAAAAAAAACAPwAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAAAAAAAAAAACAPwAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAgD8AAAAAAACAPwAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAgD8AAAAAAACAPwAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAgD8AAAAAAACAPwAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAgD8AAAAAAACAPwAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAgD8AAAAAAACAPwAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAAAAAAAAA"),
d=L.FromBase64("AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAACAvwAAAAAAAAAAAACAvwAAAAAAAAAAAACAvwAAAAAAAAAAAACAvwAAAAAAAAAAAACAvwAAAAAAAAAAAACAvwAAAAAAAAAA");
a.Set("vertex",b,3);a.Set("uv0",c,3);a.Set("normal",d,3);a.set_bounds(a.GenerateAttribBounds("vertex",h.data.get_aabb3()));return R.m_cube=a};R.get_tetrahedron=function(){if(null!=R.m_tetrahedron)return R.m_tetrahedron;var a=new fa("$ModelTetrahedron"),b=L.FromBase64("AAAAAAAAAAAAAAAAsb+cvpm/Bz8AAAAAsb8cPwAAAAAAAAAAAAAAAAAAAAAAAAAArr+cvpu/B78AAAAAsb+cvpm/Bz8AAAAAAAAAAAAAAAAAAAAAsb8cPwAAAAAAAAAArr+cvpu/B78AAAAAsb8cPwAAAAAAAAAAAAAAAAAAAACX/1A/AAAAAAAAAACX/1A/sb8cPwAAAAAAAAAAsb+cvpm/Bz8AAAAAAAAAAAAAAACX/1A/sb+cvpm/Bz8AAAAAAAAAAAAAAACX/1A/AAAAAAAAAACX/1A/sb+cvpm/Bz8AAAAArr+cvpu/B78AAAAAAAAAAAAAAACX/1A/rr+cvpu/B78AAAAAAAAAAAAAAACX/1A/AAAAAAAAAACX/1A/rr+cvpu/B78AAAAAsb8cPwAAAAAAAAAAAAAAAAAAAACX/1A/AAAAAAAAAACX/1A/AAAAAAAAAACX/1A/AAAAAAAAAACX/1A/AAAAAAAAAACX/1A/AAAAAAAAAACX/1A/AAAAAAAAAACX/1A/AAAAAAAAAACX/1A/AAAAAAAAAACX/1A/AAAAAAAAAACX/1A/"),
c=L.FromBase64("AAAAPwAAAAAAAAAAraqqPQAAAAAAAIA/AACAvgAAAAAAAIA/AAAAPwAAAAAAAAAAVlXVPgAAAAD+/38/raqqPQAAAAAAAIA/AAAAPwAAAAAAAAAAAABAPwAAAAAAAIA/VlXVPgAAAAD+/38/AABAPwAAAAAAAIA/AAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAAACAvgAAAAAAAIA/raqqPQAAAAAAAIA/AAAAPwAAgD8AAAAAraqqPQAAAAAAAIA/AAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAraqqPQAAAAAAAIA/VlXVPgAAAAD+/38/AAAAPwAAgD8AAAAAVlXVPgAAAAD+/38/AAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAVlXVPgAAAAD+/38/AABAPwAAAAAAAIA/AAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAA"),
d=L.FromBase64("AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAQrPvPiWWTz9yxrM+QrPvPiWWTz9yxrM+QrPvPiWWTz9yxrM+AACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAARbNvv4aDqbNyxrM+RbNvv4aDqbN2xrM+RLNvv4aDqbNyxrM+AACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAARbPvPiWWT792xrM+SbPvPiWWT792xrM+RbPvPiWWT792xrM+AACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAA");
a.Set("vertex",b,3);a.Set("uv0",c,3);a.Set("normal",d,3);a.set_bounds(a.GenerateAttribBounds("vertex",h.data.get_aabb3()));return R.m_tetrahedron=a};R.get_sphere=function(){if(null!=R.m_sphere)return R.m_sphere;var a=new fa("$ModelSphere"),b=L.FromBase64("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"),
c=L.FromBase64("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"),
d=L.FromBase64("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");
a.Set("vertex",b,3);a.Set("uv0",c,3);a.Set("normal",d,3);a.set_bounds(a.GenerateAttribBounds("vertex",h.data.get_aabb3()));return R.m_sphere=a};var rb=function(a,b,c){y.call(this);this.m_width=a;this.m_height=b;this.m_format=c;this.m_float=!1;this.m_channels=1;switch(c[1]){case 1:this.m_channels=1;break;case 0:this.m_channels=1;break;case 2:this.m_channels=3;break;case 3:this.m_channels=4;break;case 10:this.m_channels=1;this.m_float=!0;break;case 7:this.m_channels=1;this.m_float=!0;break;case 4:this.m_channels=
1;this.m_float=!0;break;case 8:this.m_channels=3;this.m_float=!0;break;case 5:this.m_channels=3;this.m_float=!0;break;case 9:this.m_channels=4;this.m_float=!0;break;case 6:this.m_channels=4,this.m_float=!0}a=this.m_width*this.m_height*this.m_channels;this.m_buffer=this.m_float?new L(a):new ca(a)};m["haxor.graphics.texture.Bitmap"]=rb;rb.__name__=["haxor","graphics","texture","Bitmap"];rb.__super__=y;rb.prototype=B(y.prototype,{get_buffer:function(){return this.m_buffer},get_float:function(){return this.m_float},
get_width:function(){return this.m_width},get_height:function(){return this.m_height},get_channels:function(){return this.m_channels},get_format:function(){return this.m_format},GetPixel:function(a,b){if(0>a||0>b||a>=this.m_width||b>=this.m_height)return new v;b=this.m_height-1-b;var c=this.m_channels,d=(a+b*this.m_width)*c;if(this.m_float){var g=new v,e=this.m_buffer;switch(c){case 1:g.r=e.Get(d);g.g=g.r;g.b=g.r;g.a=1;break;case 2:g.r=e.Get(d);g.g=e.Get(d+1);g.b=g.r;g.a=1;break;case 3:g.r=e.Get(d);
g.g=e.Get(d+1);g.b=e.Get(d+2);g.a=1;break;case 4:g.r=e.Get(d),g.g=e.Get(d+1),g.b=e.Get(d+2),g.a=e.Get(d+3)}return g}var l=this.m_buffer,g=l.GetByte(d),e=2<=c?l.GetByte(d+1):g,f;f=3<=c?l.GetByte(d+2):g;c=4<=c?l.GetByte(d+3):g;return v.FromBytes(g,e,f,c)},SetPixel:function(a,b,c){if(!(0>a||0>b||a>=this.m_width||b>=this.m_height)){b=this.m_height-1-b;var d=this.m_channels;a=(a+b*this.m_width)*d;this.m_float?(b=this.m_buffer,b.Set(a,c.r),2<=d&&b.Set(a+1,c.g),3<=d&&b.Set(a+2,c.b),4<=d&&b.Set(a+3,c.a)):
(b=this.m_buffer,b.SetByte(a,255*c.r),2<=d&&b.SetByte(a+1,255*c.g),3<=d&&b.SetByte(a+2,255*c.b),4<=d&&b.SetByte(a+3,255*c.a))}},Fill:function(a){for(var b=0,c=this.m_width;b<c;)for(var d=b++,g=0,e=this.m_height;g<e;){var l=g++;this.SetPixel(d,l,a)}},Set:function(a,b,c,d,g,e){null==e&&(e=0);null==g&&(g=0);null==d&&(d=0);null==c&&(c=0);var l=this.m_channels;b=this.m_height-1-b;a=(a+b*this.m_width)*l;this.m_float?(b=this.m_buffer,b.Set(a,c),2<=l&&b.Set(a+1,d),3<=l&&b.Set(a+2,g),4<=l&&b.Set(a+3,e)):(b=
this.m_buffer,b.SetByte(a,255*c),2<=l&&b.SetByte(a+1,255*d),3<=l&&b.SetByte(a+2,255*g),4<=l&&b.SetByte(a+3,255*e))},SetRange:function(a,b,c,d,g,e){null==e&&(e=-1);b=this.m_height-1-b;d=this.m_channels;e=0>e?g.length:e;for(var l=0,f=a,h=0,k=0,m=0,n=0,p=0;p<e;){p++;var q=(f+b*this.m_width)*d;f++;f>=c&&(f=a,b++);h=g[l++];2<=d&&(k=g[l++]);3<=d&&(m=g[l++]);4<=d&&(n=g[l++]);if(this.m_float){var r=this.m_buffer;r.Set(q,h);2<=d&&r.Set(q+1,k);3<=d&&r.Set(q+2,m);4<=d&&r.Set(q+3,n)}else r=this.m_buffer,r.SetByte(q,
255*h),2<=d&&r.SetByte(q+1,255*k),3<=d&&r.SetByte(q+2,255*m),4<=d&&r.SetByte(q+3,255*n)}},__class__:rb});var sa=function(){y.call(this);this.m_mipmaps=!1;this.m_format=G.RGBA8;this.m_magFilter=this.m_minFilter=V.Linear;this.m_wrap=qa.ClampX|qa.ClampY|qa.ClampZ;this.m_aniso=this.m_height=this.m_width=0;this.__cid=h.texture.tid.get_id()};m["haxor.graphics.texture.Texture"]=sa;sa.__name__=["haxor","graphics","texture","Texture"];sa.__super__=y;sa.prototype=B(y.prototype,{get_width:function(){return this.m_width},
get_height:function(){return this.m_height},get_format:function(){return this.m_format},get_wrap:function(){return this.m_wrap},set_wrap:function(a){if(this.m_wrap==a)return a;this.m_wrap=a;h.texture.UpdateParameters(this);return a},get_aniso:function(){return this.m_aniso},set_aniso:function(a){if(this.m_aniso==a)return a;this.m_aniso=a;h.texture.UpdateParameters(this);return a},get_minFilter:function(){return this.m_minFilter},set_minFilter:function(a){if(this.m_minFilter==a)return a;this.m_minFilter=
a;h.texture.UpdateParameters(this);return a},get_magFilter:function(){return this.m_magFilter},set_magFilter:function(a){if(this.m_magFilter==a)return a;this.m_magFilter=a;h.texture.UpdateParameters(this);return a},get_mipmaps:function(){return this.m_mipmaps},get_type:function(){return J.None},Apply:function(){h.texture.Update(this)},GenerateMipmaps:function(){this.m_mipmaps||(this.m_mipmaps=!0,h.texture.UpdateMipmaps(this))},OnDestroy:function(){y.prototype.OnDestroy.call(this);h.texture.Destroy(this)},
__class__:sa});var A=function(a,b,c){sa.call(this);this.m_format=c;this.m_width=a;this.m_height=b;0>=a||0>=b||(this.m_data=new rb(a,b,c),h.texture.Create(this))};m["haxor.graphics.texture.Texture2D"]=A;A.__name__=["haxor","graphics","texture","Texture2D"];A.get_white=function(){if(null!=A.m_white)return A.m_white;A.m_white=new A(1,1,G.RGB8);A.m_white.set_name("White");A.m_white.m_data.Fill(new v(1,1,1,1));A.m_white.Apply();return A.m_white};A.get_black=function(){if(null!=A.m_black)return A.m_black;
A.m_black=new A(1,1,G.RGB8);A.m_black.set_name("Black");A.m_black.m_data.Fill(new v(0,0,0,1));A.m_black.Apply();return A.m_black};A.get_red=function(){if(null!=A.m_red)return A.m_red;A.m_red=new A(1,1,G.RGB8);A.m_red.set_name("Red");A.m_red.m_data.Fill(new v(1,0,0,1));A.m_red.Apply();return A.m_red};A.get_green=function(){if(null!=A.m_green)return A.m_green;A.m_green=new A(1,1,G.RGB8);A.m_green.set_name("Green");A.m_green.m_data.Fill(new v(0,1,0,1));A.m_green.Apply();return A.m_green};A.get_random=
function(){if(null!=A.m_random)return A.m_random;A.m_random=new A(512,512,G.Float4);A.m_random.set_wrap(qa.RepeatX|qa.RepeatY);for(var a=0,b=A.m_random.m_width;a<b;)for(var c=a++,d=0,g=A.m_random.m_height;d<g;){var e=d++;A.m_random.m_data.Set(e,c,Math.random(),Math.random(),Math.random(),Math.random())}A.m_random.Upload(10);return A.m_random};A.FromBitmap=function(a,b){var c=new A(0,0,a.m_format);c.m_data=a;c.m_width=a.m_width;c.m_height=a.m_height;h.texture.Create(c);c.Apply();return c};A.__super__=
sa;A.prototype=B(sa.prototype,{get_data:function(){return this.m_data},get_type:function(){return J.Texture2D},Upload:function(a,b){null==a&&(a=200);h.texture.UploadTexture(this,0,0,this.m_width,this.m_height,a,b)},__class__:A});var kb=function(a,b,c){A.call(this,a,b,c);this.set_minFilter(V.Nearest);this.set_magFilter(V.Nearest);this.m_dirty=this.m_lock=!1};m["haxor.graphics.texture.ComputeTexture"]=kb;kb.__name__=["haxor","graphics","texture","ComputeTexture"];kb.__super__=A;kb.prototype=B(A.prototype,
{get_type:function(){return J.Compute},Write:function(a,b,c,d,g,e){null==e&&(e=0);null==g&&(g=0);null==d&&(d=0);null==c&&(c=0);this.m_data.SetPixel(a,b,h.data.get_c().Set(c,d,g,e));this.m_dirty=!0;this.Invalidate()},WriteRange:function(a,b,c,d,g){null==g&&(g=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.m_data.SetRange(b,c,0>d?this.m_width:d,0>g?this.m_height:g,a);this.Invalidate();this.m_dirty=!0},Invalidate:function(){this.Apply()},OnUploadComplete:function(){this.m_lock=!1;this.m_dirty&&
this.Invalidate();this.m_dirty=!1},__class__:kb});var lb=function(a,b,c,d){null==d&&(d=!1);sa.call(this);this.m_format=c;this.m_width=a|0;this.m_height=b|0;d&&e.TEXTURE_DEPTH_ENABLED&&(this.m_depth=new A(this.m_width,this.m_height,G.Depth));h.texture.Create(this)};m["haxor.graphics.texture.RenderTexture"]=lb;lb.__name__=["haxor","graphics","texture","RenderTexture"];lb.__super__=sa;lb.prototype=B(sa.prototype,{get_depth:function(){return this.m_depth},get_type:function(){return J.RenderTexture},__class__:lb});
var Bb=function(){this.m_faces=[null,null,null,null,null,null];this.m_is_cross=!1;sa.call(this);h.texture.Create(this)};m["haxor.graphics.texture.TextureCube"]=Bb;Bb.__name__=["haxor","graphics","texture","TextureCube"];Bb.FromCrossTexture=function(a){return null};Bb.__super__=sa;Bb.prototype=B(sa.prototype,{get_px:function(){return this.m_faces[0]},set_px:function(a){this.InvalidateCross();return this.m_faces[0]=a},get_nx:function(){return this.m_faces[1]},set_nx:function(a){this.InvalidateCross();
return this.m_faces[1]=a},get_py:function(){return this.m_faces[2]},set_py:function(a){this.InvalidateCross();return this.m_faces[2]=a},get_ny:function(){return this.m_faces[3]},set_ny:function(a){this.InvalidateCross();return this.m_faces[3]=a},get_pz:function(){return this.m_faces[4]},set_pz:function(a){this.InvalidateCross();return this.m_faces[4]=a},get_nz:function(){return this.m_faces[5]},set_nz:function(a){this.InvalidateCross();return this.m_faces[5]=a},OnDestroy:function(){sa.prototype.OnDestroy.call(this);
for(var a=0,b=this.m_faces.length;a<b;){var c=a++;null!=this.m_faces[c]&&y.Destroy(this.m_faces[c])}},InvalidateCross:function(){if(this.m_is_cross)for(var a=0,b=this.m_faces.length;a<b;){var c=a++;null!=this.m_faces[c]&&y.Destroy(this.m_faces[c])}},__class__:Bb});var n=function(){};m["haxor.input.Input"]=n;n.__name__=["haxor","input","Input"];n.get_touches=function(){return n.m_touches};n.get_joystick=function(){return n.m_joysticks};n.get_multitouch=function(){return n.m_multitouch};n.GetInputState=
function(a){return n.m_state.get(a)};n.Pressed=function(a){a=n.GetInputState(a);return a==O.Down||a==O.Hold};n.Down=function(a){return n.GetInputState(a)==O.Down};n.Hit=function(a){return n.GetInputState(a)==O.Up};n.GetHoldTime=function(a){return n.m_hold.get(a)};n.Initialize=function(){n.m_state=new ib;n.m_hold=new ib;n.m_active=[];n.m_down=[];n.m_touches=[];n.m_api_touches=[];for(var a=0;10>a;)a++,n.m_api_touches.push(new Zb);for(a=0;256>a;){var b=a++;n.m_state.set(b,O.None);n.m_hold.set(b,0);n.m_down.push(!1)}n.m_joysticks=
[];n.m_api_joystick=[];for(a=0;10>a;)a++,n.m_api_joystick.push(new Da);n.mouse=new E;n.deltaMouse=new E;n.relativeMouse=new E;q.Log("Haxor> Input Initialize",4)};n.UpdateTouchFSM=function(){for(var a=0,b=n.m_touches.length;a<b;){var c=a++;n.TouchFSM(n.m_touches[c])}};n.UpdateInput=function(){for(var a=0,b=n.m_active.length;a<b;){var c=a++;n.UpdateInputState(n.m_active[c],n.m_down[n.m_active[c]])}};n.TouchFSM=function(a){if(null!=a){var b=a.state,c=a.m_down;b==O.Up&&z.remove(n.m_touches,a);b==O.Hold&&
(a.hold+=p.m_delta);a.state=n.InputStateFSM(b,c)}};n.UpdateInputState=function(a,b,c){null==c&&(c=!0);var d=n.m_state.get(a);null==d&&(d=O.None);var g=d,g=n.m_down[a];b=n.m_down[a]=b;g||b&&n.m_active.push(a);!b&&g||!c||(d==O.Up&&(n.m_hold.set(a,0),z.remove(n.m_active,a)),d==O.Hold&&(c=n.m_hold.get(a),n.m_hold.set(a,c+p.m_delta)),g=n.InputStateFSM(d,b),d!=g&&n.m_state.set(a,g))};n.InputStateFSM=function(a,b){var c=a;switch(a[1]){case 0:b&&(c=O.Down);break;case 1:c=O.Hold;break;case 2:c=O.None;break;
case 3:b||(c=O.Up)}return c};var Cb=function(){};m["haxor.input.InputHandler"]=Cb;Cb.__name__=["haxor","input","InputHandler"];Cb.prototype={Update:function(){n.UpdateInput();n.UpdateTouchFSM();this.UpdateInput();n.emulateTouch&&(this.EmulateTouch(f.Mouse0,0),this.EmulateTouch(f.Mouse1,2),this.EmulateTouch(f.Mouse2,1))},UpdateInput:function(){},Clear:function(){n.wheel=0;n.deltaMouse.x=0;n.deltaMouse.y=0},OnMouseMove:function(a,b){n.deltaMouse.x=a-n.mouse.x;n.deltaMouse.y=b-n.mouse.y;n.mouse.x=a;
n.mouse.y=b;n.relativeMouse.x=n.mouse.x/C.m_width;n.relativeMouse.y=n.mouse.y/C.m_height},OnMouseWheel:function(a){n.wheel=a},OnMouseButton:function(a,b){switch(a){case 0:n.UpdateInputState(f.Mouse0,b,!1);break;case 1:n.UpdateInputState(f.Mouse1,b,!1);break;case 2:n.UpdateInputState(f.Mouse2,b,!1);break;case 3:n.UpdateInputState(f.Mouse3,b,!1);break;case 4:n.UpdateInputState(f.Mouse4,b,!1)}},OnKey:function(a,b){n.UpdateInputState(a,b,!1)},OnTouchStart:function(a,b,c,d,g,e,l){null==l&&(l=0);null==
e&&(e=0);null==g&&(g=0);null==d&&(d=0);var f=n.m_api_touches[a];f.id=a;f.position.x=b;f.position.y=c;f.relativePosition.x=f.position.x/C.m_width;f.relativePosition.y=f.position.y/C.m_height;f.delta.x=0;f.delta.y=0;f.pressure=e;f.radius.x=d;f.radius.y=g;f.angle=l;f.m_down=!0;0>n.m_touches.indexOf(f)&&n.m_touches.push(f)},OnTouchMove:function(a,b,c){a=n.m_api_touches[a];0<=a.id&&(a.delta.x=b-a.position.x,a.delta.y=c-a.position.y);a.position.x=b;a.position.y=c;a.relativePosition.x=a.position.x/C.m_width;
a.relativePosition.y=a.position.y/C.m_height},OnTouchCancel:function(a){n.m_api_touches[a].m_down=!1},OnTouchEnd:function(a){n.m_api_touches[a].m_down=!1},OnJoystickStart:function(a,b){this.m_joystick=null;var c=n.m_api_joystick[a];null!=c&&(this.m_joystick=c,0<=n.m_joysticks.indexOf(c)||(c.id=a,c.name=b,n.m_joysticks.push(c),Da.available=0<n.m_joysticks.length))},OnJoystickDataUpdate:function(a,b,c){null!=this.m_joystick&&(c?this.m_joystick.analog[a]=b:(this.m_joystick.button[a]=b,this.m_joystick.state[a]=
n.InputStateFSM(this.m_joystick.state[a],this.m_joystick.button[a]>=Da.buttonBias),this.m_joystick.state[a]==O.Hold&&(this.m_joystick.hold[a]+=p.m_delta),this.m_joystick.state[a]==O.None&&(this.m_joystick.hold[a]=0)))},OnJoystickAnalogUpdate:function(){if(null!=this.m_joystick){var a=Da.analogBias[0],b=Da.analogBias[1],c=1,d,g=this.m_joystick;d=g.analogLeft;d.x=g.analog[f.LeftAnalogueHor];c=0>d.x?-1:1;d.x=k.Clamp01((k.Abs(d.x)-a)/(b-a));d.x=c*(100*d.x|0)*.01;d.y=g.analog[f.LeftAnalogueVert];c=0>d.y?
-1:1;d.y=k.Clamp01((k.Abs(d.y)-a)/(b-a));d.y=-c*(100*d.y|0)*.01;d.z=.5<g.button[f.LeftAnalogueStick]?1:0;d=g.analogRight;d.x=g.analog[f.RightAnalogueHor];c=0>d.x?-1:1;d.x=k.Clamp01((k.Abs(d.x)-a)/(b-a));d.x=c*(100*d.x|0)*.01;d.y=g.analog[f.RightAnalogueVert];c=0>d.y?-1:1;d.y=k.Clamp01((k.Abs(d.y)-a)/(b-a));d.y=-c*(100*d.y|0)*.01;d.z=.5<g.button[f.RightAnalogueStick]?1:0;g.triggerLeft=g.button[f.LeftShoulderBottom];g.triggerLeft=k.Clamp01((g.triggerLeft-a)/(b-a));g.triggerRight=g.button[f.RightShoulderBottom];
g.triggerRight=k.Clamp01((g.triggerRight-a)/(b-a))}},RequestJoystickVibration:function(a){},EmulateTouch:function(a,b){if(n.Down(a)){var c=h.data.get_v2();switch(b){case 0:c.Set2(n.mouse);break;case 1:c.Set(.5*C.m_width,.5*C.m_height);break;case 2:c.Set(C.m_width*Math.random(),C.m_height*Math.random())}this.OnTouchStart(b,c.x,c.y)}0==b&&n.Pressed(a)&&0<n.deltaMouse.get_length()&&this.OnTouchMove(b,n.mouse.x,n.mouse.y);n.Hit(a)&&this.OnTouchEnd(b)},__class__:Cb};var Da=function(){var a=O.None;this.name=
"";this.id=-1;this.button=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.state=[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a];this.hold=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.analog=[0,0,0,0,0,0,0,0];this.analogLeft=new s;this.analogRight=new s;this.m_vibrationRight=this.m_vibrationLeft=this.triggerRight=this.triggerLeft=0};m["haxor.input.Joystick"]=Da;Da.__name__=["haxor","input","Joystick"];Da.prototype={get_vibrationLeft:function(){return this.m_vibrationLeft},set_vibrationLeft:function(a){if(0>=
k.Abs(this.m_vibrationLeft-a))return a;this.m_vibrationLeft=a;n.m_handler.RequestJoystickVibration(this);return a},get_vibrationRight:function(){return this.m_vibrationRight},set_vibrationRight:function(a){if(0>=k.Abs(this.m_vibrationRight-a))return a;this.m_vibrationRight=a;n.m_handler.RequestJoystickVibration(this);return a},Pressed:function(a){return this.state[a]==O.Hold||this.state[a]==O.Down},Down:function(a){return this.state[a]==O.Down},Hit:function(a){return this.state[a]==O.Up},ToString:function(a,
b,c,d){null==d&&(d=!0);null==c&&(c=!0);null==b&&(b=!0);null==a&&(a=!0);var g;g="J"+this.id;a&&(g+=" AL"+this.analogLeft.ToString(1),g+=" AR"+this.analogRight.ToString(1));b&&(g+=" A["+(this.Pressed(f.ButtonA)?"1]":"0]"),g+=" B["+(this.Pressed(f.ButtonB)?"1]":"0]"),g+=" X["+(this.Pressed(f.ButtonX)?"1]":"0]"),g+=" Y["+(this.Pressed(f.ButtonY)?"1]":"0]"),g+=" L["+(this.Pressed(f.LeftShoulder)?"1]":"0]"),g+=" R["+(this.Pressed(f.RightShoulder)?"1]":"0]"),g+=" LB["+(this.Pressed(f.LeftShoulderBottom)?
"1]":"0]"),g+=" RB["+(this.Pressed(f.RightShoulderBottom)?"1]":"0]"),g+=" Start["+(this.Pressed(f.ButtonStart)?"1]":"0]"),g+=" Select["+(this.Pressed(f.ButtonSelect)?"1]":"0]"));d&&(g+=" PL["+(this.Pressed(f.PadLeft)?"1]":"0]"),g+=" PR["+(this.Pressed(f.PadRight)?"1]":"0]"),g+=" PU["+(this.Pressed(f.PadTop)?"1]":"0]"),g+=" PD["+(this.Pressed(f.PadBottom)?"1]":"0]"));c&&(g+=" TL["+k.RoundPlaces(this.triggerLeft,1)+"]",g+=" TR["+k.RoundPlaces(this.triggerRight,1)+"]");return g},__class__:Da};var f=
function(){};m["haxor.input.KeyCode"]=f;f.__name__=["haxor","input","KeyCode"];var Zb=function(){this.state=O.None;this.id=-1;this.position=new E;this.delta=new E;this.relativePosition=new E;this.angle=this.hold=this.pressure=0;this.radius=new E;this.m_down=!1};m["haxor.input.Touch"]=Zb;Zb.__name__=["haxor","input","Touch"];Zb.prototype={ToString:function(){return"id["+this.id+"] pos"+this.position.ToString(2)+"["+r.string(this.state)+"]"},__class__:Zb};var ca=function(a){this.Resize(a)};m["haxor.io.Buffer"]=
ca;ca.__name__=["haxor","io","Buffer"];ca.FromString=function(a){var b=new ca(a.length);b.SetString(a);return b};ca.prototype={get_buffer:function(){return this.m_buffer},get_byteLength:function(){return this.m_length*this.get_bytesPerElement()},get_bytesPerElement:function(){return 1},get_length:function(){return this.m_length},Resize:function(a){this.m_length=a;a=this.m_length*this.get_bytesPerElement();this.m_offset=0;this.aux=this.m_buffer=new Uint8Array(a)},GetByte:function(a){return this.m_buffer[a]},
SetByte:function(a,b){this.m_buffer[a]=b},SetBytes:function(a,b){null==b&&(b=0);for(var c=0,d=a.length;c<d;){var g=c++;this.SetByte(g+b,a[g])}},SetBuffer:function(a,b){null==b&&(b=0);for(var c=0,d=a.m_length*a.get_bytesPerElement();c<d;){var g=c++;this.SetByte(g+b,a.GetByte(g))}},EncodeBase64:function(){for(var a=ya.alloc(this.m_length*this.get_bytesPerElement()),b=0,c=a.length;b<c;){var d=b++;a.set(d,this.GetByte(d))}a=Fa.encode(a);b=r["int"](a.length/this.get_bytesPerElement());this.Resize(b);this.SetString(a);
return a},DecodeBase64:function(){var a=this.GetString(),a=Fa.decode(a),b=r["int"](a.length/this.get_bytesPerElement());this.Resize(b);for(var b=0,c=a.length;b<c;){var d=b++;this.SetByte(d,a.b[d])}},GetString:function(a,b){null==b&&(b=0);null==a&&(a=0);var c;c=0>=b?this.m_length*this.get_bytesPerElement():b;for(var d=new ab,g=0;g<c;){var e=g++;d.addChar(this.GetByte(e+a))}return d.b},SetString:function(a,b){null==b&&(b=0);for(var c=0,d=a.length;c<d;){var g=c++;this.SetByte(g+b,z.cca(a,g))}},SetViewSlice:function(a,
b){var c=a*this.get_bytesPerElement(),d=c+b*this.get_bytesPerElement();this.orig=this.aux;1==this.get_bytesPerElement()&&(this.aux=this.aux.subarray(c,d))},ResetSlice:function(){this.aux=this.orig},__class__:ca};var L=function(a){this.Resize(a)};m["haxor.io.FloatArray"]=L;L.__name__=["haxor","io","FloatArray"];L.Alloc=function(a){var b=new L(a.length);b.SetRange(a);return b};L.FromBase64=function(a){var b=new L(a.length/4|0);b.SetString(a);b.DecodeBase64();return b};L.Parse=function(a,b){null==b&&
(b=" ");for(var c=a.split(b),d=new L(c.length),g=0,e=c.length;g<e;){var l=g++;d.Set(l,r.parseFloat(x.trim(c[l])))}return d};L.__super__=ca;L.prototype=B(ca.prototype,{get_bytesPerElement:function(){return 4},Resize:function(a){ca.prototype.Resize.call(this,a);this.aux=new Float32Array(this.m_buffer.buffer)},Get:function(a){return this.aux[a]},Set:function(a,b){this.aux[a]=b},SetRange:function(a,b){null==b&&(b=0);for(var c=0,d=a.length;c<d;){var g=c++;this.Set(g+b,a[g])}},SetViewSlice:function(a,b){ca.prototype.SetViewSlice.call(this,
a,b);this.aux=this.aux.subarray(a,a+b)},__class__:L});var Sa=function(a){this.Resize(a)};m["haxor.io.Int32Array"]=Sa;Sa.__name__=["haxor","io","Int32Array"];Sa.Alloc=function(a){var b=new Sa(a.length);b.SetRange(a);return b};Sa.Parse=function(a,b){null==b&&(b=" ");for(var c=a.split(b),d=new Sa(c.length),g=0,e=c.length;g<e;){var l=g++;d.Set(l,r.parseInt(x.trim(c[l])))}return d};Sa.__super__=ca;Sa.prototype=B(ca.prototype,{get_bytesPerElement:function(){return 4},Resize:function(a){ca.prototype.Resize.call(this,
a);this.aux=new Int32Array(this.m_buffer.buffer)},Get:function(a){return this.aux[a]},Set:function(a,b){this.aux[a]=b},SetRange:function(a,b){null==b&&(b=0);for(var c=0,d=a.length;c<d;){var g=c++;this.Set(g+b,a[g])}},SetViewSlice:function(a,b){ca.prototype.SetViewSlice.call(this,a,b);this.aux=this.aux.subarray(a,a+b)},__class__:Sa});var va=function(a){this.Resize(a)};m["haxor.io.UInt16Array"]=va;va.__name__=["haxor","io","UInt16Array"];va.Alloc=function(a){var b=new va(a.length);b.SetRange(a);return b};
va.Parse=function(a,b){null==b&&(b=" ");for(var c=a.split(b),d=new va(c.length),g=0,e=c.length;g<e;){var l=g++;d.Set(l,r.parseInt(x.trim(c[l])))}return d};va.__super__=ca;va.prototype=B(ca.prototype,{get_bytesPerElement:function(){return 2},Resize:function(a){ca.prototype.Resize.call(this,a);this.aux=new Uint16Array(this.m_buffer.buffer)},Get:function(a){return this.aux[a]},Set:function(a,b){this.aux[a]=b},SetRange:function(a,b){null==b&&(b=0);for(var c=0,d=a.length;c<d;){var g=c++;this.Set(g+b,a[g])}},
SetViewSlice:function(a,b){ca.prototype.SetViewSlice.call(this,a,b);this.aux=this.aux.subarray(a,a+b)},__class__:va});var S=function(){};m["haxor.io.file.Asset"]=S;S.__name__=["haxor","io","file","Asset"];S.Get=function(a){return S.m_database.exists(a)?S.m_database.get(a):null};S.Remove=function(a){if(S.m_database.exists(a)){var b=S.m_database.get(a);S.m_database.remove(a);return b}return null};S.Add=function(a,b){S.m_database.set(a,b);F.__instanceof(b,y)&&(F.__cast(b,y).__db=a)};var sb=function(a){y.call(this,
a)};m["haxor.io.file.AssetFile"]=sb;sb.__name__=["haxor","io","file","AssetFile"];sb.__super__=y;sb.prototype=B(y.prototype,{get_asset:function(){return null},stof32a:function(a,b){null==b&&(b=" ");for(var c=x.trim(x.replace(a,"\n"," ")).split(b),d=[],g=0,e=c.length;g<e;){var l=g++;d.push(r.parseFloat(c[l]))}return d},stoi16a:function(a,b){null==b&&(b=" ");for(var c=x.trim(x.replace(a,"\n"," ")).split(b),d=[],g=0,e=c.length;g<e;){var l=g++;d.push(r.parseInt(c[l]))}return d},stoi16ta:function(a,b,
c){null==c&&(c=" ");a=x.trim(x.replace(a,"\n"," ")).split(c);c=[];for(var d,g=0;g<a.length;){d=[];for(var e=0;e<b;)e++,d.push(r.parseInt(a[g++]));c.push(d)}return c},__class__:sb});var Ha=function(a,b){y.call(this,a);this.x=t.parse(b);this.TraverseStep(this.x.firstElement())};m["haxor.io.file.AssetXML"]=Ha;Ha.__name__=["haxor","io","file","AssetXML"];Ha.__super__=sb;Ha.prototype=B(sb.prototype,{Parse:function(a){},TraverseStep:function(a){this.Parse(a);for(a=a.elements();a.hasNext();)this.TraverseStep(a.next())},
_a:function(a,b,c){return a.exists(b)?a.get(b):c},_tla:function(a,b,c){return a.exists(b)?x.trim(a.get(b)).toLowerCase():c},_p:function(a,b,c,d,g){null==g&&(g=!1);null==d&&(d=!1);b=b.split(".");var e=a;a=0;for(var l=b.length;a<l;){var f=a++,h=b[f];switch(h){case "$text":if(null==e.firstChild())return c;c=e.firstChild().toString();d&&(c=x.trim(c));g&&(c=c.toLowerCase());return c;default:if("@"==h.charAt(0))return d&&g?this._tla(e,z.substr(h,1,null),c):this._a(e,z.substr(h,1,null),c);e=e.elementsNamed(h);
if(null==e)return c;if(f==b.length-1)return e;if(!e.hasNext())return c;e=e.next()}}return c},_f:function(a,b,c,d){a=this._p(a,b,"");a=""==a?null:a;if(null==a)return null;for(;a.hasNext();)if(b=a.next(),this._a(b,c,"")==d)return b;return null},__class__:Ha});var Ia=function(a,b){this.version=this.xmlns="";this.data=new $b;this.geometries=[];this.images=[];this.controllers=[];this.materials=[];this.animations=[];this.lights=[];this.scene=null;this.m_id=r["int"](16777215*Math.random());Ha.call(this,
a,b)};m["haxor.io.file.ColladaFile"]=Ia;Ia.__name__=["haxor","io","file","ColladaFile"];Ia.GenerateTriangles=function(a,b,c){var d=[];switch(a){case "triangles":d=0>=b.length?[]:b[0];break;case "polygons":c=0;for(a=b.length;c<a;)for(var e=c++,e=Ia.TriangulatePolygon(b[e],b[e].length);0<e.length;)d.push(e.shift());break;case "polylist":for(var e=a=0,f=c.length;e<f;){for(var l=e++,l=c[l],h=Ia.TriangulatePolygon(b[0],l,a);0<h.length;)d.push(h.shift());a+=l}}return d};Ia.TriangulatePolygon=function(a,
b,c){null==c&&(c=0);for(var d=1,e=2,f=[];e<b;)f.push(a[0+c].slice()),f.push(a[d+c].slice()),f.push(a[e+c].slice()),d++,e++;return f};Ia.__super__=Ha;Ia.prototype=B(Ha.prototype,{get_asset:function(){var a=this,b=new la;b.set_name("collada_asset");if(null==this.scene)return q.LogError("ColladaFile> Trying to get asset of NULL scene."),b;""!=this.scene.name?b.set_name(this.scene.name):""!=this.scene.id&&b.set_name(this.scene.id);for(var c=new Pa,d=new Pa,e=new Pa,f=[],l=[],h=[],k=0,m=this.materials.length;k<
m;){for(var n=k++,n=this.materials[n],p=n.name,r=0;10>r;)var u=r++,p=x.replace(p,"_"+u,"");p=x.replace(p,"_","/");r=S.Get(p);null==r&&(r=new da,r.set_name(p),r.set_shader(S.Get("haxor/unlit/FlatTexture")),S.Add(p,r));e.set(n,r)}this.scene.Traverse(function(k){var m;m=null==k.parent?b:null!=c.h.__keys__[k.parent.__id__]?c.h[k.parent.__id__]:b;var n=null;if("EnvironmentAmbientLight"!=k.name){n=new la;n.set_name("node"+n.get_uid());""!=k.sid?n.set_name(k.sid):""!=k.id?n.set_name(k.id):""!=k.name&&n.set_name(k.name);
"joint"==k.type&&(f.push(n.m_transform),l.push(k));n.m_transform.set_parent(m.m_transform);n.m_transform.set_localPosition(k.position);n.m_transform.set_localRotation(k.rotation);n.m_transform.set_localScale(k.scale);if(""!=k.data){m=n.AddComponent(vb);try{m.data=JSON.parse(k.data)}catch(p){}}c.set(k,n);m=0;for(var r=k.instances.length;m<r;){var q=m++,u=k.instances[q],s=null,v=null,t=q=null,y="";switch(u.type){case "light":q=a.FindLightById(u.target);if(null==q)continue;switch(q.type){case "point":t=
n.AddComponent(bb),t.color.SetColor(q.color),t.intensity=q.intensity,t.radius=2*q.radius,t.atten=q.atten}continue;case "geometry":y=u.target;break;case "controller":t=a.FindControllerById(u.target),null!=t&&(d.set(n.m_transform,t),y=t.source)}q=a.FindGeometryById(y);if(null!=q)for(var u=0,A=q.mesh.primitives.length;u<A;){var s=u++,z=q.mesh.primitives[s].material,v=a.FindMaterialById(z),s=a.CreateMeshRenderer(n,y,q.mesh.primitives[s],null==t?xa:jb,t);null!=t&&h.push(s);if(null!=v)s.set_material(null!=
e.h.__keys__[v.__id__]?e.h[v.__id__]:s.m_material);else{for(v=0;10>v;)var vc=v++,z=x.replace(z,"_"+vc,"");z=x.replace(z,"_","/");z=S.Get(z);s.set_material(z)}}}}});k=0;for(m=h.length;k<m;)if(n=k++,n=h[n],p=null!=d.h.__keys__[n.m_entity.m_transform.__id__]?d.h[n.m_entity.m_transform.__id__]:null,null!=p)for(n.set_joints([]),r=0,u=p.joints.length;r<u;)for(var v=r++,t=0,y=f.length;t<y;){var A=t++;f[A].get_name()==p.joints[v]&&n.m_joints.push(f[A])}for(k=c.keys();k.hasNext();)m=k.next(),n=c.h[m.__id__],
n!=b&&n.set_name(m.name);this.AddAnimations(b);"z_up"==this.data.axis&&b.m_transform.set_rotation(D.FromAxisAngle(new s(1,0,0),-90));return b},AddAnimations:function(a,b){},CreateMeshRenderer:function(a,b,c,d,e){a=a.AddComponent(d);var f=b+"_"+this.m_id;b=S.Get(f);if(null!=b)return a.set_mesh(b),a;d=c.GetTriangulatedVectorArray("vertex");var l=c.GetTriangulatedVectorArray("normal"),h=c.GetTriangulatedVectorArray("color"),k=c.GetTriangulatedVectorArray("texcoord",0),m=c.GetTriangulatedVectorArray("texcoord",
1),n=c.GetTriangulatedVectorArray("texbinormal"),p=c.GetTriangulatedVectorArray("textangent"),q=F.__instanceof(a,jb);b=q?new Ab:new db;b.set_name(f);S.Add(f,b);0<h.length&&b.set_color(h);0<k.length&&b.set_uv0(k);0<m.length&&b.set_uv1(m);if(q&&null!=e){e.GenerateBonesAndWeights();f=b;h=e.GetTriangulatedWeights(c);c=e.GetTriangulatedBones(c);k=e.GetBinds();f.set_binds(k);f.set_weight(h);f.set_bone(c);e=e.GetBSM();c=0;for(f=d.length;c<f;)h=c++,d[h]=e.Transform3x4(d[h].get_clone());c=0;for(f=l.length;c<
f;)h=c++,l[h]=e.Transform3x3(l[h].get_clone());c=0;for(f=n.length;c<f;)h=c++,n[h]=e.Transform3x3(n[h].get_clone());c=0;for(f=p.length;c<f;)h=c++,p[h]=e.Transform3x3(p[h].get_clone())}0<d.length&&b.set_vertex(d);0<l.length&&b.set_normal(l);0<n.length&&b.set_binormal(n);0<p.length&&b.set_tangent(p);b.GenerateBounds();a.set_mesh(b);return a},FindLightById:function(a){for(var b=0,c=this.lights.length;b<c;){var d=b++;if(this.lights[d].id==a)return this.lights[d]}return null},FindGeometryById:function(a){for(var b=
0,c=this.geometries.length;b<c;){var d=b++;if(this.geometries[d].id==a)return this.geometries[d]}return null},FindControllerById:function(a){for(var b=0,c=this.controllers.length;b<c;){var d=b++;if(this.controllers[d].id==a)return this.controllers[d]}return null},FindNodeById:function(a){var b=null;this.scene.Traverse(function(c){c.id==a&&(b=c)});return b},FindMaterialById:function(a){for(var b=0,c=this.materials.length;b<c;){var d=b++;if(this.materials[d].id==a||this.materials[d].name==a)return this.materials[d]}return null},
Parse:function(a){switch(a.get_nodeName()){case "COLLADA":this.xmlns=this._a(a,"xmlns","");this.version=this._a(a,"version","0.0");break;case "asset":this.data.author=this._p(a,"contributor.author.$text","none");this.data.tool=this._p(a,"contributor.authoring_tool.$text","none");this.data.source=this._p(a,"contributor.source_data.$text","none");this.data.axis=this._p(a,"up_axis.$text","y_up").toLowerCase();this.data.creation=this._p(a,"created.$text","00/00/00");this.data.modification=this._p(a,"modified.$text",
"00/00/00");this.data.unitName=this._p(a,"unit.@name","none");this.data.unitValue=r.parseFloat(this._p(a,"unit.@meter","0.0"));break;case "library_materials":this.ParseMaterialLibrary(a);break;case "library_geometries":this.ParseGeometryLibrary(a);break;case "library_controllers":this.ParseControllerLibrary(a);break;case "library_images":this.ParseImageLibrary(a);break;case "library_visual_scenes":this.ParseSceneLibrary(a);break;case "library_animations":this.ParseAnimationLibrary(a);break;case "library_lights":this.ParseLightLibrary(a)}},
ParseLightLibrary:function(a){for(var b=a.elementsNamed("light"),c,d;b.hasNext();)if(a=b.next(),c=new ac,c.id=this._p(a,"@id","light"+this.lights.length),c.name=this._p(a,"@name",c.id),this.lights.push(c),d=a.elementsNamed("technique_common"),d.hasNext()&&(d=d.next().elements(),d.hasNext())){d=d.next();c.type=d.get_nodeName().toLowerCase();var e=[1,1,1,1];switch(c.type){case "point":e=this._f32a(this._p(d,"color.$text",""));break;case "ambient":e=this._f32a(this._p(d,"color.$text",""));break;case "directional":e=
this._f32a(this._p(d,"color.$text",""))}c.color.Set(e[0],e[1],e[2],4<=e.length?e[3]:1);d=a.elementsNamed("extra");if(d.hasNext()&&(d=d.next().elementsNamed("technique"),d.hasNext()&&(d=d.next().elementsNamed("max_light"),d.hasNext())))switch(d=d.next(),c.type){case "point":c.radius=r.parseFloat(this._p(d,"decay_radius.$text","1.0"));c.intensity=r.parseFloat(this._p(d,"multiplier.$text","1.0"));a=r.parseInt(this._p(d,"decay_type.$text","1.0"));c.atten=0==a?0:1==a?1:2;break;case "directional":c.intensity=
r.parseFloat(this._p(d,"multiplier.$text","1.0"))}}},ParseAnimationLibrary:function(a){for(var b=a.elementsNamed("animation"),c=0;b.hasNext();){a=b.next();a.elementsNamed("animation").hasNext()&&(a=a.elementsNamed("animation").next());var d=new bc;d.id=this._a(a,"id","");d.id=""==d.id?"Clip"+c++:d.id;d.name=this._a(a,"name",d.id);for(var e=a.elementsNamed("source"),f=a.elementsNamed("sampler"),l=[],h=[];e.hasNext();)l.push(e.next());for(;f.hasNext();)h.push(f.next());for(a=a.elementsNamed("channel");a.hasNext();){var f=
a.next(),e=new cc,k=this._a(f,"source","");e.source=z.substr(k,1,null);e.target=this._a(f,"target","");f=0;for(k=h.length;f<k;){var m=f++;if(this._a(h[m],"id","")==e.source){for(var n=h[m].elementsNamed("input"),p=m="";n.hasNext();){var q=n.next();switch(this._a(q,"semantic","").toLowerCase()){case "input":m=this._a(q,"source","");m=z.substr(m,1,null);break;case "output":p=this._a(q,"source",""),p=z.substr(p,1,null)}}if(""!=m&&""!=p){for(var n=q=null,u=0,s=l.length;u<s;){var t=u++,t=l[t];this._a(t,
"id","")==m&&(q=t);this._a(t,"id","")==p&&(n=t)}if(null!=q&&null!=n)for(m=this._f32a(this._p(q,"float_array.$text","")),p=this._f32a(this._p(n,"float_array.$text","")),n=r.parseInt(this._p(n,"technique_common.accessor.@stride","0")),q=0,u=m.length;q<u;){t=q++;s=new dc;s.time=m[t];for(t=0;t<n;)t++,s.values.push(p.shift());e.keyframes.push(s)}}}}d.channels.push(e)}this.animations.push(d)}},ParseMaterialLibrary:function(a){for(var b=a.elements();b.hasNext();)switch(a=b.next(),a.get_nodeName()){case "material":var c=
new ec;c.id=this._a(a,"id","");c.name=this._a(a,"name","");""==c.id&&(c.id=c.name);this.materials.push(c)}},ParseSceneLibrary:function(a){for(var b=a.elements();b.hasNext();)switch(a=b.next(),a.get_nodeName()){case "visual_scene":this.ParseVisualScene(a)}},ParseVisualScene:function(a){null==this.scene&&(this.scene=new fc,this.scene.id=this._a(a,"id","collada_scene"),this.scene.name=this._a(a,"name",this.scene.id),this.scene.type=a.get_nodeName(),this.TraverseVisualSceneNodes(this.scene,null,a))},
TraverseVisualSceneNodes:function(a,b,c){var d=null;"node"==c.get_nodeName()&&(d=this.ParseVisualSceneNode(a,b,c));for(b=c.elementsNamed("node");b.hasNext();)this.TraverseVisualSceneNodes(a,d,b.next())},ParseVisualSceneNode:function(a,b,c){var d=new gc;d.scene=a;d.sid=this._a(c,"sid","node"+r["int"](16777215*Math.random()));d.id=this._a(c,"id",d.sid);d.name=this._a(c,"name",d.sid);""==d.sid&&(d.sid=d.id);d.type=this._a(c,"type","NODE").toLowerCase();d.matrix=this._f32a(this._p(c,"matrix.$text","1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1"));
d.parent=b;d.GenerateTranform();for(c=c.elements();c.hasNext();){var e=c.next(),f=null;switch(e.get_nodeName()){case "instance_geometry":f=new tb;f.type="geometry";e=this._a(e,"url","");f.target=z.substr(e,1,null);break;case "instance_controller":f=new tb;f.type="controller";e=this._a(e,"url","");f.target=z.substr(e,1,null);break;case "instance_light":f=new tb;f.type="light";e=this._a(e,"url","");f.target=z.substr(e,1,null);break;case "extra":d.data=this._p(e,"technique.user_properties.$text",""),
0>d.data.indexOf(";")&&(d.data="")}null!=f&&d.instances.push(f)}null==b?a.children.push(d):b.children.push(d);return d},ParseInstanceMaterials:function(a,b){},ParseControllerLibrary:function(a){for(var b=a.elementsNamed("controller"),c=null;b.hasNext();)a=b.next(),c=new hc,c.id=this._a(a,"id","none"),c.name=this._a(a,"name",c.id),this.ParseController(c,a),this.controllers.push(c)},ParseController:function(a,b){b=b.firstElement();if(null!=b)switch(null==b.get_nodeName()?a.type="none":a.type=b.get_nodeName().toLowerCase(),
a.type){case "skin":this.ParseControllerSkin(a,b)}},ParseControllerSkin:function(a,b){var c=this._a(b,"source","");a.source=z.substr(c,1,null);a.matrix=this._f32a(this._p(b,"bind_shape_matrix.$text",""));var d="",d=null,c=null==this._p(b,"joints")?null:this._p(b,"joints").next();if(null!=c)for(c=c.elementsNamed("input");c.hasNext();){var e=c.next(),d=this._a(e,"source",""),d=z.substr(d,1,null);if(""!=d&&(d=this._f(b,"source","id",d),null!=d))switch(this._a(e,"semantic","").toLowerCase()){case "joint":a.joints=
x.trim(x.replace(this._p(d,"Name_array.$text",""),"\n"," ")).split(" ");break;case "inv_bind_matrix":for(e=this._f32a(this._p(d,"float_array.$text",""));0<e.length;){for(var d=[],f=0;16>f;)f++,d.push(e.shift());a.binds.push(d)}}}c=null==this._p(b,"vertex_weights")?null:this._p(b,"vertex_weights").next();null!=c&&(a.inputs=this.ParseInputList(b,c),a.vcount=this._i16a(this._p(c,"vcount.$text","")),c=this._p(c,"v.$text",""),a.indexes=this._i16ta(c,a.get_offset()))},ParseImageLibrary:function(a){for(var b=
a.elementsNamed("image"),c=null;b.hasNext();)a=b.next(),c=new ic,c.id=this._a(a,"id","none"),c.name=this._a(a,"name",c.id),c.format=this._a(a,"format",""),c.width=r.parseInt(this._a(a,"width","-1")),c.height=r.parseInt(this._a(a,"height","-1")),c.depth=r.parseInt(this._a(a,"depth","-1")),this.images.push(c)},ParseGeometryLibrary:function(a){for(var b=a.elementsNamed("geometry"),c=null;b.hasNext();)a=b.next(),c=new jc,c.id=this._a(a,"id","none"),c.name=this._a(a,"name","none"),this.ParseGeometry(c,
a),this.geometries.push(c)},ParseGeometry:function(a,b){b=b.firstElement();if(null!=b)switch(a.mesh=new kc,null==b.get_nodeName()?a.mesh.type="none":a.mesh.type=b.get_nodeName().toLowerCase(),a.mesh.type){case "mesh":this.ParseMesh(a.mesh,b)}},ParseMesh:function(a,b){for(var c=b.elements(),d=b;c.hasNext();)if(b=c.next(),"vertices"!=b.get_nodeName()&&"source"!=b.get_nodeName()){var e=new lc;e.type=b.get_nodeName();e.material=this._a(b,"material","");this.ParsePrimitive(e,d,b);a.primitives.push(e)}},
ParsePrimitive:function(a,b,c){a.inputs=this.ParseInputList(b,c);b=c.elementsNamed("p");c=c.elementsNamed("vcount");c.hasNext()&&(c=c.next().firstChild(),a.vcount=null==c?[]:this._i16a(c.toString()));for(;b.hasNext();){c=b.next();c=null!=c.firstChild()?c.firstChild().toString():"0";var d=a.get_offset();c=this._i16ta(c,d);a.indexes.push(c)}},ParseInputList:function(a,b){for(var c=[],d=b.elementsNamed("input");d.hasNext();){var e=d.next(),f=new mc,l=this._a(e,"source","");f.semantic=this._a(e,"semantic",
"").toLowerCase();f.offset=r.parseInt(this._a(e,"offset","-1"));f.set=r.parseInt(this._a(e,"set","-1"));"joint"==f.semantic?c.push(f):("vertex"==f.semantic&&(l=this._p(a,"vertices.input.@source","")),""!=l&&(l=z.substr(l,1,null),e=this._f(a,"source","id",l),null!=e&&(l=this._p(e,"technique_common.accessor.@stride","0"),f.stride=r.parseInt(l),f.values=this._f32a(this._p(e,"float_array.$text","")),c.push(f))))}return c},TraverseStep:function(a){this.Parse(a);for(a=a.elements();a.hasNext();)this.TraverseStep(a.next())},
_f32a:function(a){a=x.trim(x.replace(a,"\n"," ")).split(" ");for(var b=[],c=0,d=a.length;c<d;){var e=c++;b.push(r.parseFloat(a[e]))}return b},_i16a:function(a){a=x.trim(x.replace(a,"\n"," ")).split(" ");for(var b=[],c=0,d=a.length;c<d;){var e=c++;b.push(r.parseInt(a[e]))}return b},_i16ta:function(a,b){for(var c=x.trim(x.replace(a,"\n"," ")).split(" "),d=[],e,f=0;f<c.length;){e=[];for(var l=0;l<b;)l++,e.push(r.parseInt(c[f++]));d.push(e)}return d},__class__:Ia});var $b=function(){this.axis="y_up";
this.unitValue=0;this.author=this.tool=this.source=this.creation=this.modification=this.unitName=""};m["haxor.io.file.ColladaAssetData"]=$b;$b.__name__=["haxor","io","file","ColladaAssetData"];$b.prototype={__class__:$b};var jc=function(){this.mesh=null;this.id=this.name=""};m["haxor.io.file.ColladaGeometry"]=jc;jc.__name__=["haxor","io","file","ColladaGeometry"];jc.prototype={__class__:jc};var kc=function(){this.primitives=null;this.type="";this.primitives=[]};m["haxor.io.file.ColladaMesh"]=kc;kc.__name__=
["haxor","io","file","ColladaMesh"];kc.prototype={__class__:kc};var lc=function(){this.inputs=this.vcount=this.indexes=null;this.type=this.material="";this.inputs=[];this.vcount=[];this.indexes=[];this.m_triangles=null};m["haxor.io.file.ColladaPrimitive"]=lc;lc.__name__=["haxor","io","file","ColladaPrimitive"];lc.prototype={get_triangles:function(){return null!=this.m_triangles?this.m_triangles:this.m_triangles=Ia.GenerateTriangles(this.type,this.indexes,this.vcount)},get_offset:function(){for(var a=
0,b=0,c=this.inputs.length;b<c;)var d=b++,a=Math.max(a,this.inputs[d].offset+1);return a},GetInput:function(a,b){null==b&&(b=-1);for(var c=0,d=this.inputs.length;c<d;){var e=c++;if(this.inputs[e].semantic==a&&(0>b||b==this.inputs[e].set))return this.inputs[e]}return null},GetTriangulatedVectorArray:function(a,b,c){null==b&&(b=-1);b=this.GetInput(a,b);if(null==b)return[];a=b.GetVectorArray();b=b.offset;c=[];if(0>=a.length||0>b)return[];for(var d=0,e=this.get_triangles().length;d<e;){var f=d++,f=this.get_triangles()[f][b];
c.push(a[f])}return c},GetVectorArray:function(a,b){null==b&&(b=-1);for(var c=[],d=0,e=this.inputs.length;d<e;){var f=d++;if(this.inputs[f].semantic==a)if(0>b){c=this.inputs[f].GetVectorArray();break}else if(b==this.inputs[f].set){c=this.inputs[f].GetVectorArray();break}}if("color"==a&&0>b&&(d=this.GetVectorArray("color",0),0<d.length))for(e=Math.min(d.length,c.length),f=0;f<e;){var l=f++;c[l].a=d[l].r}return c},__class__:lc};var mc=function(){this.stride=0;this.values=null;this.set=-1;this.offset=
0;this.semantic="";this.values=[]};m["haxor.io.file.ColladaInput"]=mc;mc.__name__=["haxor","io","file","ColladaInput"];mc.prototype={GetVectorArray:function(){if(0>=this.stride)return[];for(var a=[],b=0;b<this.values.length;){var c=null;switch(this.stride){case 1:c=this.values[b];break;case 2:c=new E(this.values[b],this.values[b+1]);break;case 3:c="color"==this.semantic?new v(this.values[b],this.values[b+1],this.values[b+2]):new s(this.values[b],this.values[b+1],this.values[b+2]);break;case 4:c="color"==
this.semantic?new v(this.values[b],this.values[b+1],this.values[b+2],this.values[b+3]):new M(this.values[b],this.values[b+1],this.values[b+2],this.values[b+3])}null!=c&&(a.push(c),b+=this.stride)}return a},__class__:mc};var ic=function(){this.data=null;this.width=this.height=this.depth=0;this.id=this.name=this.format=this.source=""};m["haxor.io.file.ColladaImage"]=ic;ic.__name__=["haxor","io","file","ColladaImage"];ic.prototype={__class__:ic};var hc=function(){this.matrix=this.binds=this.joints=this.inputs=
this.vcount=this.indexes=this.weights=this.bones=null;this.type=this.source=this.id=this.name="";this.matrix=[];this.binds=[];this.inputs=[];this.joints=[];this.vcount=[];this.indexes=[]};m["haxor.io.file.ColladaController"]=hc;hc.__name__=["haxor","io","file","ColladaController"];hc.prototype={get_offset:function(){for(var a=0,b=0,c=this.inputs.length;b<c;)var d=b++,a=Math.max(a,this.inputs[d].offset+1);return a},GetBSM:function(){for(var a=new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),b=0,c=this.matrix.length;b<
c;){var d=b++;a.SetIndex(d,this.matrix[d])}return a},GetJointIndex:function(a){for(var b=0,c=this.joints.length;b<c;){var d=b++;if(a==this.joints[d])return d}return-1},GetBinds:function(){for(var a=[],b=0,c=this.binds.length;b<c;){for(var d=b++,e=new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),f=0,l=this.binds[d].length;f<l;){var h=f++;e.SetIndex(h,this.binds[d][h])}a.push(e)}return a},GetTriangulatedWeights:function(a){for(var b=a.GetInput("vertex").offset,c=[],d=0,e=a.get_triangles().length;d<e;){var f=
d++,f=a.get_triangles()[f][b];c.push(this.weights[f])}return c},GetTriangulatedBones:function(a){for(var b=a.GetInput("vertex").offset,c=[],d=0,e=a.get_triangles().length;d<e;){var f=d++,f=a.get_triangles()[f][b];c.push(this.bones[f])}return c},GenerateBonesAndWeights:function(){this.weights=[];this.bones=[];this.get_offset();for(var a=null,b=0,c=0,d=0,e=this.inputs.length;d<e;){var f=d++;"weight"==this.inputs[f].semantic&&(a=this.inputs[f],b=a.offset);"joint"==this.inputs[f].semantic&&(c=this.inputs[f].offset)}e=
d=0;for(f=this.vcount.length;e<f;){for(var l=e++,h=this.vcount[l],l=new M,k=new M,m=0;m<h;){var n=m++,p=this.indexes[d][c],q=a.values[this.indexes[d][b]];0==n?(l.x=q,k.x=p):1==n?(l.y=q,k.y=p):2==n?(l.z=q,k.z=p):3==n&&(l.w=q,k.w=p);d++}h=l.x+l.y+l.z+l.w;h=0>=h?0:1/h;l.Scale(h);this.weights.push(l);this.bones.push(k)}},__class__:hc};var fc=function(){this.children=null;this.type=this.id=this.name="";this.children=[]};m["haxor.io.file.ColladaVisualScene"]=fc;fc.__name__=["haxor","io","file","ColladaVisualScene"];
fc.prototype={Traverse:function(a){for(var b=0,c=this.children.length;b<c;){var d=b++;this.TraverseStep(this.children[d],a)}},TraverseStep:function(a,b){null!=b&&b(a);for(var c=0,d=a.children.length;c<d;){var e=c++;this.TraverseStep(a.children[e],b)}},__class__:fc};var gc=function(){this.local=this.instances=null;this.data="";this.matrix=this.scene=this.parent=this.children=null;this.type=this.id=this.sid=this.name="";this.children=[];this.instances=[];this.matrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];
this.position=new s(0,0,0);this.rotation=new D(0,0,0,1);this.scale=new s(1,1,1)};m["haxor.io.file.ColladaNode"]=gc;gc.__name__=["haxor","io","file","ColladaNode"];gc.prototype={get_world:function(){if(null!=this.m_world)return this.m_world;this.m_world=new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);for(var a=this,b=[];null!=a;)b.push(a),a=a.parent;b.reverse();for(var a=0,c=b.length;a<c;){var d=a++;this.m_world.MultiplyTransform(b[d].local)}return this.m_world},GenerateTranform:function(){var a=this.local=
u.FromArray(this.matrix);this.position=(new u(1,0,0,a.m03,0,1,0,a.m13,0,0,1,a.m23,0,0,0,1)).GetColumn(3,null).get_xyz();this.rotation=D.FromMatrix4(h.data.get_m4().SetMatrix4(a).ToRotation());this.scale=a.get_scale().get_diagonalLR().get_xyz()},__class__:gc};var tb=function(){this.type=this.target="";this.materials=[]};m["haxor.io.file.ColladaInstance"]=tb;tb.__name__=["haxor","io","file","ColladaInstance"];tb.prototype={__class__:tb};var ec=function(){this.id=this.name=""};m["haxor.io.file.ColladaMaterial"]=
ec;ec.__name__=["haxor","io","file","ColladaMaterial"];ec.prototype={__class__:ec};var bc=function(){this.id=this.name="";this.channels=[]};m["haxor.io.file.ColladaAnimation"]=bc;bc.__name__=["haxor","io","file","ColladaAnimation"];bc.prototype={__class__:bc};var cc=function(){this.source=this.target="";this.keyframes=[]};m["haxor.io.file.ColladaAnimationChannel"]=cc;cc.__name__=["haxor","io","file","ColladaAnimationChannel"];cc.prototype={__class__:cc};var dc=function(){this.time=0;this.values=[]};
m["haxor.io.file.ColladaAnimationKeyFrame"]=dc;dc.__name__=["haxor","io","file","ColladaAnimationKeyFrame"];dc.prototype={__class__:dc};var ac=function(){this.type=this.name=this.id="";this.color=new v(1,1,1,1);this.atten=this.intensity=this.radius=0};m["haxor.io.file.ColladaLight"]=ac;ac.__name__=["haxor","io","file","ColladaLight"];ac.prototype={__class__:ac};var nc=function(a){this.mname=this.mguid="";this.queue="opaque";this.offset=0;this.shader="";this.ztest=!0;this.zfunc="lessequal";this.zwrite=
!0;this.blend=!1;this.blendSrc="one";this.blendDst="zero";this.grab=this.lighting=this.invert=!1;this.cull="back";this.uniforms=[];Ha.call(this,"",a)};m["haxor.io.file.MaterialFile"]=nc;nc.__name__=["haxor","io","file","MaterialFile"];nc.__super__=Ha;nc.prototype=B(Ha.prototype,{get_asset:function(){var a=new da;a.set_name(this.mname);a.m_guid=this.mguid;switch(this.queue){case "background":a.queue=0;break;case "opaque":a.queue=1E3;break;case "transparent":a.queue=2E3;break;case "overlay":a.queue=
3E3;break;case "interface":a.queue=4E3}a.queue+=this.offset;a.set_shader(S.Get(this.shader));a.ztest=this.ztest;a.zfunc=515;switch(this.zfunc){case "never":a.zfunc=512;break;case "always":a.zfunc=519;break;case "notequal":a.zfunc=517;break;case "equal":a.zfunc=514;break;case "less":a.zfunc=513;break;case "lessequal":a.zfunc=515;break;case "greater":a.zfunc=516;break;case "greaterequal":a.zfunc=518}a.zwrite=this.zwrite;a.blend=this.blend;a.blendSrc=this.BlendModeNameToEnum(this.blendSrc);a.blendDst=
this.BlendModeNameToEnum(this.blendDst);a.invert=this.invert;a.lighting=this.lighting;a.grab=this.grab;switch(this.cull){case "none":a.cull=0;break;case "front":a.cull=1;break;case "back":a.cull=2}for(var b=0,c=this.uniforms.length;b<c;){var d=b++,d=this.uniforms[d],e=this.stof32a(d.value);switch(d.type){case "int":a.SetInt(d.name,r.parseInt(d.value));break;case "vec2":a.SetFloat2(d.name,e[0],e[1]);break;case "vec3":a.SetFloat3(d.name,e[0],e[1],e[2]);break;case "vec4":a.SetFloat4(d.name,e[0],e[1],
e[2],e[3]);break;case "mat4":a.SetMatrix4(d.name,u.FromArray(e,h.data.get_m4()));break;case "color":a.SetFloat4(d.name,e[0],e[1],e[2],e[3]);break;case "texture":a.SetTexture(d.name,S.Get(d.value))}}return a},Parse:function(a){switch(a.get_nodeName()){case "material":this.guid=this._a(a,"guid","");this.set_name(this._a(a,"name",""));break;case "queue":this.offset=r.parseInt(this._a(a,"offset","0"));this.queue=this._p(a,"$text","geometry",!0,!0);break;case "shader":this.shader=this._p(a,"$text","");
break;case "ztest":this.ztest="true"==this._p(a,"$text","true",!0,!0);break;case "zfunc":this.zfunc=this._p(a,"$text",this.zfunc);break;case "zwrite":this.zwrite="true"==this._p(a,"$text","true",!0,!0);break;case "blend":this.blend="true"==this._a(a,"enabled","false");this.blendSrc=this._p(a,"src.$text","one",!0,!0);this.blendDst=this._p(a,"dst.$text","zero",!0,!0);break;case "invert":this.invert="true"==this._p(a,"$text","false",!0,!0);break;case "lighting":this.lighting="true"==this._p(a,"$text",
"false",!0,!0);break;case "grab":this.grab="true"==this._p(a,"$text","false",!0,!0);break;case "cull":this.cull=this._p(a,"$text",this.cull,!0,!0);break;case "uniforms":this.ParseUniforms(a)}},ParseUniforms:function(a){for(var b=a.elements();b.hasNext();){a=b.next();var c=new oc;c.type=a.get_nodeName().toLowerCase();c.name=this._a(a,"name","");c.value=this._p(a,"$text","",!0);this.uniforms.push(c)}},BlendModeNameToEnum:function(a){switch(a){case "one":return 1;case "srccolor":return 768;case "oneminussrccolor":return 769;
case "srcalpha":return 770;case "oneminussrcalpha":return 771;case "dstalpha":return 772;case "oneminusdstalpha":return 773;case "dstcolor":return 774;case "oneminusdstcolor":return 775;case "srcalphasaturate":return 776}return 0},__class__:nc});var oc=function(){this.value=this.name=this.type=""};m["haxor.io.file.MaterialFileUniform"]=oc;oc.__name__=["haxor","io","file","MaterialFileUniform"];oc.prototype={__class__:oc};var ea=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=0);null==
b&&(b=0);null==a&&(a=0);this.m_xMin=a;this.m_zMin=this.m_yMin=b;this.m_xMax=this.m_xMin+d;this.m_yMax=this.m_yMin+e;this.m_zMax=this.m_zMin+f};m["haxor.math.AABB3"]=ea;ea.__name__=["haxor","math","AABB3"];ea.get_temp=function(){return h.data.get_aabb3()};ea.Center=function(a,b){return(null==b?new s(0,0,0):b).Set(a.m_xMin+.5*(a.m_xMax-a.m_xMin),a.m_yMin+.5*(a.m_yMax-a.m_yMin),a.m_zMin+.5*(a.m_zMax-a.m_zMin))};ea.FromMinMax=function(a,b,c,d,e,f,l){l=null==l?new ea:l;l.set_xMin(a);l.set_xMax(b);l.set_yMin(c);
l.set_yMax(d);l.set_zMin(e);l.set_zMax(f);return l};ea.FromCenter=function(a,b,c,d,e,f,l){l=null==l?new ea:l;l.set_xMax(l.m_xMin+d);d;l.set_yMax(l.m_yMin+e);e;l.set_zMax(l.m_zMin+f);f;l.set_center(new s(a,b,c));return l};ea.get_empty=function(){return new ea};ea.prototype={get_clone:function(){return ea.FromMinMax(this.m_xMin,this.m_xMax,this.m_yMin,this.m_yMax,this.m_zMin,this.m_zMax)},get_min:function(){return new s(this.m_xMin,this.m_yMin)},set_min:function(a){this.set_xMin(a.x);this.set_yMin(a.y);
return a},get_max:function(){return new s(this.m_xMax,this.m_yMax)},set_max:function(a){this.set_xMax(a.x);this.set_yMax(a.y);return a},get_xMin:function(){return this.m_xMin},set_xMin:function(a){this.m_xMin=a;this.Validate();return a},get_yMin:function(){return this.m_yMin},set_yMin:function(a){this.m_yMin=a;this.Validate();return a},get_zMin:function(){return this.m_zMin},set_zMin:function(a){this.m_zMin=a;this.Validate();return a},get_xMax:function(){return this.m_xMax},set_xMax:function(a){this.m_xMax=
a;this.Validate();return a},get_yMax:function(){return this.m_yMax},set_yMax:function(a){this.m_yMax=a;this.Validate();return a},get_zMax:function(){return this.m_zMax},set_zMax:function(a){this.m_zMax=a;this.Validate();return a},get_center:function(){return ea.Center(this)},set_center:function(a){var b=.5*k.Abs(this.m_xMax-this.m_xMin),c=.5*k.Abs(this.m_yMax-this.m_yMin),d=.5*k.Abs(this.m_zMax-this.m_zMin);this.m_xMin=a.x-b;this.m_xMax=a.x+b;this.m_yMin=a.y-c;this.m_yMax=a.y+c;this.m_zMin=a.z-d;
this.m_zMax=a.z+d;this.Validate();return a},get_x:function(){return this.m_xMin},set_x:function(a){this.set_xMin(a);return a},get_y:function(){return this.m_yMin},set_y:function(a){this.set_yMin(a);return a},get_z:function(){return this.m_zMin},set_z:function(a){this.set_zMin(a);return a},get_width:function(){return k.Abs(this.m_xMax-this.m_xMin)},set_width:function(a){this.set_xMax(this.m_xMin+a);return a},get_height:function(){return k.Abs(this.m_yMax-this.m_yMin)},set_height:function(a){this.set_yMax(this.m_yMin+
a);return a},get_depth:function(){return k.Abs(this.m_zMax-this.m_zMin)},set_depth:function(a){this.set_zMax(this.m_zMin+a);return a},get_size:function(){return(new s(0,0,0)).Set(k.Abs(this.m_xMax-this.m_xMin),k.Abs(this.m_yMax-this.m_yMin),k.Abs(this.m_zMax-this.m_zMin))},set_size:function(a){this.set_width(a.x);this.set_height(a.y);this.set_depth(a.z);return a},Validate:function(){var a=this.m_xMin,b=this.m_xMax,c=this.m_yMin,d=this.m_yMax,e=this.m_zMin,f=this.m_zMax;a<=b?(this.m_xMin=a,this.m_xMax=
b):(this.m_xMin=b,this.m_xMax=a);c<=d?(this.m_yMin=c,this.m_yMax=d):(this.m_yMin=d,this.m_yMax=c);e<=f?(this.m_zMin=e,this.m_zMax=f):(this.m_zMin=f,this.m_zMax=e)},Add:function(a){this.m_xMax=Math.max(a.m_xMax,this.m_xMax);this.m_xMin=Math.min(a.m_xMin,this.m_xMin);this.m_yMax=Math.max(a.m_yMax,this.m_yMax);this.m_yMin=Math.min(a.m_yMin,this.m_yMin);this.m_zMax=Math.max(a.m_zMax,this.m_zMax);this.m_zMin=Math.min(a.m_zMin,this.m_zMin);return this},Set:function(a,b,c,d,e,f){this.m_xMin=a;this.m_yMin=
c;this.m_zMin=e;this.m_xMax=b;this.m_yMax=d;this.m_zMax=f;this.Validate();return this},SetAABB3:function(a){this.m_xMin=a.m_xMin;this.m_yMin=a.m_yMin;this.m_zMin=a.m_zMin;this.m_xMax=a.m_xMax;this.m_yMax=a.m_yMax;this.m_zMax=a.m_zMax;return this},SetXYZWHD:function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.m_xMin=a;this.m_zMin=this.m_yMin=b;this.m_xMax=this.m_xMin+d;this.m_yMax=this.m_yMin+e;this.m_zMax=this.m_zMin+f;return this},Encapsulate:function(a){return this.Encapsulate3(a.x,
a.y,a.z)},Encapsulate3:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.m_xMin=Math.min(a,this.m_xMin);this.m_xMax=Math.max(a,this.m_xMax);this.m_yMin=Math.min(b,this.m_yMin);this.m_yMax=Math.max(b,this.m_yMax);this.m_zMin=Math.min(c,this.m_zMin);this.m_zMax=Math.max(c,this.m_zMax);this.Validate();return this},ToString:function(a){null==a&&(a=2);var b=k.RoundPlaces(this.m_xMin,a)+"",c=k.RoundPlaces(this.m_xMax,a)+"",d=k.RoundPlaces(this.m_yMin,a)+"",e=k.RoundPlaces(this.m_yMax,a)+
"",f=k.RoundPlaces(this.m_zMin,a)+"";a=k.RoundPlaces(this.m_zMax,a)+"";return"["+b+","+c+"|"+d+","+e+"|"+f+","+a+"]"},__class__:ea};var k=function(){};m["haxor.math.Mathf"]=k;k.__name__=["haxor","math","Mathf"];k.IsPOT=function(a){return 0<a&&0==(a&a-1)};k.NextPOT=function(a){--a;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;return++a};k.Sign=function(a){return 0>a?-1:1};k.SignInt=function(a){return 0>a?-1:1};k.Abs=function(a){return 0>a?-a:a};k.AbsInt=function(a){return 0>a?-a:a};k.Clamp=function(a,b,
c){return a<=b?b:a>=c?c:a};k.Clamp01=function(a){return 0>=a?0:1<=a?1:a};k.ClampInt=function(a,b,c){return(a<=b?b:a>=c?c:a)|0};k.Min=function(a,b){return Math.min(a,b)};k.MinRange=function(a){if(0>=a.length)return 0;for(var b=a[0],c=1,d=a.length;c<d;)var e=c++,b=Math.min(b,a[e]);return b};k.Max=function(a,b){return Math.max(a,b)};k.MaxRange=function(a){if(0>=a.length)return 0;for(var b=a[0],c=1,d=a.length;c<d;)var e=c++,b=Math.max(b,a[e]);return b};k.MinInt=function(a,b){return Math.min(a,b)};k.MaxInt=
function(a,b){return Math.max(a,b)};k.Sin=function(a){return Math.sin(a)};k.Cos=function(a){return Math.cos(a)};k.Asin=function(a){return Math.asin(a)};k.Acos=function(a){return Math.acos(a)};k.Tan=function(a){return Math.tan(a)};k.ATan=function(a){return Math.atan(a)};k.ATan2=function(a,b){return Math.atan2(a,b)};k.Sqrt=function(a){return Math.sqrt(a)};k.Pow=function(a,b){return Math.pow(a,b)};k.Floor=function(a){return a|0};k.Ceil=function(a){return a+(0>a?-.9999999:.9999999)|0};k.Round=function(a){return a+
(0>a?-.5:.5)|0};k.RoundPlaces=function(a,b){null==b&&(b=2);var c=Math.pow(10,b);return k.Round(a*c)/c};k.Lerp=function(a,b,c){return a+(b-a)*c};k.LerpInt=function(a,b,c){return r["int"](k.Lerp(a,b,c))};k.Frac=function(a){return a-Math.floor(a)};k.Loop=function(a,b,c){var d=Math.min(b,c),e=Math.max(b,c)-d;if(0>=e)return d;d=(a-b)/e;a=0>a?1-k.Frac(0>d?-d:d):d-Math.floor(d);return b+(c-b)*a};k.Linear2Gamma=function(a){return Math.pow(a,2.2)};k.Oscilate=function(a,b,c){a=-k.Abs(k.Loop(a-1,-1,1))+1;return a+
(b-a)*c};k.WrapAngle=function(a){return-360>a?360+a:360<a?a-360:a};var u=function(a,b,c,d,e,f,l,h,k,m,n,p,q,r,t,u){null==u&&(u=0);null==t&&(t=0);null==r&&(r=0);null==q&&(q=0);null==p&&(p=0);null==n&&(n=0);null==m&&(m=0);null==k&&(k=0);null==h&&(h=0);null==l&&(l=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.m00=a;this.m01=b;this.m02=c;this.m03=d;this.m10=e;this.m11=f;this.m12=l;this.m13=h;this.m20=k;this.m21=m;this.m22=n;this.m23=p;this.m30=q;this.m31=
r;this.m32=t;this.m33=u};m["haxor.math.Matrix4"]=u;u.__name__=["haxor","math","Matrix4"];u.get_temp=function(){return h.data.get_m4()};u.get_identity=function(){return new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)};u.FromQuaternion=function(a,b){var c;c=null==b?new u:b;var d=a.x*a.x,e=a.y*a.y,f=a.z*a.z,l=a.x*a.y,h=a.x*a.z,k=a.y*a.z,m=a.w*a.x,n=a.w*a.y,p=a.w*a.z;c.m00=1-2*(e+f);c.m01=2*(l-p);c.m02=2*(h+n);c.m10=2*(l+p);c.m11=1-2*(d+f);c.m12=2*(k-m);c.m20=2*(h-n);c.m21=2*(k+m);c.m22=1-2*(d+e);c.m30=c.m31=
c.m32=0;c.m33=1;return c};u.FromArray=function(a,b){var c;c=null==b?new u:b;for(var d=0,e=a.length;d<e;){var f=d++;c.SetIndex(f,a[f])}return c};u.TRS=function(a,b,c,d){var e;e=null==c?1:c.x;var f;f=null==c?1:c.y;c=null==c?1:c.z;var l=a.x,k=a.y;a=a.z;var m=h.data.get_m4();u.FromQuaternion(b,m);b=null==d?new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1):d;b.m00=m.m00*e;b.m01=m.m01*f;b.m02=m.m02*c;b.m03=l;b.m10=m.m10*e;b.m11=m.m11*f;b.m12=m.m12*c;b.m13=k;b.m20=m.m20*e;b.m21=m.m21*f;b.m22=m.m22*c;b.m23=a;b.m30=
b.m31=b.m32=0;b.m33=1;return b};u.Frustum=function(a,b,c,d,e,f,l){l=null==l?new u:l;var h=2*e,k=1/(b-a),m=1/(c-d),n=1/(f-e);l.m00=h*k;l.m01=0;l.m02=(b+a)*k;l.m03=0;l.m10=0;l.m11=h*m;l.m12=(c+d)*m;l.m13=0;l.m20=0;l.m21=0;l.m22=-(e+f)*n;l.m23=-h*f*n;l.m30=0;l.m31=0;l.m32=-1;l.m33=0;return l};u.FrustumInverse=function(a,b,c,d,e,f,l){l=null==l?new u:l;var h=2*e;l.m00=(b-a)/h;l.m01=0;l.m02=0;l.m03=(b+a)/h;l.m10=0;l.m11=(c-d)/h;l.m12=0;l.m13=(c+d)/h;l.m20=0;l.m21=0;l.m22=0;l.m23=-1;l.m30=0;l.m31=0;l.m32=
(f-e)/(-h*f);l.m33=(f+e)/(h*f);return l};u.Ortho=function(a,b,c,d,e,f,l){l=null==l?new u:l;var h=1/(b-a),k=1/(c-d),m=1/(f-e);l.m00=2*h;l.m01=0;l.m02=0;l.m03=-(b+a)*h;l.m10=0;l.m11=2*k;l.m12=0;l.m13=-(c+d)*k;l.m20=0;l.m21=0;l.m22=-2*m;l.m23=-(f+e)*m;l.m30=0;l.m31=0;l.m32=0;l.m33=1;return l};u.OrthoInverse=function(a,b,c,d,e,f,l){a=h.data.get_m4().SetOrtho(a,b,c,d,e,f);return u.GetInverseTransform(a,l)};u.Perspective=function(a,b,c,d,e){a=Math.tan(.008726646259971648*a)*c;var f=-a;return u.Frustum(b*
f,b*a,a,f,c,d,e)};u.PerspectiveInverse=function(a,b,c,d,e){a=Math.tan(.008726646259971648*a)*c;var f=-a;return u.FrustumInverse(b*f,b*a,a,f,c,d,e)};u.GetRotation=function(a,b){var c;c=null==b?new u:b;var d=h.data.get_v3();d.Set(c.m00,c.m01,c.m02).Normalize();c.m00=d.x;c.m01=d.y;c.m02=d.z;c.m03=0;d.Set(c.m10,c.m11,c.m12).Normalize();c.m10=d.x;c.m11=d.y;c.m12=d.z;c.m13=0;d.Set(c.m20,c.m21,c.m22).Normalize();c.m20=d.x;c.m21=d.y;c.m22=d.z;c.m23=0;c.m30=c.m31=c.m32=0;c.m33=1;return c};u.GetInverseTransform=
function(a,b){var c;c=null==b?new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1):b;var d=a.m00,e=a.m01,f=a.m02,l=a.m03,h=a.m10,k=a.m11,m=a.m12,n=a.m13,p=a.m20,q=a.m21,r=a.m22,t=a.m23,s=Math.sqrt(d*d+h*h+p*p),v=Math.sqrt(e*e+k*k+q*q),x=Math.sqrt(f*f+m*m+r*r),s=1E-4>=(0>s?-s:s)?0:1/s,v=1E-4>=(0>v?-v:v)?0:1/v,x=1E-4>=(0>x?-x:x)?0:1/x,d=d*s,e=e*v,f=f*x,h=h*s,k=k*v,m=m*x,p=p*s,q=q*v,r=r*x;c.Set(s*d,s*h,s*p,s*(d*-l+h*-n+p*-t),v*e,v*k,v*q,v*(e*-l+k*-n+q*-t),x*f,x*m,x*r,x*(f*-l+m*-n+r*-t),0,0,0,1);return c};u.LookRotation=
function(a,b,c){return u.LookAt(h.data.get_v3().Set(0,0,0),a,b,c)};u.LookAt=function(a,b,c,d){null==d&&(d=new u);null==c&&(c=h.data.get_v3().Set(0,1,0));b=h.data.get_v3().Set3(b).Sub(a).Normalize();c=s.Cross(b,c,h.data.get_v3()).Normalize();var e=s.Cross(c,b,h.data.get_v3());d.m00=c.x;d.m10=c.y;d.m20=c.z;d.m01=e.x;d.m11=e.y;d.m21=e.z;d.m02=-b.x;d.m12=-b.y;d.m22=-b.z;d.m03=-(c.x*a.x+c.y*a.y+c.z*a.z);d.m13=-(e.x*a.x+e.y*a.y+e.z*a.z);d.m23=b.x*a.x+b.y*a.y+b.z*a.z;d.m30=d.m31=d.m32=0;d.m33=1;return d};
u.Parse=function(a,b){null==b&&(b=" ");for(var c=a.split(b),d=new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),e=0,f=c.length;e<f;){var l=e++,h=r.parseFloat(x.trim(c[l]));d.SetIndex(l,h)}return d};u.prototype={get_clone:function(){return new u(this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33)},get_quaternion:function(){return D.FromMatrix4(h.data.get_m4().SetMatrix4(this).ToRotation())},set_quaternion:function(a){u.FromQuaternion(a,
this);return a},get_trace:function(){return this.m00+this.m11+this.m22+this.m33},get_rotation:function(){return(new u(this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33)).ToRotation()},get_scale:function(){var a=Math.sqrt(this.m00*this.m00+this.m10*this.m10+this.m20*this.m20),b=Math.sqrt(this.m01*this.m01+this.m11*this.m11+this.m21*this.m21),c=Math.sqrt(this.m02*this.m02+this.m12*this.m12+this.m22*this.m22);
return new u(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1)},get_translation:function(){return new u(1,0,0,this.m03,0,1,0,this.m13,0,0,1,this.m23,0,0,0,1)},get_inverseTransform:function(){var a=new u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),b=new s(this.m00,this.m01,this.m02),c=new s(this.m10,this.m11,this.m12),d=new s(this.m20,this.m21,this.m22),e=Math.sqrt(b.x*b.x+b.y*b.y+b.z*b.z),f=Math.sqrt(c.x*c.x+c.y*c.y+c.z*c.z),l=Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z),e=1E-4>=(0>e?-e:e)?0:1/e,f=1E-4>=(0>f?-f:f)?0:1/f,l=1E-4>=(0>l?
-l:l)?0:1/l;b.x*=e;b.y*=e;b.z*=e;c.x*=f;c.y*=f;c.z*=f;d.x*=l;d.y*=l;d.z*=l;a.Set(e*b.x,e*c.x,e*d.x,e*(b.x*-this.m03+c.x*-this.m13+d.x*-this.m23),f*b.y,f*c.y,f*d.y,f*(b.y*-this.m03+c.y*-this.m13+d.y*-this.m23),l*b.z,l*c.z,l*d.z,l*(b.z*-this.m03+c.z*-this.m13+d.z*-this.m23),0,0,0,1);return a},get_transposed:function(){return new u(this.m00,this.m10,this.m20,this.m30,this.m01,this.m11,this.m21,this.m31,this.m02,this.m12,this.m22,this.m32,this.m03,this.m13,this.m23,this.m33)},ToRowMajor:function(){return[this.m00,
this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33]},ToColumnMajor:function(){return[this.m00,this.m10,this.m20,this.m30,this.m01,this.m11,this.m21,this.m31,this.m02,this.m12,this.m22,this.m32,this.m03,this.m13,this.m23,this.m33]},GetLine:function(a,b){null==b&&(b=new M);return b.Set(this.GetRowCol(a,0),this.GetRowCol(a,1),this.GetRowCol(a,2),this.GetRowCol(a,3))},SetLine:function(a,b,c,d,e){switch(a){case 0:this.m00=
b;this.m01=c;this.m02=d;this.m03=e;break;case 1:this.m10=b;this.m11=c;this.m12=d;this.m13=e;break;case 2:this.m20=b;this.m21=c;this.m22=d;this.m23=e;break;case 3:this.m30=b,this.m31=c,this.m32=d,this.m33=e}},GetColumn:function(a,b){null==b&&(b=new M);return b.Set(this.GetRowCol(0,a),this.GetRowCol(1,a),this.GetRowCol(2,a),this.GetRowCol(3,a))},SetColumn:function(a,b,c,d,e){switch(a){case 0:this.m00=b;this.m10=c;this.m20=d;this.m30=e;break;case 1:this.m01=b;this.m11=c;this.m21=d;this.m31=e;break;case 2:this.m02=
b;this.m12=c;this.m22=d;this.m32=e;break;case 3:this.m03=b,this.m13=c,this.m23=d,this.m33=e}},get_diagonalLR:function(){return new M(this.m00,this.m11,this.m22,this.m33)},set_diagonalLR:function(a){this.m00=a.x;this.m11=a.y;this.m22=a.z;this.m33=a.w;return a},SetIdentity:function(){return this.Set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},Set:function(a,b,c,d,e,f,l,h,k,m,n,p,q,r,s,t){null==t&&(t=0);null==s&&(s=0);null==r&&(r=0);null==q&&(q=0);null==p&&(p=0);null==n&&(n=0);null==m&&(m=0);null==k&&(k=0);null==
h&&(h=0);null==l&&(l=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.m00=a;this.m01=b;this.m02=c;this.m03=d;this.m10=e;this.m11=f;this.m12=l;this.m13=h;this.m20=k;this.m21=m;this.m22=n;this.m23=p;this.m30=q;this.m31=r;this.m32=s;this.m33=t;return this},SetMatrix4:function(a){this.m00=a.m00;this.m01=a.m01;this.m02=a.m02;this.m03=a.m03;this.m10=a.m10;this.m11=a.m11;this.m12=a.m12;this.m13=a.m13;this.m20=a.m20;this.m21=a.m21;this.m22=a.m22;this.m23=a.m23;
this.m30=a.m30;this.m31=a.m31;this.m32=a.m32;this.m33=a.m33;return this},GetIndex:function(a){switch(a){case 0:return this.m00;case 1:return this.m01;case 2:return this.m02;case 3:return this.m03;case 4:return this.m10;case 5:return this.m11;case 6:return this.m12;case 7:return this.m13;case 8:return this.m20;case 9:return this.m21;case 10:return this.m22;case 11:return this.m23;case 12:return this.m30;case 13:return this.m31;case 14:return this.m32;case 15:return this.m33}return 0},SetIndex:function(a,
b){switch(a){case 0:this.m00=b;break;case 1:this.m01=b;break;case 2:this.m02=b;break;case 3:this.m03=b;break;case 4:this.m10=b;break;case 5:this.m11=b;break;case 6:this.m12=b;break;case 7:this.m13=b;break;case 8:this.m20=b;break;case 9:this.m21=b;break;case 10:this.m22=b;break;case 11:this.m23=b;break;case 12:this.m30=b;break;case 13:this.m31=b;break;case 14:this.m32=b;break;case 15:this.m33=b}return this},SetRowCol:function(a,b,c){return this.SetIndex(b+(a<<2),c)},GetRowCol:function(a,b){return this.GetIndex(b+
(a<<2))},SwapCol:function(a,b){var c=this.GetRowCol(0,a),d=this.GetRowCol(1,a),e=this.GetRowCol(2,a),f=this.GetRowCol(3,a);this.SetRowCol(0,a,this.GetRowCol(0,b));this.SetRowCol(1,a,this.GetRowCol(1,b));this.SetRowCol(2,a,this.GetRowCol(2,b));this.SetRowCol(3,a,this.GetRowCol(3,b));this.SetRowCol(0,b,c);this.SetRowCol(1,b,d);this.SetRowCol(2,b,e);this.SetRowCol(3,b,f);return this},SwapRow:function(a,b){var c=this.GetRowCol(a,0),d=this.GetRowCol(a,1),e=this.GetRowCol(a,2),f=this.GetRowCol(a,3);this.SetRowCol(a,
0,this.GetRowCol(b,0));this.SetRowCol(a,1,this.GetRowCol(b,1));this.SetRowCol(a,2,this.GetRowCol(b,2));this.SetRowCol(a,3,this.GetRowCol(b,3));this.SetRowCol(b,0,c);this.SetRowCol(b,1,d);this.SetRowCol(b,2,e);this.SetRowCol(b,3,f);return this},Transpose:function(){return this.Set(this.m00,this.m10,this.m20,this.m30,this.m01,this.m11,this.m21,this.m31,this.m02,this.m12,this.m22,this.m32,this.m03,this.m13,this.m23,this.m33)},ToRotation:function(){var a=h.data.get_v3();a.Set(this.m00,this.m01,this.m02).Normalize();
this.m00=a.x;this.m01=a.y;this.m02=a.z;this.m03=0;a.Set(this.m10,this.m11,this.m12).Normalize();this.m10=a.x;this.m11=a.y;this.m12=a.z;this.m13=0;a.Set(this.m20,this.m21,this.m22).Normalize();this.m20=a.x;this.m21=a.y;this.m22=a.z;this.m30=this.m31=this.m32=this.m23=0;this.m33=1;return this},Rotate:function(a){var b=h.data.get_v3();b.Set(this.m00,this.m01,this.m02).Normalize();a.x=b.x*a.x+b.y*a.y+b.z*a.z;b.Set(this.m10,this.m11,this.m12).Normalize();a.y=b.x*a.x+b.y*a.y+b.z*a.z;b.Set(this.m20,this.m21,
this.m22).Normalize();a.z=b.x*a.x+b.y*a.y+b.z*a.z;return a},SetTRS:function(a,b,c){return u.TRS(a,b,c,this)},MultiplyTransform:function(a){this.Set(this.m00*a.m00+this.m01*a.m10+this.m02*a.m20,this.m00*a.m01+this.m01*a.m11+this.m02*a.m21,this.m00*a.m02+this.m01*a.m12+this.m02*a.m22,this.m00*a.m03+this.m01*a.m13+this.m02*a.m23+this.m03,this.m10*a.m00+this.m11*a.m10+this.m12*a.m20,this.m10*a.m01+this.m11*a.m11+this.m12*a.m21,this.m10*a.m02+this.m11*a.m12+this.m12*a.m22,this.m10*a.m03+this.m11*a.m13+
this.m12*a.m23+this.m13,this.m20*a.m00+this.m21*a.m10+this.m22*a.m20,this.m20*a.m01+this.m21*a.m11+this.m22*a.m21,this.m20*a.m02+this.m21*a.m12+this.m22*a.m22,this.m20*a.m03+this.m21*a.m13+this.m22*a.m23+this.m23,0,0,0,1);return this},Multiply3x4:function(a){this.Set(this.m00*a.m00+this.m01*a.m10+this.m02*a.m20+this.m03*a.m30,this.m00*a.m01+this.m01*a.m11+this.m02*a.m21+this.m03*a.m31,this.m00*a.m02+this.m01*a.m12+this.m02*a.m22+this.m03*a.m32,this.m00*a.m03+this.m01*a.m13+this.m02*a.m23+this.m03*
a.m33,this.m10*a.m00+this.m11*a.m10+this.m12*a.m20+this.m13*a.m30,this.m10*a.m01+this.m11*a.m11+this.m12*a.m21+this.m13*a.m31,this.m10*a.m02+this.m11*a.m12+this.m12*a.m22+this.m13*a.m32,this.m10*a.m03+this.m11*a.m13+this.m12*a.m23+this.m13*a.m33,this.m20*a.m00+this.m21*a.m10+this.m22*a.m20+this.m23*a.m30,this.m20*a.m01+this.m21*a.m11+this.m22*a.m21+this.m23*a.m31,this.m20*a.m02+this.m21*a.m12+this.m22*a.m22+this.m23*a.m32,this.m20*a.m03+this.m21*a.m13+this.m22*a.m23+this.m23*a.m33,this.m30,this.m31,
this.m32,this.m33);return this},Multiply:function(a){this.Set(this.m00*a.m00+this.m01*a.m10+this.m02*a.m20+this.m03*a.m30,this.m00*a.m01+this.m01*a.m11+this.m02*a.m21+this.m03*a.m31,this.m00*a.m02+this.m01*a.m12+this.m02*a.m22+this.m03*a.m32,this.m00*a.m03+this.m01*a.m13+this.m02*a.m23+this.m03*a.m33,this.m10*a.m00+this.m11*a.m10+this.m12*a.m20+this.m13*a.m30,this.m10*a.m01+this.m11*a.m11+this.m12*a.m21+this.m13*a.m31,this.m10*a.m02+this.m11*a.m12+this.m12*a.m22+this.m13*a.m32,this.m10*a.m03+this.m11*
a.m13+this.m12*a.m23+this.m13*a.m33,this.m20*a.m00+this.m21*a.m10+this.m22*a.m20+this.m23*a.m30,this.m20*a.m01+this.m21*a.m11+this.m22*a.m21+this.m23*a.m31,this.m20*a.m02+this.m21*a.m12+this.m22*a.m22+this.m23*a.m32,this.m20*a.m03+this.m21*a.m13+this.m22*a.m23+this.m23*a.m33,this.m30*a.m00+this.m31*a.m10+this.m32*a.m20+this.m33*a.m30,this.m30*a.m01+this.m31*a.m11+this.m32*a.m21+this.m33*a.m31,this.m30*a.m02+this.m31*a.m12+this.m32*a.m22+this.m33*a.m32,this.m30*a.m03+this.m31*a.m13+this.m32*a.m23+
this.m33*a.m33);return this},Transform4x4:function(a){var b=this.m10*a.x+this.m11*a.y+this.m12*a.z+this.m13*a.w,c=this.m20*a.x+this.m21*a.y+this.m22*a.z+this.m23*a.w,d=this.m30*a.x+this.m31*a.y+this.m32*a.z+this.m33*a.w;a.x=this.m00*a.x+this.m01*a.y+this.m02*a.z+this.m03*a.w;a.y=b;a.z=c;a.w=d;return a},Transform3x4:function(a){var b=this.m10*a.x+this.m11*a.y+this.m12*a.z+this.m13,c=this.m20*a.x+this.m21*a.y+this.m22*a.z+this.m23;a.x=this.m00*a.x+this.m01*a.y+this.m02*a.z+this.m03;a.y=b;a.z=c;return a},
Transform3x3:function(a){var b=this.m10*a.x+this.m11*a.y+this.m12*a.z,c=this.m20*a.x+this.m21*a.y+this.m22*a.z;a.x=this.m00*a.x+this.m01*a.y+this.m02*a.z;a.y=b;a.z=c;return a},Transform2x3:function(a){var b=this.m10*a.x+this.m11*a.y+this.m13;a.x=this.m00*a.x+this.m01*a.y+this.m03;a.y=b},Transform2x2:function(a){var b=this.m10*a.x+this.m11*a.y;a.x=this.m00*a.x+this.m01*a.y;a.y=b},SetLookAt:function(a,b,c){return u.LookAt(a,b,c,this)},SetFrustum:function(a,b,c,d,e,f){return u.Frustum(a,b,c,d,e,f,this)},
SetFrustumInverse:function(a,b,c,d,e,f){return u.FrustumInverse(a,b,c,d,e,f,this)},SetOrtho:function(a,b,c,d,e,f){return u.Ortho(a,b,c,d,e,f,this)},SetPerspective:function(a,b,c,d){return u.Perspective(a,b,c,d,this)},SetPerspectiveInverse:function(a,b,c,d){return u.PerspectiveInverse(a,b,c,d,this)},ToArray:function(){return[this.m00,this.m01,this.m02,this.m03,this.m10,this.m11,this.m12,this.m13,this.m20,this.m21,this.m22,this.m23,this.m30,this.m31,this.m32,this.m33]},ToString:function(a,b){null==
b&&(b=2);null==a&&(a=!0);for(var c=this.ToArray(),d=[],e=0,f=c.length;e<f;){var l=e++;c[l]=k.RoundPlaces(c[l],b);d.push(0<=c[l]?" "+c[l]:c[l]+"")}c=a?"[":"";for(e=0;4>e;){f=e++;for(l=0;4>l;)var h=l++,c=c+(d[h+4*f]+(3>h?",":""));c=3==f?c+"":a?c+" |":c+"\n"}a&&(c+="]");return c},__class__:u};var D=function(a,b,c,d){null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=c;this.w=d};m["haxor.math.Quaternion"]=D;D.__name__=["haxor","math","Quaternion"];D.get_temp=function(){return h.data.get_q()};
D.get_identity=function(){return new D(0,0,0,1)};D.FromEuler=function(a,b){var c;c=null==b?new D:b;var d=h.data.get_v3(),e=h.data.get_v3(),f=h.data.get_v3().Set(.008726646259971648*a.x,.008726646259971648*a.y,.008726646259971648*a.z);d.Set(Math.cos(f.x),Math.cos(f.y),Math.cos(f.z));e.Set(Math.sin(f.x),Math.sin(f.y),Math.sin(f.z));c.x=e.x*d.y*d.z-d.x*e.y*e.z;c.y=d.x*e.y*d.z+e.x*d.y*e.z;c.z=d.x*d.y*e.z-e.x*e.y*d.z;c.w=d.x*d.y*d.z+e.x*e.y*e.z;return c};D.ToEuler=function(a,b){var c;c=null==b?new s:b;
var d=a.x*a.y+a.z*a.w;if(.499<d)return c.y=114.59155902616465*Math.atan2(a.x,a.w),c.z=28.64788975654116*Math.PI,c.x=0,c;if(-.499>d)return c.y=-2*Math.atan2(a.x,a.w),c.z=28.64788975654116*-Math.PI,c.x=0,c;var e=a.x*a.x,f=a.z*a.z;c.y=57.29577951308232*Math.atan2(2*a.y*a.w-2*a.x*a.z,1-2*a.y*a.y-2*f);c.z=57.29577951308232*Math.asin(2*d);c.x=57.29577951308232*Math.atan2(2*a.x*a.w-2*a.y*a.z,1-2*e-2*f);return c};D.FromMatrix4=function(a,b){var c;c=null==b?new D:b;var d=a.m00-a.m11-a.m22,e=a.m11-a.m00-a.m22,
f=a.m22-a.m00-a.m11,h=0,k=a.m00+a.m11+a.m22;d>k&&(k=d,h=1);e>k&&(k=e,h=2);f>k&&(k=f,h=3);d=.5*Math.sqrt(k+1);e=.25/d;switch(h){case 0:c.w=d;c.x=(a.m21-a.m12)*e;c.y=(a.m02-a.m20)*e;c.z=(a.m10-a.m01)*e;break;case 1:c.w=(a.m21-a.m12)*e;c.x=d;c.y=(a.m10+a.m01)*e;c.z=(a.m02+a.m20)*e;break;case 2:c.w=(a.m02-a.m20)*e;c.x=(a.m10+a.m01)*e;c.y=d;c.z=(a.m21+a.m12)*e;break;case 3:c.w=(a.m10-a.m01)*e,c.x=(a.m02+a.m20)*e,c.y=(a.m21+a.m12)*e,c.z=d}return c};D.Dot=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z+a.w*
b.w};D.DeltaRotation=function(a,b,c){c=null==c?new D:c;D.Inverse(a,c);c.Multiply(b);return c};D.Inverse=function(a,b){var c=a.x*a.x+a.y*a.y+a.z*a.z+a.w*a.w,c=0>=c?0:1/c;return(null==b?new D:b).Set(-a.x*c,-a.y*c,-a.z*c,a.w*c)};D.Lerp=function(a,b,c,d){d=null==d?new D:d;var e=new D(a.x,a.y,a.z,a.w);0>a.x*b.x+a.y*b.y+a.z*b.z+a.w*b.w&&(e.w=-e.w,e.x=-e.x,e.y=-e.y,e.z=-e.z);d.x=e.x+(b.x-e.x)*c;d.y=e.y+(b.y-e.y)*c;d.z=e.z+(b.z-e.z)*c;d.w=e.w+(b.w-e.w)*c;d.Normalize();return d};D.Slerp=function(a,b,c){var d=
new D,e=h.data.get_q().SetQuaternion(b);b=a.x*b.x+a.y*b.y+a.z*b.z+a.w*b.w;0>b&&(e.Invert(),b=-b);if(.9999<b)d.Set(k.Lerp(a.x,e.x,c),k.Lerp(a.y,e.y,c),k.Lerp(a.z,e.z,c),k.Lerp(a.w,e.w,c));else{var f=Math.acos(b);b=1/Math.sin(f);var l=Math.sin((1-c)*f);c=Math.sin(c*f);d.x=(l*a.x+c*e.x)*b;d.y=(l*a.y+c*e.y)*b;d.z=(l*a.z+c*e.z)*b;d.w=(l*a.w+c*e.w)*b}return d};D.FromAxisAngle=function(a,b){b*=.008726646259971648;var c=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);1E-4<k.Abs(c-1)&&a.Normalize();c=Math.sin(b);return new D(a.x*
c,a.y*c,a.z*c,Math.cos(b))};D.LookAt=function(a,b,c,d){return D.FromMatrix4(u.LookAt(a,b,c,h.data.get_m4()),d)};D.LookRotation=function(a,b){return u.LookRotation(a,b,h.data.get_m4()).get_quaternion()};D.Parse=function(a,b){null==b&&(b=" ");var c=a.split(b);return(new D(0,0,0,1)).Set(r.parseFloat(x.trim(c[0])),r.parseFloat(x.trim(c[1])),r.parseFloat(x.trim(c[2])),r.parseFloat(x.trim(c[3])))};D.prototype={get_matrix:function(){return u.FromQuaternion(this)},set_matrix:function(a){D.FromMatrix4(a,this);
return a},get_euler:function(){return D.ToEuler(this)},set_euler:function(a){D.FromEuler(a,this);return a},get_clone:function(){return new D(this.x,this.y,this.z,this.w)},get_xyzw:function(){return new M(this.x,this.y,this.z,this.w)},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},get_normalized:function(){return(new D(this.x,this.y,this.z,this.w)).Normalize()},Set:function(a,b,c,d){null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=
a;this.y=b;this.z=c;this.w=d;return this},SetQuaternion:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this},Normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);if(0>=a)return this.x=this.y=this.z=0,this.w=1,this;this.x*=a=1/a;this.y*=a;this.z*=a;this.w*=a;return this},get_conjugate:function(){return new D(-this.x,-this.y,-this.z,this.w)},get_inverse:function(){return D.Inverse(this)},Invert:function(){this.x=-this.x;this.y=-this.y;this.z=
-this.z;this.w=-this.w;return this},Scale:function(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this},Multiply:function(a,b){null==b&&(b=!1);var c=this.w*a.y+this.y*a.w+this.z*a.x-this.x*a.z,d=this.w*a.z+this.z*a.w+this.x*a.y-this.y*a.x,e=this.w*a.w-this.x*a.x-this.y*a.y-this.z*a.z;this.x=this.w*a.x+this.x*a.w+this.y*a.z-this.z*a.y;this.y=c;this.z=d;this.w=e;return b?this.Normalize():this},Transform:function(a){var b=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z),c;c=0>=b?0:1/b;a.x*=c;a.y*=c;a.z*=c;c=h.data.get_q().Set(a.x,
a.y,a.z,0);var d=h.data.get_q().SetQuaternion(this),e=h.data.get_q().Set(-this.x,-this.y,-this.z,this.w);d.Multiply(c.Multiply(e));a.x=d.x*b;a.y=d.y*b;a.z=d.z*b;return a},Delta:function(a){return this.SetQuaternion(D.DeltaRotation(this,a,h.data.get_q()))},SetAxisAngle:function(a,b){b*=.008726646259971648;var c=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);1E-4<k.Abs(c-1)&&a.Normalize();c=Math.sin(b);return this.Set(a.x*c,a.y*c,a.z*c,Math.cos(b))},ToArray:function(){return[this.x,this.y,this.z,this.w]},ToString:function(a){null==
a&&(a=2);return"["+k.RoundPlaces(this.x,a)+","+k.RoundPlaces(this.y,a)+","+k.RoundPlaces(this.z,a)+","+k.RoundPlaces(this.w,a)+"]"},__class__:D};var ga=function(){};m["haxor.math.Random"]=ga;ga.__name__=["haxor","math","Random"];ga.get_value=function(){return Math.random()};ga.get_interval=function(){return 2*(Math.random()-.499995)};ga.get_rotation=function(){return D.FromAxisAngle((new s(2*(Math.random()-.499995),2*(Math.random()-.499995),2*(Math.random()-.499995))).Normalize().Scale(Math.random()),
360*(Math.random()-.499995))};ga.get_box=function(){return new s(1*(Math.random()-.499995),1*(Math.random()-.499995),1*(Math.random()-.499995))};ga.get_onBox=function(){var a=new s(1*(Math.random()-.499995),1*(Math.random()-.499995),1*(Math.random()-.499995));switch(3*Math.random()+.5){case 0:a.x=0>a.x?-.5:.5;break;case 1:a.y=0>a.y?-.5:.5;break;case 2:a.z=0>a.z?-.5:.5}return a};ga.get_square=function(){return new E(1*(Math.random()-.499995),1*(Math.random()-.499995))};ga.get_onSquare=function(){var a=
new E(1*(Math.random()-.499995),1*(Math.random()-.499995));switch(2*Math.random()+.5){case 0:a.x=0>a.x?-.5:.5;break;case 1:a.y=0>a.y?-.5:.5}return a};ga.get_sphere=function(){return(new s(2*(Math.random()-.499995),2*(Math.random()-.499995),2*(Math.random()-.499995))).Normalize().Scale(Math.random())};ga.get_onSphere=function(){return(new s(2*(Math.random()-.499995),2*(Math.random()-.499995),2*(Math.random()-.499995))).Normalize()};ga.get_circle=function(){return(new E(2*(Math.random()-.499995),2*
(Math.random()-.499995))).Normalize().Scale(Math.random())};ga.get_onCircle=function(){return(new E(2*(Math.random()-.499995),2*(Math.random()-.499995))).Normalize()};ga.Length=function(a){return(a+1)*Math.random()};ga.Range=function(a,b){return k.Lerp(a,b,Math.random())};ga.RangeInt=function(a,b){return k.LerpInt(a,b+1,Math.random())};ga.Item=function(a){return a[a.length*Math.random()]};ga.Shuffle=function(a){for(var b=a.length,c,d;0<b;)d=Math.floor(Math.random()*b--),c=a[b],a[b]=a[d],a[d]=c};var E=
function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};m["haxor.math.Vector2"]=E;E.__name__=["haxor","math","Vector2"];E.get_temp=function(){return h.data.get_v2()};E.get_zero=function(){return new E(0,0)};E.get_one=function(){return new E(1,1)};E.get_right=function(){return new E(1,0)};E.get_up=function(){return new E(0,1)};E.Dot=function(a,b){return a.x*b.x+a.y*b.y};E.Lerp=function(a,b,c){return new E(a.x+(b.x-a.x)*c,a.y+(b.y-a.y)*c)};E.Parse=function(a,b){null==b&&(b=" ");var c=a.split(b);
return(new E(0,0)).Set(r.parseFloat(x.trim(c[0])),r.parseFloat(x.trim(c[1])))};E.prototype={get_clone:function(){return new E(this.x,this.y)},get_xy:function(){return new E(this.x,this.y)},get_yx:function(){return new E(this.y,this.x)},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},get_lengthSqr:function(){return this.x*this.x+this.y*this.y},get_normalized:function(){return(new E(this.x,this.y)).Normalize()},get_inverse:function(){return(new E(this.x,this.y)).Invert()},Set:function(a,
b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;return this},Set2:function(a){this.x=a.x;this.y=a.y;return this},Set3:function(a){this.x=a.x;this.y=a.y;return this},Set4:function(a){this.x=a.x;this.y=a.y;return this},Get:function(a){return 0==a?this.x:this.y},Add:function(a){this.x+=a.x;this.y+=a.y;return this},Sub:function(a){this.x-=a.x;this.y-=a.y;return this},Multiply:function(a){this.x*=a.x;this.y*=a.y;return this},Scale:function(a){this.x*=a;this.y*=a;return this},Step:function(a,b){var c=
a.x-this.x,d=a.y-this.y,e=Math.sqrt(c*c+d*d);if(1E-4>=e)return!1;e=(b>e?e:b)/e;this.x+=c*e;this.y+=d*e;return!0},Reflect:function(a){var b=2*Math.min(0,a.x*this.x+a.y*this.y);this.x+=-a.x*b;this.y+=-a.y*b;return this},Invert:function(){this.x=-this.x;this.y=-this.y;return this},Normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(0>=a)return this;this.x*=a=1/a;this.y*=a;return this},ToArray:function(){return[this.x,this.y]},ToString:function(a){null==a&&(a=2);return"["+k.RoundPlaces(this.x,
a)+","+k.RoundPlaces(this.y,a)+"]"},__class__:E};var s=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=c};m["haxor.math.Vector3"]=s;s.__name__=["haxor","math","Vector3"];s.get_temp=function(){return h.data.get_v3()};s.get_zero=function(){return new s(0,0,0)};s.get_one=function(){return new s(1,1,1)};s.get_right=function(){return new s(1,0,0)};s.get_up=function(){return new s(0,1,0)};s.get_forward=function(){return new s(0,0,1)};s.Dot=function(a,b){return a.x*
b.x+a.y*b.y+a.z*b.z};s.Distance=function(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.z-b.z;return Math.sqrt(c*c+d*d+e*e)};s.Cross=function(a,b,c){null==c&&(c=new s);return c.Set(a.y*b.z-a.z*b.y,a.z*b.x-a.x*b.z,a.x*b.y-a.y*b.x)};s.Lerp=function(a,b,c,d){null==d&&(d=new s);return d.Set(a.x+(b.x-a.x)*c,a.y+(b.y-a.y)*c,a.z+(b.z-a.z)*c)};s.Min=function(a,b,c){null==c&&(c=new s);c.x=Math.min(a.x,b.x);c.y=Math.min(a.y,b.y);c.z=Math.min(a.z,b.z);return c};s.Max=function(a,b,c){null==c&&(c=new s);c.x=Math.max(a.x,b.x);
c.y=Math.max(a.y,b.y);c.z=Math.max(a.z,b.z);return c};s.Parse=function(a,b){null==b&&(b=" ");var c=a.split(b);return(new s(0,0,0)).Set(r.parseFloat(x.trim(c[0])),r.parseFloat(x.trim(c[1])),r.parseFloat(x.trim(c[2])))};s.prototype={get_clone:function(){return new s(this.x,this.y,this.z)},get_color:function(){return new v(this.x,this.y,this.z)},get_xzy:function(){return new s(this.x,this.z,this.y)},get_yxz:function(){return new s(this.y,this.z,this.x)},get_yzx:function(){return new s(this.y,this.z,
this.x)},get_zxy:function(){return new s(this.z,this.x,this.y)},get_zyx:function(){return new s(this.z,this.y,this.x)},get_xy:function(){return new E(this.x,this.y)},get_xz:function(){return new E(this.x,this.z)},get_yx:function(){return new E(this.y,this.x)},get_yz:function(){return new E(this.y,this.z)},get_zx:function(){return new E(this.z,this.x)},get_zy:function(){return new E(this.z,this.y)},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSqr:function(){return this.x*
this.x+this.y*this.y+this.z*this.z},get_normalized:function(){return(new s(this.x,this.y,this.z)).Normalize()},get_inverse:function(){return(new s(this.x,this.y,this.z)).Invert()},Set:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=c;return this},Set2:function(a){this.x=a.x;this.y=a.y;return this},Set3:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},Set4:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},SetColor:function(a){this.x=a.r;this.y=
a.g;this.z=a.b;return this},Get:function(a){return 0==a?this.x:1==a?this.y:this.z},Add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},Add3:function(a,b,c){this.x+=a;this.y+=b;this.z+=c;return this},Sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},Multiply:function(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},Step:function(a,b){var c=a.x-this.x,d=a.y-this.y,e=a.z-this.z,f=Math.sqrt(c*c+d*d+e*e);if(1E-4>=f)return!1;f=(b>f?f:b)/f;this.x+=c*f;this.y+=d*f;this.z+=e*
f;return!0},Reflect:function(a){var b=2*Math.min(0,a.x*this.x+a.y*this.y+a.z*this.z);this.x+=-a.x*b;this.y+=-a.y*b;this.z+=-a.z*b;return this},Invert:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},Scale:function(a){this.x*=a;this.y*=a;this.z*=a;return this},Normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);if(0>=a)return this;this.x*=a=1/a;this.y*=a;this.z*=a;return this},ToArray:function(){return[this.x,this.y,this.z]},ToString:function(a){null==
a&&(a=2);return"["+k.RoundPlaces(this.x,a)+","+k.RoundPlaces(this.y,a)+","+k.RoundPlaces(this.z,a)+"]"},__class__:s};var M=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=c;this.w=d};m["haxor.math.Vector4"]=M;M.__name__=["haxor","math","Vector4"];M.get_temp=function(){return h.data.get_v4()};M.get_zero=function(){return new M(0,0,0,0)};M.get_one=function(){return new M(1,1,1,1)};M.get_W=function(){return new M(0,0,0,1)};M.Lerp=function(a,b,c){return new M(a.x+
(b.x-a.x)*c,a.y+(b.y-a.y)*c,a.z+(b.z-a.z)*c,a.w+(b.w-a.w)*c)};M.Parse=function(a,b){null==b&&(b=" ");var c=a.split(b);return(new M(0,0,0,0)).Set(r.parseFloat(x.trim(c[0])),r.parseFloat(x.trim(c[1])),r.parseFloat(x.trim(c[2])),r.parseFloat(x.trim(c[3])))};M.prototype={get_clone:function(){return new M(this.x,this.y,this.z,this.w)},get_rgba:function(){return new v(this.x,this.y,this.z,this.w)},get_rgb:function(){return new v(this.x,this.y,this.z)},get_xyz:function(){return new s(this.x,this.y,this.z)},
get_xy:function(){return new E(this.x,this.y)},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},get_lengthSqr:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},get_normalized:function(){return(new M(this.x,this.y,this.z,this.w)).Normalize()},Get:function(a){return 0==a?this.x:1==a?this.y:2==a?this.z:this.w},Set:function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=c;this.w=d;return this},
Set2:function(a){this.x=a.x;this.y=a.y;return this},Set3:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},SetColor:function(a){this.x=a.r;this.y=a.g;this.z=a.b;return this},Add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},Sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},Multiply:function(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;this.w*=a.w;return this},Scale:function(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this},Normalize:function(){var a=
Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);if(0>=a)return this;this.x*=a=1/a;this.y*=a;this.z*=a;this.w*=a;return this},IsCulled:function(){return this.x<-this.w||this.x>this.w||this.y<-this.w||this.y>this.w||this.z<-this.w||this.z>this.w?!0:!1},ToArray:function(){return[this.x,this.y,this.z,this.w]},ToString:function(a){null==a&&(a=2);return"["+k.RoundPlaces(this.x,a)+","+k.RoundPlaces(this.y,a)+","+k.RoundPlaces(this.z,a)+","+k.RoundPlaces(this.w,a)+"]"},__class__:M};var $=
function(a,b,c){null==c&&(c=!1);y.call(this);null!=a&&(this.m_time_start=p.m_elapsed,this.m_elapsed=0,this.m_callback=a,b=this.m_cancelled=!1,c&&(b=!1),b||(c?h.render.Add(this):h.update.Add(this)))};m["haxor.thread.Activity"]=$;$.__name__=["haxor","thread","Activity"];$.__interfaces__=[Za,La];$.Iterate=function(a,b,c,d,e,f){null==f&&(f=!1);null==e&&(e=!1);null==d&&(d=1);var h=a;return new $(function(a){a=!1;for(var e=0;e<d;){e++;if(h>=b)return!1;if(!c(h)){a=!0;break}h++}return!a},e,f)};$.Delay=function(a,
b,c,d){null==d&&(d=!1);null==c&&(c=!1);return new $(function(c){return c>=a?(b(),!1):!0},c,d)};$.Run=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);return new $(a,b,c)};$.RunOnce=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);return new $(function(b){a();return!1},b,c)};$.__super__=y;$.prototype=B(y.prototype,{get_elapsed:function(){return this.m_elapsed},Cancel:function(){this.m_cancelled=!0},OnUpdate:function(){this.OnRun()},OnRender:function(){this.OnRun()},OnRun:function(){this.m_cancelled?
y.Destroy(this):(this.m_elapsed=p.m_elapsed-this.m_time_start,this.m_callback(this.m_elapsed)||y.Destroy(this))},__class__:$});var eb=function(a,b){null==a&&(a=!1);var c=b;null==c&&(c=Z(this,this.OnExecute));$.call(this,c,a);this.m_active=!1;this.m_progress=0;this.m_has_progress=!1};m["haxor.thread.Task"]=eb;eb.__name__=["haxor","thread","Task"];eb.__super__=$;eb.prototype=B($.prototype,{get_progress:function(){return this.m_progress},set_progress:function(a){0<Math.abs(a-this.m_progress)&&(this.m_progress=
a,this.m_has_progress=!0);return a},get_active:function(){return this.m_active},OnStart:function(){},OnStep:function(){},OnComplete:function(){},OnProgress:function(){},OnExecute:function(a){this.m_active||(this.m_active=!0,this.OnStart());this.OnStep();this.m_has_progress&&(this.OnProgress(),this.m_has_progress=!1);return 1<=this.m_progress?(this.OnComplete(),!1):!0},__class__:eb});var fb=function(a,b,c,d){eb.call(this);0<=a.indexOf("./")&&(a=x.replace(a,"./",oa.root));this.url=a;this.binary=c;this.method=
b;this.data=d;this.bytesTotal=this.bytesLoaded=0;this.error="";q.Log("HTTPRequest> "+this.url,4)};m["haxor.net.HTTPRequestTask"]=fb;fb.__name__=["haxor","net","HTTPRequestTask"];fb.__super__=eb;fb.prototype=B(eb.prototype,{OnStart:function(){},OnError:function(){q.LogError("HTTPRequest> Error ["+this.error+"]")},__class__:fb});var Xa=function(a,b,c,d){var e=this;fb.call(this,a,b,c,d);this.request=new XMLHttpRequest;this.request.withCredentials&&(this.request.withCredentials=!1);null!=(Db=this.request,
Z(Db,Db.overrideMimeType))&&this.request.overrideMimeType(c?"application/octet-stream":"text/plain");this.request.onprogress=function(a){e.bytesLoaded=a.loaded;e.bytesTotal=a.total;e.set_progress(.999*(0>=a.total?0:a.loaded/(a.total+5)))};this.request.onload=function(a){e.set_progress(1)};this.request.onerror=function(a){e.request=null;e.set_progress(1);e.error=a.message;e.OnError()};this.request.open(this.method,this.url,!0)};m["haxor.platform.html.net.HTTPRequest"]=Xa;Xa.__name__=["haxor","platform",
"html","net","HTTPRequest"];Xa.__super__=fb;Xa.prototype=B(fb.prototype,{OnStart:function(){null==this.data?this.request.send():this.request.send(this.data)},__class__:Xa});var Ya=function(a,b,c){Xa.call(this,a,"get",b);this.callback=c};m["haxor.platform.html.net.HTTPLoader"]=Ya;Ya.__name__=["haxor","platform","html","net","HTTPLoader"];Ya.__super__=Xa;Ya.prototype=B(Xa.prototype,{OnStart:function(){Xa.prototype.OnStart.call(this);null!=this.callback&&this.callback(null,0)},OnComplete:function(){null!=
this.callback&&(null==this.request?this.callback(null,1):(this.response=this.request.response,this.binary?this.callback(this.request.response,1):this.callback(this.request.responseText,1)))},__class__:Ya});var Ta=function(a,b){Ya.call(this,a,!0,Z(this,this.OnBufferCallback));this.m_bitmap_callback=b;this.request.responseType="blob"};m["haxor.platform.html.net.BitmapLoader"]=Ta;Ta.__name__=["haxor","platform","html","net","BitmapLoader"];Ta.__super__=Ya;Ta.prototype=B(Ya.prototype,{OnBufferCallback:function(a,
b){var c=this;if(1>b)null!=this.m_bitmap_callback&&this.m_bitmap_callback(null,this.m_progress);else if(null!=a){var d=new Image;d.onload=function(a){a=window.document.createElement("canvas").getContext("2d");a.canvas.width=d.width;a.canvas.height=d.height;a.scale(1,-1);a.drawImage(d,0,-d.height);a=a.getImageData(0,0,a.canvas.width,a.canvas.height);var b=a.width,e=a.height,f=G.RGBA8;switch(a.data.byteLength/(b*e)|0){case 1:f=G.Alpha8;break;case 3:f=G.RGB8}b=new rb(b,e,f);b.get_buffer().m_buffer.set(a.data);
null!=c.m_bitmap_callback&&c.m_bitmap_callback(b,1)};d.src=URL.createObjectURL(this.request.response)}},OnError:function(){null!=this.m_bitmap_callback&&this.m_bitmap_callback(null,1)},__class__:Ta});var Eb=function(a,b,c){Ta.call(this,a,Z(this,this.OnBitmapCallback));this.m_t2d_callback=c;this.m_apply=b};m["haxor.net.Texture2DLoader"]=Eb;Eb.__name__=["haxor","net","Texture2DLoader"];Eb.__super__=Ta;Eb.prototype=B(Ta.prototype,{OnBitmapCallback:function(a,b){var c=this;1>this.m_progress?null!=this.m_t2d_callback&&
this.m_t2d_callback(null,this.m_progress):null!=a&&$.RunOnce(function(){var b=A.FromBitmap(a,c.m_apply);c.m_t2d_callback(b,1)},!1,!0)},OnError:function(){Ta.prototype.OnError.call(this);null!=this.m_t2d_callback&&this.m_bitmap_callback(null,1)},__class__:Eb});var oa=function(){};m["haxor.net.Web"]=oa;oa.__name__=["haxor","net","Web"];oa.Load=function(a,b){new Ya(a,!1,b)};oa.LoadImg=function(a,b){new Ta(a,b)};oa.LoadTexture2D=function(a,b,c){new Eb(a,b,c)};oa.LoadCollada=function(a,b){oa.Load(a,function(c,
d){1>d?b(null,d):b(null==c?null:new Ia(a,c),1)})};oa.LoadShader=function(a,b){oa.Load(a,function(a,d){1>d?b(null,d):b(null==a?null:new H(a),1)})};var Q=function(){};m["haxor.platform.html.Entry"]=Q;Q.__name__=["haxor","platform","html","Entry"];Q.Initialize=function(){window.onload=Q.OnWindowLoad};Q.OnWindowLoad=function(a){q.Initialize();var b=window.document.getElementsByTagName("SCRIPT"),c="";a="Main";for(var d="haxor",g="haxor",f=0,l=b.length;f<l;){var c=f++,k=b.item(c),c=k.getAttribute("verbose");
null!=c&&(""==c&&(c="0"),q.verbose=r.parseInt(c));c=k.getAttribute("application");null!=c&&(a=c);c=k.getAttribute("container");null!=c&&(d=c);c=k.getAttribute("input");null!=c&&(g=c)}q.Log("Haxor> HTML Platform Init verbose["+q.verbose+"] application["+a+"] container["+d+"]",1);b=window.document.getElementsByTagName("strings");if(null!=b&&0<b.length){l=f=0;for(c=b.length;l<c;){for(var k=l++,k=b.item(k),m=k.childNodes,s=0,t=m.length;s<t;){var u=s++,u=m.item(u);switch(u.nodeName.toLowerCase()){case "entry":var v=
u.getAttribute("key");S.Add(v,u.textContent);f++}}k.remove()}q.Log("Haxor> Found "+f+" Strings",2)}if(""==a)q.Log("Haxor> Error. You must define an Application class.");else if(b=Ja.resolveClass(a),null==b)q.Log("Haxor> Error. Class ["+a+"] not found! Try adding 'import "+a+"' in your Main file.");else if(ha.Initialize(),f=new la("application"),Q.m_application=f.AddComponent(b),F.__instanceof(Q.m_application,Ka)){q.Log("Haxor> Application ["+a+"] created successfully!",1);Q.m_application.m_container=
window.document.getElementById(d);null==Q.m_application.m_container&&(q.Log("Graphics> DOM container not defined id["+d+"] using 'body'."),Q.m_application.m_container=window.document.body);var x=Q.m_application.m_container.style.display;Q.m_application.m_container.style.display="none";e.Initialize(Q.m_application);e.m_gl.Initialize(d);e.m_gl.CheckExtensions();q.Log("Haxor> Creating Stage with ["+d+"]",1);(new K(Q.m_application.m_container)).Parse(Q.m_application.m_container);Oa.delay(function(){Q.m_application.m_container.style.display=
x},100);h.Build();Q.m_input=new Fb(g);n.m_handler=Q.m_input;null!=(Db=window,Z(Db,Db.requestAnimationFrame))?window.requestAnimationFrame(Q.RequestAnimationCallback):(p.m_clock_0=1E3*Oa.stamp(),Q.TimeOutLoop());Q.m_application.Load()&&Q.m_application.LoadComplete()}else q.Log("Haxor> Error. Class ["+a+"] does not extends Application!")};Q.RequestAnimationCallback=function(a){p.m_system=a;Q.m_application.Update();Q.m_application.Render();window.requestAnimationFrame(Q.RequestAnimationCallback);return!0};
Q.TimeOutLoop=function(){p.m_system=1E3*Oa.stamp()-p.m_clock_0;Q.m_application.Update();Q.m_application.Render();window.setTimeout(Q.TimeOutLoop,10)};var yb=function(a){qb.call(this,a);this.m_api=Ba.WebGL};m["haxor.platform.html.graphics.WebGL"]=yb;yb.__name__=["haxor","platform","html","graphics","WebGL"];yb.__super__=qb;yb.prototype=B(qb.prototype,{Initialize:function(a){this.m_application.m_container=this.m_container=window.document.getElementById(a);if(null==this.m_container)return q.Log("Graphics> Canvas container not defined id["+
a+"]."),!1;this.m_canvas=window.document.createElement("canvas");this.m_canvas.style.position="absolute";this.m_canvas.style.left="0px";this.m_canvas.style.top="0px";this.m_canvas.style.width="100%";this.m_canvas.style.height="100%";this.m_canvas.width=this.m_container.clientWidth;this.m_canvas.height=this.m_container.clientHeight;this.m_canvas.id="haxor-canvas";a=this.m_container.firstElementChild;this.m_container.appendChild(this.m_canvas);null!=a&&this.m_container.insertBefore(this.m_canvas,a);
a={};var b="alpha antialias depth stencil premultipliedAlpha preserveDrawingBuffer".split(" "),c=[!1,!1,!0,!1,!0,!1];q.Log("Graphics> Initialize WebGL",1);for(var d=0,e=b.length;d<e;){var f=d++,h=b[f],k=this.m_container.getAttribute(b[f]),k=null==k?c[f]:"true"==k;q.Log("\t"+b[f]+": "+(null==k?"null":""+k),1);a[h]=k}this.c=rc.getContextWebGL(this.m_canvas,a);return null==this.c?(q.Log("Graphics> Could not create RenderingContext3D."),!1):!0},CheckExtensions:function(){if(null!=this.c){q.Log("Graphics> Available Extensions.",
1);for(var a=this.c.getSupportedExtensions(),b=0,c=a.length;b<c;){var d=b++;if(!(0<=a[d].indexOf("MOZ_")||0<=a[d].indexOf("WEBKIT_"))){var f=this.c.getExtension(a[d]);q.Log("\t"+a[d],1);switch(a[d]){case "OES_vertex_array_object":e.VERTEX_ARRAY_OBJECT=!0;break;case "OES_texture_half_float":e.HALF_FLOAT=36193;e.TEXTURE_HALF=!0;break;case "OES_texture_half_float_linear":e.TEXTURE_HALF_LINEAR=!0;break;case "EXT_texture_filter_anisotropic":case "WEBKIT_EXT_texture_filter_anisotropic":e.TEXTURE_ANISOTROPY=
f.TEXTURE_MAX_ANISOTROPY_EXT;e.MAX_TEXTURE_ANISOTROPY=this.c.getParameter(f.MAX_TEXTURE_MAX_ANISOTROPY_EXT);e.TEXTURE_ANISOTROPY_ENABLED=!0;q.Log("\t\tMax Aniso: "+e.MAX_TEXTURE_ANISOTROPY,1);break;case "OES_texture_float":e.TEXTURE_FLOAT=!0;break;case "OES_depth_texture":e.TEXTURE_DEPTH_ENABLED=!0}}}e.MAX_ACTIVE_TEXTURE=this.c.getParameter(34930);q.Log("\tMax Active Textures: "+e.MAX_ACTIVE_TEXTURE,1)}},Resize:function(){this.m_canvas.width=this.m_container.clientWidth;this.m_canvas.height=this.m_container.clientHeight},
CreateBuffer:function(){return this.c.createBuffer()},BindBuffer:function(a,b){this.c.bindBuffer(a,b)},BufferData:function(a,b,c){this.c.bufferData(a,b.m_buffer,c)},BufferSubData:function(a,b,c){this.c.bufferSubData(a,b,c.m_buffer)},DeleteBuffer:function(a){this.c.deleteBuffer(a)},DrawArrays:function(a,b,c){this.c.drawArrays(a,b,c)},DrawElements:function(a,b,c,d){this.c.drawElements(a,b,c,d)},DisableVertexAttrib:function(a){this.c.disableVertexAttribArray(a)},EnableVertexAttrib:function(a){this.c.enableVertexAttribArray(a)},
VertexAttrib3f:function(a,b,c,d){this.c.vertexAttrib3f(a,b,c,d)},VertexAttrib4f:function(a,b,c,d,e){this.c.vertexAttrib4f(a,b,c,d,e)},VertexAttribPointer:function(a,b,c,d,e,f){this.c.vertexAttribPointer(a,b,c,d,e,f)},CompileShader:function(a){this.c.compileShader(a)},CreateShader:function(a){return this.c.createShader(a)},DetachShader:function(a,b){this.c.detachShader(a,b)},DeleteShader:function(a){this.c.deleteShader(a)},GetShaderInfoLog:function(a){return this.c.getShaderInfoLog(a)},GetShaderParameter:function(a,
b){return this.c.getShaderParameter(a,b)},ShaderSource:function(a,b){this.c.shaderSource(a,b)},AttachShader:function(a,b){this.c.attachShader(a,b)},BindAttribLocation:function(a,b,c){this.c.bindAttribLocation(a,b,c)},CreateProgram:function(){return this.c.createProgram()},DeleteProgram:function(a){this.c.deleteProgram(a)},GetAttribLocation:function(a,b){return this.c.getAttribLocation(a,b)},GetUniformLocation:function(a,b){return this.c.getUniformLocation(a,b)},GetProgramInfoLog:function(a){return this.c.getProgramInfoLog(a)},
GetProgramParameter:function(a,b){return this.c.getProgramParameter(a,b)},LinkProgram:function(a){this.c.linkProgram(a)},UseProgram:function(a){this.c.useProgram(a)},ActiveTexture:function(a){this.c.activeTexture(a)},BindFramebuffer:function(a,b){this.c.bindFramebuffer(a,b)},BindRenderbuffer:function(a,b){this.c.bindRenderbuffer(a,b)},BindTexture:function(a,b){this.c.bindTexture(a,b)},CreateFramebuffer:function(){return this.c.createFramebuffer()},CreateRenderbuffer:function(){return this.c.createRenderbuffer()},
CreateTexture:function(){return this.c.createTexture()},DeleteFramebuffer:function(a){this.c.deleteFramebuffer(a)},DeleteRenderbuffer:function(a){this.c.deleteRenderbuffer(a)},DeleteTexture:function(a){this.c.deleteTexture(a)},FramebufferRenderbuffer:function(a,b,c,d){this.c.framebufferRenderbuffer(a,b,c,d)},FramebufferTexture2D:function(a,b,c,d,e){this.c.framebufferTexture2D(a,b,c,d,e)},GenerateMipmap:function(a){this.c.generateMipmap(a)},PixelStorei:function(a,b){this.c.pixelStorei(a,b)},RenderbufferStorage:function(a,
b,c,d){this.c.renderbufferStorage(a,b,c,d)},TexImage2D:function(a,b,c,d,e,f,h,k,m){this.c.texImage2D(a,b,c,d,e,f,h,k,m.aux)},TexImage2DAlloc:function(a,b,c,d,e,f,h,k){this.c.texImage2D(a,b,c,d,e,f,h,k,null)},TexSubImage2D:function(a,b,c,d,e,f,h,k,m){this.c.texSubImage2D(a,b,c,d,e,f,h,k,m.aux)},TexParameterf:function(a,b,c){this.c.texParameterf(a,b,c)},TexParameteri:function(a,b,c){this.c.texParameteri(a,b,c)},BlendFunc:function(a,b){this.c.blendFunc(a,b)},Disable:function(a){this.c.disable(a)},Enable:function(a){this.c.enable(a)},
DepthMask:function(a){this.c.depthMask(a)},DepthFunc:function(a){this.c.depthFunc(a)},CullFace:function(a){this.c.cullFace(a)},FrontFace:function(a){this.c.frontFace(a)},Uniform1f:function(a,b){this.c.uniform1f(a,b)},Uniform2f:function(a,b,c){this.c.uniform2f(a,b,c)},Uniform3f:function(a,b,c,d){this.c.uniform3f(a,b,c,d)},Uniform4f:function(a,b,c,d,e){this.c.uniform4f(a,b,c,d,e)},Uniform1i:function(a,b){this.c.uniform1i(a,b)},Uniform2i:function(a,b,c){this.c.uniform2i(a,b,c)},Uniform3i:function(a,
b,c,d){this.c.uniform3i(a,b,c,d)},Uniform4i:function(a,b,c,d,e){this.c.uniform4i(a,b,c,d,e)},Uniform1fv:function(a,b){this.c.uniform1fv(a,b.aux)},Uniform2fv:function(a,b){this.c.uniform2fv(a,b.aux)},Uniform3fv:function(a,b){this.c.uniform3fv(a,b.aux)},Uniform4fv:function(a,b){this.c.uniform4fv(a,b.aux)},Uniform1iv:function(a,b){this.c.uniform1iv(a,b.aux)},Uniform2iv:function(a,b){this.c.uniform2iv(a,b.aux)},Uniform3iv:function(a,b){this.c.uniform3iv(a,b.aux)},Uniform4iv:function(a,b){this.c.uniform4iv(a,
b.aux)},UniformMatrix2fv:function(a,b,c){this.c.uniformMatrix2fv(a,b,c.aux)},UniformMatrix3fv:function(a,b,c){this.c.uniformMatrix3fv(a,b,c.aux)},UniformMatrix4fv:function(a,b,c){this.c.uniformMatrix4fv(a,b,c.aux)},Clear:function(a){this.c.clear(a)},ClearDepth:function(a){this.c.clearDepth(a)},ClearColor:function(a,b,c,d){this.c.clearColor(a,b,c,d)},Viewport:function(a,b,c,d){this.c.viewport(a,b,c,d)},Scissor:function(a,b,c,d){this.c.scissor(a,b,c,d)},ReadPixels:function(a,b,c,d,e,f,h){this.c.readPixels(a,
b,c,d,e,f,h.m_buffer)},Flush:function(){},GetErrorCode:function(){return this.c.getError()},__class__:yb});var Fb=function(a){this.m_navigator=window.navigator;this.m_target=window.document.getElementById(a);null==this.m_target&&(q.LogWarning("Input> Target Element not found! Using [document] as target."),this.m_target=window.document.body);this.m_events=[];this.m_target.onmousedown=Z(this,this.OnInputEvent);this.m_target.onmouseover=Z(this,this.OnInputEvent);this.m_target.onmousewheel=Z(this,this.OnInputEvent);
this.m_target.oncontextmenu=Z(this,this.OnInputEvent);window.document.onmousemove=Z(this,this.OnInputEvent);window.document.onmouseup=Z(this,this.OnInputEvent);window.document.onkeydown=Z(this,this.OnInputEvent);window.document.onkeyup=Z(this,this.OnInputEvent);try{this.m_target.addEventListener("DOMMouseScroll",Z(this,this.OnInputEvent))}catch(b){}try{n.m_multitouch=null!=TouchEvent}catch(c){n.m_multitouch=!1}n.get_multitouch()&&(this.m_target.ontouchstart=Z(this,this.OnTouchEvent),window.document.ontouchmove=
Z(this,this.OnTouchEvent),window.document.ontouchcancel=Z(this,this.OnTouchEvent),window.document.ontouchend=Z(this,this.OnTouchEvent));a=this.m_navigator;this.m_check_joystick=!!a.getGamepads||-1!=a.userAgent.indexOf("Firefox/")};m["haxor.platform.html.input.HTMLInputHandler"]=Fb;Fb.__name__=["haxor","platform","html","input","HTMLInputHandler"];Fb.__super__=Cb;Fb.prototype=B(Cb.prototype,{UpdateInput:function(){if(0<this.m_events.length)for(;0<this.m_events.length;)this.ProcessInputEvent(this.m_events.shift());
this.UpdateJoystick()},OnInputEvent:function(a){a=null==a?window.event:a;this.m_events.push(a);var b="mousewheel"==a.type||"wheel"==a.type,b=(b="mousedown"==a.type||b)&&F.__instanceof(this.m_target,HTMLCanvasElement);n.scroll&&(b=!1);"contextmenu"==a.type&&(n.menu||(b=!0));b&&0<=n.relativeMouse.x&&1>=n.relativeMouse.x&&0<=n.relativeMouse.y&&1>=n.relativeMouse.y&&null!=Z(a,a.preventDefault)&&a.preventDefault()},ProcessInputEvent:function(a){switch(a.type){case "wheel":case "mousewheel":case "DOMMouseScroll":this.OnMouseWheel((null==
a.wheelDeltaY?40*a.detail:a.wheelDeltaY)/100);break;case "mousemove":var b=a.pageX,c=a.pageY;null==b&&(b=a.clientX);null==c&&(c=a.clientY);a=this.GetAbsolutePosition(this.m_target,b,c);this.OnMouseMove(a.x,a.y);break;case "mouseup":this.OnMouseButton(a.button,!1);break;case "mousedown":this.OnMouseButton(a.button,!0);break;case "keyup":this.OnKey(a.keyCode,!1);break;case "keydown":this.OnKey(a.keyCode,!0)}},OnTouchEvent:function(a){for(var b=0,c=a.changedTouches.length;b<c;){var d=b++,d=a.changedTouches.item(d),
e=this.GetAbsolutePosition(this.m_target,d.pageX,d.pageY);switch(a.type){case "touchstart":this.OnTouchStart(d.identifier,e.x,e.y,d.radiusX,d.radiusY,d.force,d.rotationAngle);break;case "touchmove":this.OnTouchMove(d.identifier,e.x,e.y);break;case "touchcancel":this.OnTouchCancel(d.identifier);break;case "touchend":this.OnTouchEnd(d.identifier)}}0<n.m_touches.length&&(n.scroll||a.preventDefault())},UpdateJoystick:function(){if(this.m_check_joystick){var a=this.m_navigator,b=null;null!=a.getGamepads&&
(b=a.getGamepads());if(null!=b&&!(0>=b.length))for(var a=0,c=b.length;a<c;){var d=a++,d=b.item(d);if(null!=d){this.OnJoystickStart(d.index,d.id);for(var e=0,f=d.buttons.length;e<f;){var h=e++;this.OnJoystickDataUpdate(h,d.buttons[h].value,!1)}e=0;for(f=d.axes.length;e<f;)h=e++,this.OnJoystickDataUpdate(h,d.axes[h],!0);this.OnJoystickAnalogUpdate()}}}},GetAbsolutePosition:function(a,b,c){var d=0,e=0;do d+=a.offsetLeft,e+=a.offsetTop,a=a.offsetParent;while(null!=a);d=b-d;e=c-e;return h.data.get_v2().Set(d,
e)},__class__:Fb});var F=function(){};m["js.Boot"]=F;F.__name__=["js","Boot"];F.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__};F.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+F.__string_rec(a[f],b)):c+
F.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+F.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(h){return"???"}if(null!=d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+F.__string_rec(a[c],b));b=b.substring(1);
return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};F.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||F.__interfLoop(f,b))return!0}return F.__interfLoop(a.__super__,b)};F.__instanceof=function(a,b){if(null==b)return!1;switch(b){case wc:return(a|0)===a;case sc:return"number"==typeof a;case tc:return"boolean"==typeof a;case String:return"string"==
typeof a;case Array:return a instanceof Array&&null==a.__enum__;case xc:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||F.__interfLoop(F.getClass(a),b)))return!0}else return!1;return b==yc&&null!=a.__name__||b==zc&&null!=a.__ename__?!0:a.__enum__==b}};F.__cast=function(a,b){if(F.__instanceof(a,b))return a;throw"Cannot cast "+r.string(a)+" to "+r.string(b);};var rc=function(){};m["js.html._CanvasElement.CanvasUtil"]=rc;rc.__name__=["js","html","_CanvasElement","CanvasUtil"];
rc.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var Db,uc=0;Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;m.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=m.String=String;String.__name__=["String"];m.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=
m.Date=Date;Date.__name__=["Date"];var wc=m.Int={__name__:["Int"]},xc=m.Dynamic={__name__:["Dynamic"]},sc=m.Float=Number;sc.__name__=["Float"];var tc=Boolean;tc.__ename__=["Bool"];var yc=m.Class={__name__:["Class"]},zc={};t.Element="element";t.PCData="pcdata";t.CData="cdata";t.Comment="comment";t.DocType="doctype";t.ProcessingInstruction="processingInstruction";t.Document="document";Fa.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Fa.BYTES=ya.ofString(Fa.CHARS);Pa.count=
0;Na.escapes=function(a){a=new Va;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);N.ambient=new v(0,0,0,1);N.max=8;N.m_list=[];mb.MAX_TEMP=128;h.uid=0;h.maxNodes=5E3;h.collectRate=10;Qa.m_cid=0;ia.flat_source='\r\n\t<shader id="haxor/unlit/Flat">\t\r\n\t\t<vertex>\t\t\r\n\t\tuniform mat4  WorldMatrix;\r\n\t\tuniform mat4  ViewMatrix;\r\n\t\tuniform mat4  ProjectionMatrix;\t\t\r\n\t\tuniform vec4  Tint;\t\t\t\t\r\n\t\tattribute vec3 vertex;\t\t\r\n\t\tattribute vec4 color;\t\t\r\n\t\tvarying vec4 v_color;\t\t\r\n\t\tvoid main(void) \r\n\t\t{\t\t\r\n\t\t\tgl_Position = ((vec4(vertex, 1.0) * WorldMatrix) * ViewMatrix) * ProjectionMatrix;\t\t\t\t\r\n\t\t\tv_color = color * Tint;\r\n\t\t}\t\t\r\n\t\t</vertex>\t\t\r\n\t\t<fragment>\t\t\t\r\n\t\t\tvarying vec4 v_color;\t\t\t\r\n\t\t\tvoid main(void) { gl_FragColor = v_color; }\t\t\t\r\n\t\t</fragment>\t\r\n\t</shader>\t\r\n\t';
ia.flat_texture_source='\r\n\t<shader id="haxor/unlit/FlatTexture">\t\r\n\t\t<vertex>\r\n\t\tuniform mat4  WorldMatrix;\r\n\t\tuniform mat4  ViewMatrix;\r\n\t\tuniform mat4  ProjectionMatrix;\t\t\r\n\t\tattribute vec3 vertex;\t\t\t\t\t\r\n\t\tattribute vec4 color;\r\n\t\tattribute vec3 uv0;\t\t\r\n\t\tvarying vec3 v_uv0;\r\n\t\tvarying vec4 v_color;\t\t\r\n\t\tvoid main(void) \r\n\t\t{\t\t\r\n\t\t\tgl_Position = ((vec4(vertex, 1.0) * WorldMatrix) * ViewMatrix) * ProjectionMatrix;\r\n\t\t\tv_uv0   = uv0;\r\n\t\t\tv_color = color;\r\n\t\t}\t\t\r\n\t\t</vertex>\t\t\r\n\t\t<fragment>\r\n\t\t\tvarying vec3 v_uv0;\r\n\t\t\tvarying vec4 v_color;\t\t\t\r\n\t\t\tuniform sampler2D DiffuseTexture;\r\n\t\t\tvoid main(void) \r\n\t\t\t{\t\r\n\t\t\t\tvec4 tex_diffuse = texture2D(DiffuseTexture, v_uv0.xy);\t\r\n\t\t\t\tgl_FragColor.xyz = (tex_diffuse.xyz * v_color.xyz);\r\n\t\t\t\tgl_FragColor.a \t = tex_diffuse.a * v_color.a;\r\n\t\t\t}\r\n\t\t</fragment>\t\r\n\t</shader>\r\n\t';
ia.flat_texture_skin_source='\r\n\t<shader id="haxor/unlit/FlatTextureSkin">\t\r\n\t\t<vertex precision="high">\r\n\t\t\r\n\t\t#define SKINNING_TEXTURE_SIZE 2048.0\r\n\t\t#define BINDS_OFFSET\t\t  1024.0\r\n\t\t\r\n\t\tuniform mat4  WorldMatrix;\r\n\t\tuniform mat4  WorldMatrixIT;\r\n\t\tuniform mat4  ViewMatrix;\r\n\t\tuniform mat4  ProjectionMatrix;\r\n\t\tuniform vec3  WSCameraPosition;\t\t\r\n\t\t\r\n\t\t//uniform vec4  Skinning[MAX_BONES];\r\n\t\t\r\n\t\tuniform sampler2D Skinning;\r\n\t\t\r\n\t\tattribute vec3 vertex;\t\t\t\t\t\r\n\t\tattribute vec4 color;\r\n\t\tattribute vec3 normal;\r\n\t\tattribute vec3 uv0;\r\n\t\tattribute vec4 bone;\r\n\t\tattribute vec4 weight;\r\n\t\t\r\n\t\tvarying vec3 v_uv0;\r\n\t\tvarying vec3 v_normal;\r\n\t\tvarying vec4 v_color;\r\n\t\tvarying vec4 v_wsVertex;\r\n\t\tvarying vec3 v_wsView;\t\r\n\t\t\r\n\t\tvec4 SkinningRead(float id)\r\n\t\t{\r\n\t\t\treturn texture2D(Skinning, vec2(0.0,(id/(SKINNING_TEXTURE_SIZE-1.0))));\r\n\t\t}\r\n\t\t\r\n\t\tmat4 GetSkinMatrix(float b,float o)\r\n\t\t{\r\n\t\t\tvec4 l0, l1, l2;\t\t\t\t\t\t\r\n\t\t\tl0 = SkinningRead(b+o); l1 = SkinningRead(b+1.0+o); l2 = SkinningRead(b+2.0+o);\r\n\t\t\treturn mat4(l0.x, l0.y, l0.z, l0.w, l1.x, l1.y, l1.z, l1.w, l2.x, l2.y, l2.z, l2.w, 0, 0, 0, 1);\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tmat4 SkinWorldMatrix()\r\n\t\t{\r\n\t\t\tvec4 b = bone * 3.0;\r\n\t\t\tvec4 w = weight;\r\n\t\t\tfloat ivs = 1.0 / (weight.x + weight.y + weight.z + weight.w);\r\n\t\t\tw *= ivs;\r\n\t\t\tmat4 j0 = GetSkinMatrix(b[0],0.0);\r\n\t\t\tmat4 b0 = GetSkinMatrix(b[0],BINDS_OFFSET);\r\n\t\t\tmat4 j1 = GetSkinMatrix(b[1],0.0);\r\n\t\t\tmat4 b1 = GetSkinMatrix(b[1],BINDS_OFFSET);\r\n\t\t\tmat4 j2 = GetSkinMatrix(b[2],0.0);\r\n\t\t\tmat4 b2 = GetSkinMatrix(b[2],BINDS_OFFSET);\r\n\t\t\tmat4 j3 = GetSkinMatrix(b[3],0.0);\r\n\t\t\tmat4 b3 = GetSkinMatrix(b[3],BINDS_OFFSET);\r\n\t\t\t\r\n\t\t\treturn    ((b0 * j0) * w[0])+\r\n\t\t\t          ((b1 * j1) * w[1])+\r\n\t\t\t          ((b2 * j2) * w[2])+\r\n\t\t\t          ((b3 * j3) * w[3]);\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\t\t\t\t\r\n\t\tvoid main(void) \r\n\t\t{\t\r\n\t\t\tvec4 lv = vec4(vertex,1.0);\r\n\t\t\tvec3 ln = vec3(normal);\r\n\t\t\tmat4 swm = SkinWorldMatrix();\r\n\t\t\tmat4 wm;\t\t\t\t\t\r\n\t\t\twm = swm;\r\n\t\t\twm = WorldMatrix;\r\n\t\t\t\r\n\t\t\tv_uv0   = uv0;\r\n\t\t\tv_color = color;\t\t\t\r\n\t\t\tv_normal = ln * mat3(WorldMatrixIT);\t\t\t\r\n\t\t\tgl_Position = ((lv * wm) * ViewMatrix) * ProjectionMatrix;\r\n\t\t}\t\t\r\n\t\t</vertex>\r\n\t\t\r\n\t\t<fragment precision="high">\r\n\t\t\t\t\t\r\n\t\t\tuniform sampler2D DiffuseTexture;\t\t\t\r\n\t\t\t\r\n\t\t\tuniform sampler2D Skinning;\r\n\t\t\t\r\n\t\t\tvarying vec3 v_uv0;\r\n\t\t\tvarying vec4 v_color;\r\n\t\t\tvarying vec3 v_normal;\r\n\t\t\t\r\n\t\t\tvoid main(void) \r\n\t\t\t{\t\r\n\t\t\t\tvec4 tex_diffuse = texture2D(DiffuseTexture, v_uv0.xy);\r\n\t\t\t\tgl_FragColor.xyz = v_color.xyz;// tex_diffuse.xyz * v_color.xyz;\r\n\t\t\t\tgl_FragColor.a \t = 1.0;// tex_diffuse.a * v_color.a;\r\n\t\t\t}\r\n\t\t</fragment>\t\r\n\t</shader>\r\n\t';
ia.gizmo_source='\r\n\t<shader id="haxor/gizmo/Grid">\t\r\n\t\t<vertex>\t\t\r\n\t\tuniform mat4  WorldMatrix;\r\n\t\tuniform mat4  ViewMatrix;\r\n\t\tuniform mat4  ProjectionMatrix;\t\t\r\n\t\tuniform vec4  Tint;\t\t\r\n\t\tuniform float Area;\r\n\t\tattribute vec3 vertex;\t\t\r\n\t\tattribute vec4 color;\t\t\r\n\t\tvarying vec4 v_color;\t\t\r\n\t\tvoid main(void) \r\n\t\t{\t\t\r\n\t\tgl_Position = ((vec4(vertex*Area, 1.0) * WorldMatrix) * ViewMatrix) * ProjectionMatrix;\t\t\t\t\r\n\t\tv_color = color * Tint;\t\t\r\n\t\t}\t\t\r\n\t\t</vertex>\t\t\r\n\t\t<fragment>\t\t\t\r\n\t\t\tvarying vec4 v_color;\t\t\t\r\n\t\t\tvoid main(void) \r\n\t\t\t{\r\n\t\t\t\tgl_FragColor = v_color;\r\n\t\t\t}\t\t\t\r\n\t\t</fragment>\t\r\n\t</shader>\t\r\n\t';
ia.texture_source='\r\n\t<shader id="haxor/gizmo/Texture">\t\r\n\t\t<vertex>\t\t\r\n\t\tuniform vec2  Screen;\r\n\t\tuniform vec4  Rect;\r\n\t\tuniform vec4  Tint;\t\t\r\n\t\tattribute vec3 vertex;\t\t\t\t\r\n\t\tvarying vec4 v_color;\r\n\t\tvarying vec2 v_uv0;\r\n\t\t\r\n\t\tvoid main(void) \r\n\t\t{\t\t\r\n\t\t\tvec4 p = vec4(vertex, 1);\r\n\t\t\tfloat sw = Screen.x * 0.5;\r\n\t\t\tfloat sh = Screen.y * 0.5;\r\n\t\t\tp.x *= Rect.z / sw;\r\n\t\t\tp.y *= Rect.w / sh;\r\n\t\t\tp.x += Rect.x / sw;\r\n\t\t\tp.y -= Rect.y / sh;\t\t\t\r\n\t\t\tp.x -= 1.0;\r\n\t\t\tp.y += 1.0;\t\t\t\r\n\t\t\tp.z = 0.001;\r\n\t\t\tgl_Position = p;\r\n\t\t\tv_color = Tint;\t\t\r\n\t\t\tv_uv0   = vec2(vertex.x,1.0+vertex.y);\r\n\t\t}\t\t\r\n\t\t</vertex>\t\t\r\n\t\t<fragment>\t\t\t\r\n\t\t\tvarying vec4 v_color;\t\r\n\t\t\tvarying vec2 v_uv0;\r\n\t\t\tuniform sampler2D Texture;\t\t\t\r\n\t\t\tvoid main(void) \r\n\t\t\t{\r\n\t\t\t\tgl_FragColor = texture2D(Texture, v_uv0) * v_color;\r\n\t\t\t}\t\t\t\r\n\t\t</fragment>\t\r\n\t</shader>\t\r\n\t';
q.m_style="";q.verbose=0;ob.Background=0;ob.Opaque=1E3;ob.Transparent=2E3;ob.Overlay=3E3;ob.Interface=4E3;Aa.Zero=0;Aa.One=1;Aa.SrcColor=768;Aa.OneMinusSrcColor=769;Aa.SrcAlpha=770;Aa.OneMinusSrcAlpha=771;Aa.DstAlpha=772;Aa.OneMinusDstAlpha=773;Aa.DstColor=774;Aa.OneMinusDstColor=775;Aa.SrcAlphaSaturate=776;Pb.StaticDraw=35044;Pb.StreamDraw=35040;Pb.DynamicDraw=35048;Wa.Points=0;Wa.Triangles=4;Wa.TriangleStrip=5;Wa.TriangleFan=6;Wa.Lines=1;Wa.LineLoop=2;Wa.LineStrip=3;Qb.None=0;Qb.Front=1;Qb.Back=
2;Ra.Never=512;Ra.Less=513;Ra.Equal=514;Ra.LessEqual=515;Ra.Greater=516;Ra.NotEqual=517;Ra.GreaterEqual=518;Ra.Always=519;qa.ClampX=1;qa.RepeatX=2;qa.ClampY=4;qa.RepeatY=8;qa.ClampZ=16;qa.RepeatZ=32;za.None=0;za.Color=1;za.Depth=2;za.Skybox=4;za.ColorDepth=3;za.SkyboxDepth=6;P.PivotX=1;P.PivotY=2;P.PivotXY=3;P.PositionX=4;P.PositionY=8;P.PositionXY=12;P.SizeX=16;P.SizeY=32;P.SizeXY=48;e.ACTIVE_ATTRIBUTES=35721;e.ACTIVE_TEXTURE=34016;e.ACTIVE_UNIFORMS=35718;e.ALIASED_LINE_WIDTH_RANGE=33902;e.ALIASED_POINT_SIZE_RANGE=
33901;e.ALPHA=6406;e.ALPHA_BITS=3413;e.ALWAYS=519;e.ARRAY_BUFFER=34962;e.ARRAY_BUFFER_BINDING=34964;e.ATTACHED_SHADERS=35717;e.BACK=1029;e.BLEND=3042;e.BLEND_COLOR=32773;e.BLEND_DST_ALPHA=32970;e.BLEND_DST_RGB=32968;e.BLEND_EQUATION=32777;e.BLEND_EQUATION_ALPHA=34877;e.BLEND_EQUATION_RGB=32777;e.BLEND_SRC_ALPHA=32971;e.BLEND_SRC_RGB=32969;e.BLUE_BITS=3412;e.BOOL=35670;e.BOOL_VEC2=35671;e.BOOL_VEC3=35672;e.BOOL_VEC4=35673;e.BROWSER_DEFAULT_WEBGL=37444;e.BUFFER_SIZE=34660;e.BUFFER_USAGE=34661;e.BYTE=
5120;e.CCW=2305;e.CLAMP_TO_EDGE=33071;e.COLOR_ATTACHMENT0=36064;e.COLOR_BUFFER_BIT=16384;e.COLOR_CLEAR_VALUE=3106;e.COLOR_WRITEMASK=3107;e.COMPILE_STATUS=35713;e.COMPRESSED_TEXTURE_FORMATS=34467;e.CONSTANT_ALPHA=32771;e.CONSTANT_COLOR=32769;e.CONTEXT_LOST_WEBGL=37442;e.CULL_FACE=2884;e.CULL_FACE_MODE=2885;e.CURRENT_PROGRAM=35725;e.CURRENT_VERTEX_ATTRIB=34342;e.CW=2304;e.DECR=7683;e.DECR_WRAP=34056;e.DELETE_STATUS=35712;e.DEPTH_ATTACHMENT=36096;e.DEPTH_BITS=3414;e.DEPTH_BUFFER_BIT=256;e.DEPTH_CLEAR_VALUE=
2931;e.DEPTH_COMPONENT=6402;e.DEPTH_COMPONENT16=33189;e.DEPTH_FUNC=2932;e.DEPTH_RANGE=2928;e.DEPTH_STENCIL=34041;e.DEPTH_STENCIL_ATTACHMENT=33306;e.DEPTH_TEST=2929;e.DEPTH_WRITEMASK=2930;e.DITHER=3024;e.DONT_CARE=4352;e.DST_ALPHA=772;e.DST_COLOR=774;e.DYNAMIC_DRAW=35048;e.ELEMENT_ARRAY_BUFFER=34963;e.ELEMENT_ARRAY_BUFFER_BINDING=34965;e.EQUAL=514;e.FASTEST=4353;e.FLOAT=5126;e.FLOAT_MAT2=35674;e.FLOAT_MAT3=35675;e.FLOAT_MAT4=35676;e.FLOAT_VEC2=35664;e.FLOAT_VEC3=35665;e.FLOAT_VEC4=35666;e.FRAGMENT_SHADER=
35632;e.FRAMEBUFFER=36160;e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049;e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048;e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051;e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050;e.FRAMEBUFFER_BINDING=36006;e.FRAMEBUFFER_COMPLETE=36053;e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054;e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057;e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055;e.FRAMEBUFFER_UNSUPPORTED=36061;e.FRONT=1028;e.FRONT_AND_BACK=1032;e.FRONT_FACE=2886;e.FUNC_ADD=32774;
e.FUNC_REVERSE_SUBTRACT=32779;e.FUNC_SUBTRACT=32778;e.GENERATE_MIPMAP_HINT=33170;e.GEQUAL=518;e.GREATER=516;e.GREEN_BITS=3411;e.HIGH_FLOAT=36338;e.HIGH_INT=36341;e.INCR=7682;e.INCR_WRAP=34055;e.INT=5124;e.INT_VEC2=35667;e.INT_VEC3=35668;e.INT_VEC4=35669;e.INVALID_ENUM=1280;e.INVALID_FRAMEBUFFER_OPERATION=1286;e.INVALID_OPERATION=1282;e.INVALID_VALUE=1281;e.INVERT=5386;e.KEEP=7680;e.LEQUAL=515;e.LESS=513;e.LINEAR=9729;e.LINEAR_MIPMAP_LINEAR=9987;e.LINEAR_MIPMAP_NEAREST=9985;e.LINES=1;e.LINE_LOOP=2;
e.LINE_STRIP=3;e.LINE_WIDTH=2849;e.LINK_STATUS=35714;e.LOW_FLOAT=36336;e.LOW_INT=36339;e.LUMINANCE=6409;e.LUMINANCE_ALPHA=6410;e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661;e.MAX_CUBE_MAP_TEXTURE_SIZE=34076;e.MAX_FRAGMENT_UNIFORM_VECTORS=36349;e.MAX_RENDERBUFFER_SIZE=34024;e.MAX_TEXTURE_IMAGE_UNITS=34930;e.MAX_TEXTURE_SIZE=3379;e.MAX_VARYING_VECTORS=36348;e.MAX_VERTEX_ATTRIBS=34921;e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660;e.MAX_VERTEX_UNIFORM_VECTORS=36347;e.MAX_VIEWPORT_DIMS=3386;e.MEDIUM_FLOAT=36337;e.MEDIUM_INT=
36340;e.MIRRORED_REPEAT=33648;e.NEAREST=9728;e.NEAREST_MIPMAP_LINEAR=9986;e.NEAREST_MIPMAP_NEAREST=9984;e.NEVER=512;e.NICEST=4354;e.NONE=0;e.NOTEQUAL=517;e.NO_ERROR_GL=0;e.ONE=1;e.ONE_MINUS_CONSTANT_ALPHA=32772;e.ONE_MINUS_CONSTANT_COLOR=32770;e.ONE_MINUS_DST_ALPHA=773;e.ONE_MINUS_DST_COLOR=775;e.ONE_MINUS_SRC_ALPHA=771;e.ONE_MINUS_SRC_COLOR=769;e.OUT_OF_MEMORY=1285;e.PACK_ALIGNMENT=3333;e.POINTS=0;e.POLYGON_OFFSET_FACTOR=32824;e.POLYGON_OFFSET_FILL=32823;e.POLYGON_OFFSET_UNITS=10752;e.RED_BITS=3410;
e.RENDERBUFFER=36161;e.RENDERBUFFER_ALPHA_SIZE=36179;e.RENDERBUFFER_BINDING=36007;e.RENDERBUFFER_BLUE_SIZE=36178;e.RENDERBUFFER_DEPTH_SIZE=36180;e.RENDERBUFFER_GREEN_SIZE=36177;e.RENDERBUFFER_HEIGHT=36163;e.RENDERBUFFER_INTERNAL_FORMAT=36164;e.RENDERBUFFER_RED_SIZE=36176;e.RENDERBUFFER_STENCIL_SIZE=36181;e.RENDERBUFFER_WIDTH=36162;e.RENDERER=7937;e.REPEAT=10497;e.REPLACE=7681;e.RGB=6407;e.RGB565=36194;e.RGB5_A1=32855;e.RGBA=6408;e.RGBA4=32854;e.SAMPLER_2D=35678;e.SAMPLER_CUBE=35680;e.SAMPLES=32937;
e.SAMPLE_ALPHA_TO_COVERAGE=32926;e.SAMPLE_BUFFERS=32936;e.SAMPLE_COVERAGE=32928;e.SAMPLE_COVERAGE_INVERT=32939;e.SAMPLE_COVERAGE_VALUE=32938;e.SCISSOR_BOX=3088;e.SCISSOR_TEST=3089;e.SHADER_TYPE=35663;e.SHADING_LANGUAGE_VERSION=35724;e.SHORT=5122;e.SRC_ALPHA=770;e.SRC_ALPHA_SATURATE=776;e.SRC_COLOR=768;e.STATIC_DRAW=35044;e.STENCIL_ATTACHMENT=36128;e.STENCIL_BACK_FAIL=34817;e.STENCIL_BACK_FUNC=34816;e.STENCIL_BACK_PASS_DEPTH_FAIL=34818;e.STENCIL_BACK_PASS_DEPTH_PASS=34819;e.STENCIL_BACK_REF=36003;
e.STENCIL_BACK_VALUE_MASK=36004;e.STENCIL_BACK_WRITEMASK=36005;e.STENCIL_BITS=3415;e.STENCIL_BUFFER_BIT=1024;e.STENCIL_CLEAR_VALUE=2961;e.STENCIL_FAIL=2964;e.STENCIL_FUNC=2962;e.STENCIL_INDEX=6401;e.STENCIL_INDEX8=36168;e.STENCIL_PASS_DEPTH_FAIL=2965;e.STENCIL_PASS_DEPTH_PASS=2966;e.STENCIL_REF=2967;e.STENCIL_TEST=2960;e.STENCIL_VALUE_MASK=2963;e.STENCIL_WRITEMASK=2968;e.STREAM_DRAW=35040;e.SUBPIXEL_BITS=3408;e.TEXTURE=5890;e.TEXTURE0=33984;e.TEXTURE1=33985;e.TEXTURE10=33994;e.TEXTURE11=33995;e.TEXTURE12=
33996;e.TEXTURE13=33997;e.TEXTURE14=33998;e.TEXTURE15=33999;e.TEXTURE16=34E3;e.TEXTURE17=34001;e.TEXTURE18=34002;e.TEXTURE19=34003;e.TEXTURE2=33986;e.TEXTURE20=34004;e.TEXTURE21=34005;e.TEXTURE22=34006;e.TEXTURE23=34007;e.TEXTURE24=34008;e.TEXTURE25=34009;e.TEXTURE26=34010;e.TEXTURE27=34011;e.TEXTURE28=34012;e.TEXTURE29=34013;e.TEXTURE3=33987;e.TEXTURE30=34014;e.TEXTURE31=34015;e.TEXTURE4=33988;e.TEXTURE5=33989;e.TEXTURE6=33990;e.TEXTURE7=33991;e.TEXTURE8=33992;e.TEXTURE9=33993;e.TEXTURE_2D=3553;
e.TEXTURE_BINDING_2D=32873;e.TEXTURE_BINDING_CUBE_MAP=34068;e.TEXTURE_CUBE_MAP=34067;e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070;e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072;e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074;e.TEXTURE_CUBE_MAP_POSITIVE_X=34069;e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071;e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073;e.TEXTURE_MAG_FILTER=10240;e.TEXTURE_MIN_FILTER=10241;e.TEXTURE_WRAP_S=10242;e.TEXTURE_WRAP_T=10243;e.TRIANGLES=4;e.TRIANGLE_FAN=6;e.TRIANGLE_STRIP=5;e.UNPACK_ALIGNMENT=3317;e.UNPACK_COLORSPACE_CONVERSION_WEBGL=
37443;e.UNPACK_FLIP_Y_WEBGL=37440;e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441;e.UNSIGNED_BYTE=5121;e.UNSIGNED_INT=5125;e.UNSIGNED_SHORT=5123;e.UNSIGNED_SHORT_4_4_4_4=32819;e.UNSIGNED_SHORT_5_5_5_1=32820;e.UNSIGNED_SHORT_5_6_5=33635;e.VALIDATE_STATUS=35715;e.VENDOR=7936;e.VERSION=7938;e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975;e.VERTEX_ATTRIB_ARRAY_ENABLED=34338;e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922;e.VERTEX_ATTRIB_ARRAY_POINTER=34373;e.VERTEX_ATTRIB_ARRAY_SIZE=34339;e.VERTEX_ATTRIB_ARRAY_STRIDE=34340;
e.VERTEX_ATTRIB_ARRAY_TYPE=34341;e.VERTEX_SHADER=35633;e.VIEWPORT=2978;e.ZERO=0;e.VERTEX_ARRAY_OBJECT=!1;e.HALF_FLOAT=5126;e.TEXTURE_HALF=!1;e.TEXTURE_HALF_LINEAR=!1;e.TEXTURE_ANISOTROPY=-1;e.TEXTURE_ANISOTROPY_ENABLED=!1;e.MAX_TEXTURE_ANISOTROPY=1;e.TEXTURE_FLOAT=!1;e.TEXTURE_FLOAT_LINEAR=!1;e.TEXTURE_DEPTH_ENABLED=!1;e.MAX_ACTIVE_TEXTURE=8;aa.m_last_viewport=ja.get_empty();n.scroll=!1;n.menu=!1;n.emulateTouch=!1;Da.analogBias=[.1,.9];Da.buttonBias=.9;Da.available=!1;f.Modifiers=-65536;f.None=0;
f.Mouse0=1;f.Mouse1=2;f.Cancel=3;f.Mouse2=4;f.Mouse3=5;f.Mouse4=6;f.Back=8;f.Tab=9;f.LineFeed=10;f.Clear=12;f.Enter=13;f.Return=13;f.ShiftKey=16;f.ControlKey=17;f.Alt=18;f.Pause=19;f.CapsLock=20;f.Capital=20;f.KanaMode=21;f.HanguelMode=21;f.HangulMode=21;f.JunjaMode=23;f.FinalMode=24;f.KanjiMode=25;f.HanjaMode=25;f.Escape=27;f.IMEConvert=28;f.IMENonconvert=29;f.IMEAceept=30;f.IMEAccept=30;f.IMEModeChange=31;f.Space=32;f.Prior=33;f.PageUp=33;f.Next=34;f.PageDown=34;f.End=35;f.Home=36;f.Left=37;f.Up=
38;f.Right=39;f.Down=40;f.Select=41;f.Print=42;f.Execute=43;f.PrintScreen=44;f.Snapshot=44;f.Insert=45;f.Delete=46;f.Help=47;f.D0=48;f.D1=49;f.D2=50;f.D3=51;f.D4=52;f.D5=53;f.D6=54;f.D7=55;f.D8=56;f.D9=57;f.A=65;f.B=66;f.C=67;f.D=68;f.E=69;f.F=70;f.G=71;f.H=72;f.I=73;f.J=74;f.K=75;f.L=76;f.M=77;f.N=78;f.O=79;f.P=80;f.Q=81;f.R=82;f.S=83;f.T=84;f.U=85;f.V=86;f.W=87;f.X=88;f.Y=89;f.Z=90;f.LWin=91;f.RWin=92;f.Apps=93;f.Sleep=95;f.NumPad0=96;f.NumPad1=97;f.NumPad2=98;f.NumPad3=99;f.NumPad4=100;f.NumPad5=
101;f.NumPad6=102;f.NumPad7=103;f.NumPad8=104;f.NumPad9=105;f.Multiply=106;f.Add=107;f.Separator=108;f.Subtract=109;f.Decimal=110;f.Divide=111;f.F1=112;f.F2=113;f.F3=114;f.F4=115;f.F5=116;f.F6=117;f.F7=118;f.F8=119;f.F9=120;f.F10=121;f.F11=122;f.F12=123;f.F13=124;f.F14=125;f.F15=126;f.F16=127;f.F17=128;f.F18=129;f.F19=130;f.F20=131;f.F21=132;f.F22=133;f.F23=134;f.F24=135;f.NumLock=144;f.Scroll=145;f.LShiftKey=160;f.RShiftKey=161;f.LControlKey=162;f.RControlKey=163;f.LAlt=164;f.RAlt=165;f.BrowserBack=
166;f.BrowserForward=167;f.BrowserRefresh=168;f.BrowserStop=169;f.BrowserSearch=170;f.BrowserFavorites=171;f.BrowserHome=172;f.VolumeMute=173;f.VolumeDown=174;f.VolumeUp=175;f.MediaNextTrack=176;f.MediaPreviousTrack=177;f.MediaStop=178;f.MediaPlayPause=179;f.LaunchMail=180;f.SelectMedia=181;f.LaunchApplication1=182;f.LaunchApplication2=183;f.Oem1=186;f.OemSemicolon=186;f.Oemplus=187;f.Oemcomma=188;f.OemMinus=189;f.OemPeriod=190;f.OemQuestion=191;f.Oem2=191;f.Oemtilde=192;f.Oem3=192;f.Oem4=219;f.OemOpenBrackets=
219;f.OemPipe=220;f.Oem5=220;f.Oem6=221;f.OemCloseBrackets=221;f.Oem7=222;f.OemQuotes=222;f.Oem8=223;f.Oem102=226;f.OemBackslash=226;f.ProcessKey=229;f.Packet=231;f.Attn=246;f.Crsel=247;f.Exsel=248;f.EraseEof=249;f.Play=250;f.Zoom=251;f.NoName=252;f.Pa1=253;f.OemClear=254;f.KeyCodeMask=65535;f.ShiftModifier=65536;f.ControlModifier=131072;f.AltModifier=262144;f.Face1=0;f.Face2=1;f.Face3=2;f.Face4=3;f.ButtonA=0;f.ButtonB=1;f.ButtonX=2;f.ButtonY=3;f.LeftShoulder=4;f.RightShoulder=5;f.LeftShoulderBottom=
6;f.RightShoulderBottom=7;f.ButtonSelect=8;f.ButtonStart=9;f.LeftAnalogueStick=10;f.RightAnalogueStick=11;f.PadTop=12;f.PadBottom=13;f.PadLeft=14;f.PadRight=15;f.LeftAnalogueHor=0;f.LeftAnalogueVert=1;f.RightAnalogueHor=2;f.RightAnalogueVert=3;S.m_database=new Va;k.Epsilon=1E-4;k.NaN=Math.NaN;k.Infinity=Math.POSITIVE_INFINITY;k.NegativeInfinity=Math.NEGATIVE_INFINITY;k.E=2.718281828459045;k.PI=3.141592653589793;k.HalfPI=1.5707963267948966;k.PI2=6.283185307179586;k.PI4=12.566370614359172;k.InvPI=.3183098861837907;
k.Rad2Deg=57.29577951308232;k.Deg2Rad=.017453292519943295;k.Px2Em=.063;k.Em2Px=15.87301587301587;k.Byte2Float=.00392156863;k.Short2Float=1.52587890625E-5;k.Long2Float=2.3283064365386963E-10;k.Float2Byte=255;k.Float2Short=65536;k.Float2Long=4294967296;oa.root="";$a.main()})();
